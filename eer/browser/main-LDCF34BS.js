var $E=Object.create;var Gd=Object.defineProperty,GE=Object.defineProperties,WE=Object.getOwnPropertyDescriptor,qE=Object.getOwnPropertyDescriptors,zE=Object.getOwnPropertyNames,e0=Object.getOwnPropertySymbols,KE=Object.getPrototypeOf,n0=Object.prototype.hasOwnProperty,YE=Object.prototype.propertyIsEnumerable;var t0=(e,t,i)=>t in e?Gd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Q=(e,t)=>{for(var i in t||={})n0.call(t,i)&&t0(e,i,t[i]);if(e0)for(var i of e0(t))YE.call(t,i)&&t0(e,i,t[i]);return e},nt=(e,t)=>GE(e,qE(t));var JE=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ZE=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of zE(t))!n0.call(e,r)&&r!==i&&Gd(e,r,{get:()=>t[r],enumerable:!(n=WE(t,r))||n.enumerable});return e};var QE=(e,t,i)=>(i=e!=null?$E(KE(e)):{},ZE(t||!e||!e.__esModule?Gd(i,"default",{value:e,enumerable:!0}):i,e));var qe=(e,t,i)=>new Promise((n,r)=>{var s=u=>{try{a(i.next(u))}catch(l){r(l)}},o=u=>{try{a(i.throw(u))}catch(l){r(l)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((i=i.apply(e,t)).next())});var BE=JE(K=>{"use strict";var yu={};yu.userAgent=!1;var Wo={},c3="11.1.0",d3="jsrsasign(all) 11.1.0 (2024-02-01) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license";var Y=Y||function(e,t){var i={},n=i.lib={},r=n.Base=function(){function f(){}return{extend:function(v){f.prototype=this;var p=new f;return v&&p.mixIn(v),p.hasOwnProperty("init")||(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var p in v)v.hasOwnProperty(p)&&(this[p]=v[p]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=n.WordArray=r.extend({init:function(f,v){f=this.words=f||[],v!=t?this.sigBytes=v:this.sigBytes=f.length*4},toString:function(f){return(f||a).stringify(this)},concat:function(f){var v=this.words,p=f.words,y=this.sigBytes,m=f.sigBytes;if(this.clamp(),y%4)for(var b=0;b<m;b++){var E=p[b>>>2]>>>24-b%4*8&255;v[y+b>>>2]|=E<<24-(y+b)%4*8}else for(var b=0;b<m;b+=4)v[y+b>>>2]=p[b>>>2];return this.sigBytes+=m,this},clamp:function(){var f=this.words,v=this.sigBytes;f[v>>>2]&=4294967295<<32-v%4*8,f.length=e.ceil(v/4)},clone:function(){var f=r.clone.call(this);return f.words=this.words.slice(0),f},random:function(f){for(var v=[],p=0;p<f;p+=4)v.push(e.random()*4294967296|0);return new s.init(v,f)}}),o=i.enc={},a=o.Hex={stringify:function(f){for(var v=f.words,p=f.sigBytes,y=[],m=0;m<p;m++){var b=v[m>>>2]>>>24-m%4*8&255;y.push((b>>>4).toString(16)),y.push((b&15).toString(16))}return y.join("")},parse:function(f){for(var v=f.length,p=[],y=0;y<v;y+=2)p[y>>>3]|=parseInt(f.substr(y,2),16)<<24-y%8*4;return new s.init(p,v/2)}},u=o.Latin1={stringify:function(f){for(var v=f.words,p=f.sigBytes,y=[],m=0;m<p;m++){var b=v[m>>>2]>>>24-m%4*8&255;y.push(String.fromCharCode(b))}return y.join("")},parse:function(f){for(var v=f.length,p=[],y=0;y<v;y++)p[y>>>2]|=(f.charCodeAt(y)&255)<<24-y%4*8;return new s.init(p,v)}},l=o.Utf8={stringify:function(f){try{return decodeURIComponent(escape(u.stringify(f)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(f){return u.parse(unescape(encodeURIComponent(f)))}},h=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(f){typeof f=="string"&&(f=l.parse(f)),this._data.concat(f),this._nDataBytes+=f.sigBytes},_process:function(f){var v=this._data,p=v.words,y=v.sigBytes,m=this.blockSize,b=m*4,E=y/b;f?E=e.ceil(E):E=e.max((E|0)-this._minBufferSize,0);var D=E*m,C=e.min(D*4,y);if(D){for(var O=0;O<D;O+=m)this._doProcessBlock(p,O);var k=p.splice(0,D);v.sigBytes-=C}return new s.init(k,C)},clone:function(){var f=r.clone.call(this);return f._data=this._data.clone(),f},_minBufferSize:0}),g=n.Hasher=h.extend({cfg:r.extend(),init:function(f){this.cfg=this.cfg.extend(f),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(f){return this._append(f),this._process(),this},finalize:function(f){f&&this._append(f);var v=this._doFinalize();return v},blockSize:512/32,_createHelper:function(f){return function(v,p){return new f.init(p).finalize(v)}},_createHmacHelper:function(f){return function(v,p){return new d.HMAC.init(f,p).finalize(v)}}}),d=i.algo={};return i}(Math);(function(e){var r=Y,t=r.lib,i=t.Base,n=t.WordArray,r=r.x64={};r.Word=i.extend({init:function(s,o){this.high=s,this.low=o}}),r.WordArray=i.extend({init:function(s,o){s=this.words=s||[],this.sigBytes=o!=e?o:8*s.length},toX32:function(){for(var s=this.words,o=s.length,a=[],u=0;u<o;u++){var l=s[u];a.push(l.high),a.push(l.low)}return n.create(a,this.sigBytes)},clone:function(){for(var s=i.clone.call(this),o=s.words=this.words.slice(0),a=o.length,u=0;u<a;u++)o[u]=o[u].clone();return s}})})();Y.lib.Cipher||function(e){var f=Y,t=f.lib,i=t.Base,n=t.WordArray,r=t.BufferedBlockAlgorithm,s=f.enc.Base64,o=f.algo.EvpKDF,a=t.Cipher=r.extend({cfg:i.extend(),createEncryptor:function(p,y){return this.create(this._ENC_XFORM_MODE,p,y)},createDecryptor:function(p,y){return this.create(this._DEC_XFORM_MODE,p,y)},init:function(p,y,m){this.cfg=this.cfg.extend(m),this._xformMode=p,this._key=y,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(p){return this._append(p),this._process()},finalize:function(p){return p&&this._append(p),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(p){return{encrypt:function(y,m,b){return(typeof m=="string"?v:d).encrypt(p,y,m,b)},decrypt:function(y,m,b){return(typeof m=="string"?v:d).decrypt(p,y,m,b)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var g=f.mode={},u=function(p,y,m){var b=this._iv;b?this._iv=e:b=this._prevBlock;for(var E=0;E<m;E++)p[y+E]^=b[E]},l=(t.BlockCipherMode=i.extend({createEncryptor:function(p,y){return this.Encryptor.create(p,y)},createDecryptor:function(p,y){return this.Decryptor.create(p,y)},init:function(p,y){this._cipher=p,this._iv=y}})).extend();l.Encryptor=l.extend({processBlock:function(p,y){var m=this._cipher,b=m.blockSize;u.call(this,p,y,b),m.encryptBlock(p,y),this._prevBlock=p.slice(y,y+b)}}),l.Decryptor=l.extend({processBlock:function(p,y){var m=this._cipher,b=m.blockSize,E=p.slice(y,y+b);m.decryptBlock(p,y),u.call(this,p,y,b),this._prevBlock=E}}),g=g.CBC=l,l=(f.pad={}).Pkcs7={pad:function(p,y){for(var m=4*y,m=m-p.sigBytes%m,b=m<<24|m<<16|m<<8|m,E=[],D=0;D<m;D+=4)E.push(b);m=n.create(E,m),p.concat(m)},unpad:function(p){p.sigBytes-=p.words[p.sigBytes-1>>>2]&255}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:g,padding:l}),reset:function(){a.reset.call(this);var y=this.cfg,p=y.iv,y=y.mode;if(this._xformMode==this._ENC_XFORM_MODE)var m=y.createEncryptor;else m=y.createDecryptor,this._minBufferSize=1;this._mode=m.call(y,this,p&&p.words)},_doProcessBlock:function(p,y){this._mode.processBlock(p,y)},_doFinalize:function(){var p=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){p.pad(this._data,this.blockSize);var y=this._process(!0)}else y=this._process(!0),p.unpad(y);return y},blockSize:4});var h=t.CipherParams=i.extend({init:function(p){this.mixIn(p)},toString:function(p){return(p||this.formatter).stringify(this)}}),g=(f.format={}).OpenSSL={stringify:function(p){var y=p.ciphertext;return p=p.salt,(p?n.create([1398893684,1701076831]).concat(p).concat(y):y).toString(s)},parse:function(p){p=s.parse(p);var y=p.words;if(y[0]==1398893684&&y[1]==1701076831){var m=n.create(y.slice(2,4));y.splice(0,4),p.sigBytes-=16}return h.create({ciphertext:p,salt:m})}},d=t.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(p,y,m,b){b=this.cfg.extend(b);var E=p.createEncryptor(m,b);return y=E.finalize(y),E=E.cfg,h.create({ciphertext:y,key:m,iv:E.iv,algorithm:p,mode:E.mode,padding:E.padding,blockSize:p.blockSize,formatter:b.format})},decrypt:function(p,y,m,b){return b=this.cfg.extend(b),y=this._parse(y,b.format),p.createDecryptor(m,b).finalize(y.ciphertext)},_parse:function(p,y){return typeof p=="string"?y.parse(p,this):p}}),f=(f.kdf={}).OpenSSL={execute:function(p,y,m,b){return b||(b=n.random(8)),p=o.create({keySize:y+m}).compute(p,b),m=n.create(p.words.slice(y),4*m),p.sigBytes=4*y,h.create({key:p,iv:m,salt:b})}},v=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:f}),encrypt:function(p,y,m,b){return b=this.cfg.extend(b),m=b.kdf.execute(m,p.keySize,p.ivSize),b.iv=m.iv,p=d.encrypt.call(this,p,y,m.key,b),p.mixIn(m),p},decrypt:function(p,y,m,b){return b=this.cfg.extend(b),y=this._parse(y,b.format),m=b.kdf.execute(m,p.keySize,p.ivSize,y.salt),b.iv=m.iv,d.decrypt.call(this,p,y,m.key,b)}})}();(function(){for(var e=Y,t=e.lib.BlockCipher,O=e.algo,i=[],n=[],r=[],s=[],o=[],a=[],u=[],l=[],h=[],g=[],d=[],f=0;256>f;f++)d[f]=128>f?f<<1:f<<1^283;for(var v=0,p=0,f=0;256>f;f++){var y=p^p<<1^p<<2^p<<3^p<<4,y=y>>>8^y&255^99;i[v]=y,n[y]=v;var m=d[v],b=d[m],E=d[b],D=257*d[y]^16843008*y;r[v]=D<<24|D>>>8,s[v]=D<<16|D>>>16,o[v]=D<<8|D>>>24,a[v]=D,D=16843009*E^65537*b^257*m^16843008*v,u[y]=D<<24|D>>>8,l[y]=D<<16|D>>>16,h[y]=D<<8|D>>>24,g[y]=D,v?(v=m^d[d[d[E^m]]],p^=d[d[p]]):v=p=1}var C=[0,1,2,4,8,16,32,64,128,27,54],O=O.AES=t.extend({_doReset:function(){for(var w=this._key,k=w.words,_=w.sigBytes/4,w=4*((this._nRounds=_+6)+1),S=this._keySchedule=[],x=0;x<w;x++)if(x<_)S[x]=k[x];else{var T=S[x-1];x%_?6<_&&x%_==4&&(T=i[T>>>24]<<24|i[T>>>16&255]<<16|i[T>>>8&255]<<8|i[T&255]):(T=T<<8|T>>>24,T=i[T>>>24]<<24|i[T>>>16&255]<<16|i[T>>>8&255]<<8|i[T&255],T^=C[x/_|0]<<24),S[x]=S[x-_]^T}for(k=this._invKeySchedule=[],_=0;_<w;_++)x=w-_,T=_%4?S[x]:S[x-4],k[_]=4>_||4>=x?T:u[i[T>>>24]]^l[i[T>>>16&255]]^h[i[T>>>8&255]]^g[i[T&255]]},encryptBlock:function(k,_){this._doCryptBlock(k,_,this._keySchedule,r,s,o,a,i)},decryptBlock:function(k,_){var w=k[_+1];k[_+1]=k[_+3],k[_+3]=w,this._doCryptBlock(k,_,this._invKeySchedule,u,l,h,g,n),w=k[_+1],k[_+1]=k[_+3],k[_+3]=w},_doCryptBlock:function(k,_,w,S,x,T,N,I){for(var A=this._nRounds,be=k[_]^w[0],Ke=k[_+1]^w[1],Be=k[_+2]^w[2],Se=k[_+3]^w[3],R=4,V=1;V<A;V++)var ie=S[be>>>24]^x[Ke>>>16&255]^T[Be>>>8&255]^N[Se&255]^w[R++],re=S[Ke>>>24]^x[Be>>>16&255]^T[Se>>>8&255]^N[be&255]^w[R++],se=S[Be>>>24]^x[Se>>>16&255]^T[be>>>8&255]^N[Ke&255]^w[R++],Se=S[Se>>>24]^x[be>>>16&255]^T[Ke>>>8&255]^N[Be&255]^w[R++],be=ie,Ke=re,Be=se;ie=(I[be>>>24]<<24|I[Ke>>>16&255]<<16|I[Be>>>8&255]<<8|I[Se&255])^w[R++],re=(I[Ke>>>24]<<24|I[Be>>>16&255]<<16|I[Se>>>8&255]<<8|I[be&255])^w[R++],se=(I[Be>>>24]<<24|I[Se>>>16&255]<<16|I[be>>>8&255]<<8|I[Ke&255])^w[R++],Se=(I[Se>>>24]<<24|I[be>>>16&255]<<16|I[Ke>>>8&255]<<8|I[Be&255])^w[R++],k[_]=ie,k[_+1]=re,k[_+2]=se,k[_+3]=Se},keySize:8});e.AES=t._createHelper(O)})();(function(){function e(d,f){var v=(this._lBlock>>>d^this._rBlock)&f;this._rBlock^=v,this._lBlock^=v<<d}function t(d,f){var v=(this._rBlock>>>d^this._lBlock)&f;this._lBlock^=v,this._rBlock^=v<<d}var i=Y,r=i.lib,n=r.WordArray,r=r.BlockCipher,s=i.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=s.DES=r.extend({_doReset:function(){for(var d=this._key.words,f=[],v=0;56>v;v++){var p=o[v]-1;f[v]=d[p>>>5]>>>31-p%32&1}for(d=this._subKeys=[],p=0;16>p;p++){for(var y=d[p]=[],m=u[p],v=0;24>v;v++)y[v/6|0]|=f[(a[v]-1+m)%28]<<31-v%6,y[4+(v/6|0)]|=f[28+(a[v+24]-1+m)%28]<<31-v%6;for(y[0]=y[0]<<1|y[0]>>>31,v=1;7>v;v++)y[v]>>>=4*(v-1)+3;y[7]=y[7]<<5|y[7]>>>27}for(f=this._invSubKeys=[],v=0;16>v;v++)f[v]=d[15-v]},encryptBlock:function(d,f){this._doCryptBlock(d,f,this._subKeys)},decryptBlock:function(d,f){this._doCryptBlock(d,f,this._invSubKeys)},_doCryptBlock:function(d,f,v){this._lBlock=d[f],this._rBlock=d[f+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var p=0;16>p;p++){for(var y=v[p],m=this._lBlock,b=this._rBlock,E=0,D=0;8>D;D++)E|=l[D][((b^y[D])&h[D])>>>0];this._lBlock=b,this._rBlock=m^E}v=this._lBlock,this._lBlock=this._rBlock,this._rBlock=v,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),d[f]=this._lBlock,d[f+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=r._createHelper(g),s=s.TripleDES=r.extend({_doReset:function(){var d=this._key.words;this._des1=g.createEncryptor(n.create(d.slice(0,2))),this._des2=g.createEncryptor(n.create(d.slice(2,4))),this._des3=g.createEncryptor(n.create(d.slice(4,6)))},encryptBlock:function(d,f){this._des1.encryptBlock(d,f),this._des2.decryptBlock(d,f),this._des3.encryptBlock(d,f)},decryptBlock:function(d,f){this._des3.decryptBlock(d,f),this._des2.encryptBlock(d,f),this._des1.decryptBlock(d,f)},keySize:6,ivSize:2,blockSize:2}),i.TripleDES=r._createHelper(s)})();(function(){var e=Y,t=e.lib.WordArray;e.enc.Base64={stringify:function(i){var n=i.words,r=i.sigBytes,s=this._map;i.clamp(),i=[];for(var o=0;o<r;o+=3)for(var a=(n[o>>>2]>>>24-8*(o%4)&255)<<16|(n[o+1>>>2]>>>24-8*((o+1)%4)&255)<<8|n[o+2>>>2]>>>24-8*((o+2)%4)&255,u=0;4>u&&o+.75*u<r;u++)i.push(s.charAt(a>>>6*(3-u)&63));if(n=s.charAt(64))for(;i.length%4;)i.push(n);return i.join("")},parse:function(i){var n=i.length,r=this._map,s=r.charAt(64);s&&(s=i.indexOf(s),s!=-1&&(n=s));for(var s=[],o=0,a=0;a<n;a++)if(a%4){var u=r.indexOf(i.charAt(a-1))<<2*(a%4),l=r.indexOf(i.charAt(a))>>>6-2*(a%4);s[o>>>2]|=(u|l)<<24-8*(o%4),o++}return t.create(s,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(e){function t(g,d,f,v,p,y,m){return g=g+(d&f|~d&v)+p+m,(g<<y|g>>>32-y)+d}function i(g,d,f,v,p,y,m){return g=g+(d&v|f&~v)+p+m,(g<<y|g>>>32-y)+d}function n(g,d,f,v,p,y,m){return g=g+(d^f^v)+p+m,(g<<y|g>>>32-y)+d}function r(g,d,f,v,p,y,m){return g=g+(f^(d|~v))+p+m,(g<<y|g>>>32-y)+d}for(var s=Y,u=s.lib,o=u.WordArray,a=u.Hasher,u=s.algo,l=[],h=0;64>h;h++)l[h]=4294967296*e.abs(e.sin(h+1))|0;u=u.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,d){for(var f=0;16>f;f++){var v=d+f,p=g[v];g[v]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var f=this._hash.words,v=g[d+0],p=g[d+1],y=g[d+2],m=g[d+3],b=g[d+4],E=g[d+5],D=g[d+6],C=g[d+7],O=g[d+8],k=g[d+9],_=g[d+10],w=g[d+11],S=g[d+12],x=g[d+13],T=g[d+14],N=g[d+15],I=f[0],V=f[1],R=f[2],A=f[3],I=t(I,V,R,A,v,7,l[0]),A=t(A,I,V,R,p,12,l[1]),R=t(R,A,I,V,y,17,l[2]),V=t(V,R,A,I,m,22,l[3]),I=t(I,V,R,A,b,7,l[4]),A=t(A,I,V,R,E,12,l[5]),R=t(R,A,I,V,D,17,l[6]),V=t(V,R,A,I,C,22,l[7]),I=t(I,V,R,A,O,7,l[8]),A=t(A,I,V,R,k,12,l[9]),R=t(R,A,I,V,_,17,l[10]),V=t(V,R,A,I,w,22,l[11]),I=t(I,V,R,A,S,7,l[12]),A=t(A,I,V,R,x,12,l[13]),R=t(R,A,I,V,T,17,l[14]),V=t(V,R,A,I,N,22,l[15]),I=i(I,V,R,A,p,5,l[16]),A=i(A,I,V,R,D,9,l[17]),R=i(R,A,I,V,w,14,l[18]),V=i(V,R,A,I,v,20,l[19]),I=i(I,V,R,A,E,5,l[20]),A=i(A,I,V,R,_,9,l[21]),R=i(R,A,I,V,N,14,l[22]),V=i(V,R,A,I,b,20,l[23]),I=i(I,V,R,A,k,5,l[24]),A=i(A,I,V,R,T,9,l[25]),R=i(R,A,I,V,m,14,l[26]),V=i(V,R,A,I,O,20,l[27]),I=i(I,V,R,A,x,5,l[28]),A=i(A,I,V,R,y,9,l[29]),R=i(R,A,I,V,C,14,l[30]),V=i(V,R,A,I,S,20,l[31]),I=n(I,V,R,A,E,4,l[32]),A=n(A,I,V,R,O,11,l[33]),R=n(R,A,I,V,w,16,l[34]),V=n(V,R,A,I,T,23,l[35]),I=n(I,V,R,A,p,4,l[36]),A=n(A,I,V,R,b,11,l[37]),R=n(R,A,I,V,C,16,l[38]),V=n(V,R,A,I,_,23,l[39]),I=n(I,V,R,A,x,4,l[40]),A=n(A,I,V,R,v,11,l[41]),R=n(R,A,I,V,m,16,l[42]),V=n(V,R,A,I,D,23,l[43]),I=n(I,V,R,A,k,4,l[44]),A=n(A,I,V,R,S,11,l[45]),R=n(R,A,I,V,N,16,l[46]),V=n(V,R,A,I,y,23,l[47]),I=r(I,V,R,A,v,6,l[48]),A=r(A,I,V,R,C,10,l[49]),R=r(R,A,I,V,T,15,l[50]),V=r(V,R,A,I,E,21,l[51]),I=r(I,V,R,A,S,6,l[52]),A=r(A,I,V,R,m,10,l[53]),R=r(R,A,I,V,_,15,l[54]),V=r(V,R,A,I,p,21,l[55]),I=r(I,V,R,A,O,6,l[56]),A=r(A,I,V,R,N,10,l[57]),R=r(R,A,I,V,D,15,l[58]),V=r(V,R,A,I,x,21,l[59]),I=r(I,V,R,A,b,6,l[60]),A=r(A,I,V,R,w,10,l[61]),R=r(R,A,I,V,y,15,l[62]),V=r(V,R,A,I,k,21,l[63]);f[0]=f[0]+I|0,f[1]=f[1]+V|0,f[2]=f[2]+R|0,f[3]=f[3]+A|0},_doFinalize:function(){var g=this._data,d=g.words,f=8*this._nDataBytes,v=8*g.sigBytes;d[v>>>5]|=128<<24-v%32;var p=e.floor(f/4294967296);for(d[(v+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,d[(v+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,g.sigBytes=4*(d.length+1),this._process(),g=this._hash,d=g.words,f=0;4>f;f++)v=d[f],d[f]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360;return g},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}}),s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)})(Math);(function(){var e=Y,r=e.lib,t=r.WordArray,i=r.Hasher,n=[],r=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(s,o){for(var a=this._hash.words,u=a[0],l=a[1],h=a[2],g=a[3],d=a[4],f=0;80>f;f++){if(16>f)n[f]=s[o+f]|0;else{var v=n[f-3]^n[f-8]^n[f-14]^n[f-16];n[f]=v<<1|v>>>31}v=(u<<5|u>>>27)+d+n[f],v=20>f?v+((l&h|~l&g)+1518500249):40>f?v+((l^h^g)+1859775393):60>f?v+((l&h|l&g|h&g)-1894007588):v+((l^h^g)-899497514),d=g,g=h,h=l<<30|l>>>2,l=u,u=v}a[0]=a[0]+u|0,a[1]=a[1]+l|0,a[2]=a[2]+h|0,a[3]=a[3]+g|0,a[4]=a[4]+d|0},_doFinalize:function(){var s=this._data,o=s.words,a=8*this._nDataBytes,u=8*s.sigBytes;return o[u>>>5]|=128<<24-u%32,o[(u+64>>>9<<4)+14]=Math.floor(a/4294967296),o[(u+64>>>9<<4)+15]=a,s.sigBytes=4*o.length,this._process(),this._hash},clone:function(){var s=i.clone.call(this);return s._hash=this._hash.clone(),s}});e.SHA1=i._createHelper(r),e.HmacSHA1=i._createHmacHelper(r)})();(function(e){for(var t=Y,f=t.lib,i=f.WordArray,n=f.Hasher,f=t.algo,r=[],s=[],o=function(p){return 4294967296*(p-(p|0))|0},a=2,u=0;64>u;){var l;e:{l=a;for(var h=e.sqrt(l),g=2;g<=h;g++)if(!(l%g)){l=!1;break e}l=!0}l&&(8>u&&(r[u]=o(e.pow(a,.5))),s[u]=o(e.pow(a,1/3)),u++),a++}var d=[],f=f.SHA256=n.extend({_doReset:function(){this._hash=new i.init(r.slice(0))},_doProcessBlock:function(v,p){for(var y=this._hash.words,m=y[0],b=y[1],E=y[2],D=y[3],C=y[4],O=y[5],k=y[6],_=y[7],w=0;64>w;w++){if(16>w)d[w]=v[p+w]|0;else{var S=d[w-15],x=d[w-2];d[w]=((S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3)+d[w-7]+((x<<15|x>>>17)^(x<<13|x>>>19)^x>>>10)+d[w-16]}S=_+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&O^~C&k)+s[w]+d[w],x=((m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22))+(m&b^m&E^b&E),_=k,k=O,O=C,C=D+S|0,D=E,E=b,b=m,m=S+x|0}y[0]=y[0]+m|0,y[1]=y[1]+b|0,y[2]=y[2]+E|0,y[3]=y[3]+D|0,y[4]=y[4]+C|0,y[5]=y[5]+O|0,y[6]=y[6]+k|0,y[7]=y[7]+_|0},_doFinalize:function(){var v=this._data,p=v.words,y=8*this._nDataBytes,m=8*v.sigBytes;return p[m>>>5]|=128<<24-m%32,p[(m+64>>>9<<4)+14]=e.floor(y/4294967296),p[(m+64>>>9<<4)+15]=y,v.sigBytes=4*p.length,this._process(),this._hash},clone:function(){var v=n.clone.call(this);return v._hash=this._hash.clone(),v}});t.SHA256=n._createHelper(f),t.HmacSHA256=n._createHmacHelper(f)})(Math);(function(){var e=Y,t=e.lib.WordArray,n=e.algo,i=n.SHA256,n=n.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var r=i._doFinalize.call(this);return r.sigBytes-=4,r}});e.SHA224=i._createHelper(n),e.HmacSHA224=i._createHmacHelper(n)})();(function(){function e(){return n.create.apply(n,arguments)}for(var t=Y,i=t.lib.Hasher,s=t.x64,n=s.Word,r=s.WordArray,s=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=e();s=s.SHA512=i.extend({_doReset:function(){this._hash=new r.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(l,h){for(var b=this._hash.words,g=b[0],d=b[1],f=b[2],v=b[3],p=b[4],y=b[5],m=b[6],b=b[7],E=g.high,D=g.low,C=d.high,O=d.low,k=f.high,_=f.low,w=v.high,S=v.low,x=p.high,T=p.low,N=y.high,I=y.low,A=m.high,R=m.low,V=b.high,ie=b.low,re=E,se=D,Se=C,be=O,Ke=k,Be=_,Gt=w,Rt=S,St=x,_t=T,Wt=N,We=I,gt=A,ut=R,mt=V,on=ie,Ze=0;80>Ze;Ze++){var yi=a[Ze];if(16>Ze)var an=yi.high=l[h+2*Ze]|0,je=yi.low=l[h+2*Ze+1]|0;else{var an=a[Ze-15],je=an.high,qt=an.low,an=(je>>>1|qt<<31)^(je>>>8|qt<<24)^je>>>7,qt=(qt>>>1|je<<31)^(qt>>>8|je<<24)^(qt>>>7|je<<25),ti=a[Ze-2],je=ti.high,tt=ti.low,ti=(je>>>19|tt<<13)^(je<<3|tt>>>29)^je>>>6,tt=(tt>>>19|je<<13)^(tt<<3|je>>>29)^(tt>>>6|je<<26),je=a[Ze-7],Dr=je.high,Pi=a[Ze-16],$n=Pi.high,Pi=Pi.low,je=qt+je.low,an=an+Dr+(je>>>0<qt>>>0?1:0),je=je+tt,an=an+ti+(je>>>0<tt>>>0?1:0),je=je+Pi,an=an+$n+(je>>>0<Pi>>>0?1:0);yi.high=an,yi.low=je}var Dr=St&Wt^~St&gt,Pi=_t&We^~_t&ut,yi=re&Se^re&Ke^Se&Ke,$d=se&be^se&Be^be&Be,qt=(re>>>28|se<<4)^(re<<30|se>>>2)^(re<<25|se>>>7),ti=(se>>>28|re<<4)^(se<<30|re>>>2)^(se<<25|re>>>7),tt=o[Ze],Du=tt.high,Qo=tt.low,tt=on+((_t>>>14|St<<18)^(_t>>>18|St<<14)^(_t<<23|St>>>9)),$n=mt+((St>>>14|_t<<18)^(St>>>18|_t<<14)^(St<<23|_t>>>9))+(tt>>>0<on>>>0?1:0),tt=tt+Pi,$n=$n+Dr+(tt>>>0<Pi>>>0?1:0),tt=tt+Qo,$n=$n+Du+(tt>>>0<Qo>>>0?1:0),tt=tt+je,$n=$n+an+(tt>>>0<je>>>0?1:0),je=ti+$d,yi=qt+yi+(je>>>0<ti>>>0?1:0),mt=gt,on=ut,gt=Wt,ut=We,Wt=St,We=_t,_t=Rt+tt|0,St=Gt+$n+(_t>>>0<Rt>>>0?1:0)|0,Gt=Ke,Rt=Be,Ke=Se,Be=be,Se=re,be=se,se=tt+je|0,re=$n+yi+(se>>>0<tt>>>0?1:0)|0}D=g.low=D+se,g.high=E+re+(D>>>0<se>>>0?1:0),O=d.low=O+be,d.high=C+Se+(O>>>0<be>>>0?1:0),_=f.low=_+Be,f.high=k+Ke+(_>>>0<Be>>>0?1:0),S=v.low=S+Rt,v.high=w+Gt+(S>>>0<Rt>>>0?1:0),T=p.low=T+_t,p.high=x+St+(T>>>0<_t>>>0?1:0),I=y.low=I+We,y.high=N+Wt+(I>>>0<We>>>0?1:0),R=m.low=R+ut,m.high=A+gt+(R>>>0<ut>>>0?1:0),ie=b.low=ie+on,b.high=V+mt+(ie>>>0<on>>>0?1:0)},_doFinalize:function(){var l=this._data,h=l.words,g=8*this._nDataBytes,d=8*l.sigBytes;return h[d>>>5]|=128<<24-d%32,h[(d+128>>>10<<5)+30]=Math.floor(g/4294967296),h[(d+128>>>10<<5)+31]=g,l.sigBytes=4*h.length,this._process(),this._hash.toX32()},clone:function(){var l=i.clone.call(this);return l._hash=this._hash.clone(),l},blockSize:32}),t.SHA512=i._createHelper(s),t.HmacSHA512=i._createHmacHelper(s)})();(function(){var e=Y,r=e.x64,t=r.Word,i=r.WordArray,r=e.algo,n=r.SHA512,r=r.SHA384=n.extend({_doReset:function(){this._hash=new i.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var s=n._doFinalize.call(this);return s.sigBytes-=16,s}});e.SHA384=n._createHelper(r),e.HmacSHA384=n._createHmacHelper(r)})();(function(){var e=Y,l=e.lib,t=l.WordArray,i=l.Hasher,l=e.algo,n=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]),l=l.RIPEMD160=i.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,g){for(var d=0;16>d;d++){var f=g+d,v=h[f];h[f]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var f=this._hash.words,v=a.words,p=u.words,y=n.words,m=r.words,b=s.words,E=o.words,D,C,O,k,_,w,S,x,T,N;w=D=f[0],S=C=f[1],x=O=f[2],T=k=f[3],N=_=f[4];for(var I,d=0;80>d;d+=1)I=D+h[g+y[d]]|0,I=16>d?I+((C^O^k)+v[0]):32>d?I+((C&O|~C&k)+v[1]):48>d?I+(((C|~O)^k)+v[2]):64>d?I+((C&k|O&~k)+v[3]):I+((C^(O|~k))+v[4]),I|=0,I=I<<b[d]|I>>>32-b[d],I=I+_|0,D=_,_=k,k=O<<10|O>>>22,O=C,C=I,I=w+h[g+m[d]]|0,I=16>d?I+((S^(x|~T))+p[0]):32>d?I+((S&T|x&~T)+p[1]):48>d?I+(((S|~x)^T)+p[2]):64>d?I+((S&x|~S&T)+p[3]):I+((S^x^T)+p[4]),I|=0,I=I<<E[d]|I>>>32-E[d],I=I+N|0,w=N,N=T,T=x<<10|x>>>22,x=S,S=I;I=f[1]+O+T|0,f[1]=f[2]+k+N|0,f[2]=f[3]+_+w|0,f[3]=f[4]+D+S|0,f[4]=f[0]+C+x|0,f[0]=I},_doFinalize:function(){var h=this._data,g=h.words,d=8*this._nDataBytes,f=8*h.sigBytes;for(g[f>>>5]|=128<<24-f%32,g[(f+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,h.sigBytes=4*(g.length+1),this._process(),h=this._hash,g=h.words,d=0;5>d;d++)f=g[d],g[d]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;return h},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h}});e.RIPEMD160=i._createHelper(l),e.HmacRIPEMD160=i._createHmacHelper(l)})(Math);(function(){var e=Y,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(i,n){i=this._hasher=new i.init,typeof n=="string"&&(n=t.parse(n));var r=i.blockSize,s=4*r;n.sigBytes>s&&(n=i.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),u=o.words,l=a.words,h=0;h<r;h++)u[h]^=1549556828,l[h]^=909522486;o.sigBytes=a.sigBytes=s,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var n=this._hasher;return i=n.finalize(i),n.reset(),n.finalize(this._oKey.clone().concat(i))}})})();(function(){var e=Y,n=e.lib,t=n.Base,i=n.WordArray,n=e.algo,r=n.HMAC,s=n.PBKDF2=t.extend({cfg:t.extend({keySize:4,hasher:n.SHA1,iterations:1}),init:function(o){this.cfg=this.cfg.extend(o)},compute:function(o,a){for(var v=this.cfg,u=r.create(v.hasher,o),l=i.create(),h=i.create([1]),g=l.words,d=h.words,f=v.keySize,v=v.iterations;g.length<f;){var p=u.update(a).finalize(h);u.reset();for(var y=p.words,m=y.length,b=p,E=1;E<v;E++){b=u.finalize(b),u.reset();for(var D=b.words,C=0;C<m;C++)y[C]^=D[C]}l.concat(p),d[0]++}return l.sigBytes=4*f,l}});e.PBKDF2=function(o,a,u){return s.create(u).compute(o,a)}})();var qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vm="=";function wr(e){var t,i,n="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),n+=qo.charAt(i>>6)+qo.charAt(i&63);if(t+1==e.length?(i=parseInt(e.substring(t,t+1),16),n+=qo.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),n+=qo.charAt(i>>2)+qo.charAt((i&3)<<4)),Vm)for(;(n.length&3)>0;)n+=Vm;return n}function Ko(e){var t="",i,n=0,r,s;for(i=0;i<e.length&&e.charAt(i)!=Vm;++i)s=qo.indexOf(e.charAt(i)),!(s<0)&&(n==0?(t+=br(s>>2),r=s&3,n=1):n==1?(t+=br(r<<2|s>>4),r=s&15,n=2):n==2?(t+=br(r),t+=br(s>>2),r=s&3,n=3):(t+=br(r<<2|s>>4),t+=br(s&15),n=0));return n==1&&(t+=br(r<<2)),t}function vE(e){var t=Ko(e),i,n=new Array;for(i=0;2*i<t.length;++i)n[i]=parseInt(t.substring(2*i,2*i+2),16);return n}var es,f3=0xdeadbeefcafe,pE=(f3&16777215)==15715070;function B(e,t,i){e!=null&&(typeof e=="number"?this.fromNumber(e,t,i):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}function Le(){return new B(null)}function h3(e,t,i,n,r,s){for(;--s>=0;){var o=t*this[e++]+i[n]+r;r=Math.floor(o/67108864),i[n++]=o&67108863}return r}function p3(e,t,i,n,r,s){for(var o=t&32767,a=t>>15;--s>=0;){var u=this[e]&32767,l=this[e++]>>15,h=a*u+l*o;u=o*u+((h&32767)<<15)+i[n]+(r&1073741823),r=(u>>>30)+(h>>>15)+a*l+(r>>>30),i[n++]=u&1073741823}return r}function g3(e,t,i,n,r,s){for(var o=t&16383,a=t>>14;--s>=0;){var u=this[e]&16383,l=this[e++]>>14,h=a*u+l*o;u=o*u+((h&16383)<<14)+i[n]+r,r=(u>>28)+(h>>14)+a*l,i[n++]=u&268435455}return r}pE&&yu.appName=="Microsoft Internet Explorer"?(B.prototype.am=p3,es=30):pE&&yu.appName!="Netscape"?(B.prototype.am=h3,es=26):(B.prototype.am=g3,es=28);B.prototype.DB=es;B.prototype.DM=(1<<es)-1;B.prototype.DV=1<<es;var $m=52;B.prototype.FV=Math.pow(2,$m);B.prototype.F1=$m-es;B.prototype.F2=2*es-$m;var m3="0123456789abcdefghijklmnopqrstuvwxyz",Nd=new Array,Yo,vi;Yo=48;for(vi=0;vi<=9;++vi)Nd[Yo++]=vi;Yo=97;for(vi=10;vi<36;++vi)Nd[Yo++]=vi;Yo=65;for(vi=10;vi<36;++vi)Nd[Yo++]=vi;function br(e){return m3.charAt(e)}function yE(e,t){var i=Nd[e.charCodeAt(t)];return i??-1}function v3(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function y3(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Xr(e){var t=Le();return t.fromInt(e),t}function _3(e,t){var i;if(t==16)i=4;else if(t==8)i=3;else if(t==256)i=8;else if(t==2)i=1;else if(t==32)i=5;else if(t==4)i=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,r=!1,s=0;--n>=0;){var o=i==8?e[n]&255:yE(e,n);if(o<0){e.charAt(n)=="-"&&(r=!0);continue}r=!1,s==0?this[this.t++]=o:s+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,s+=i,s>=this.DB&&(s-=this.DB)}i==8&&e[0]&128&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&B.ZERO.subTo(this,this)}function b3(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function w3(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var i=(1<<t)-1,n,r=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(n=this[o]>>a)>0&&(r=!0,s=br(n));o>=0;)a<t?(n=(this[o]&(1<<a)-1)<<t-a,n|=this[--o]>>(a+=this.DB-t)):(n=this[o]>>(a-=t)&i,a<=0&&(a+=this.DB,--o)),n>0&&(r=!0),r&&(s+=br(n));return r?s:"0"}function E3(){var e=Le();return B.ZERO.subTo(this,e),e}function D3(){return this.s<0?this.negate():this}function C3(e){var t=this.s-e.s;if(t!=0)return t;var i=this.t;if(t=i-e.t,t!=0)return this.s<0?-t:t;for(;--i>=0;)if((t=this[i]-e[i])!=0)return t;return 0}function Pd(e){var t=1,i;return(i=e>>>16)!=0&&(e=i,t+=16),(i=e>>8)!=0&&(e=i,t+=8),(i=e>>4)!=0&&(e=i,t+=4),(i=e>>2)!=0&&(e=i,t+=2),(i=e>>1)!=0&&(e=i,t+=1),t}function S3(){return this.t<=0?0:this.DB*(this.t-1)+Pd(this[this.t-1]^this.s&this.DM)}function x3(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function I3(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function T3(e,t){var i=e%this.DB,n=this.DB-i,r=(1<<n)-1,s=Math.floor(e/this.DB),o=this.s<<i&this.DM,a;for(a=this.t-1;a>=0;--a)t[a+s+1]=this[a]>>n|o,o=(this[a]&r)<<i;for(a=s-1;a>=0;--a)t[a]=0;t[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()}function M3(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t){t.t=0;return}var n=e%this.DB,r=this.DB-n,s=(1<<n)-1;t[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)t[o-i-1]|=(this[o]&s)<<r,t[o-i]=this[o]>>n;n>0&&(t[this.t-i-1]|=(this.s&s)<<r),t.t=this.t-i,t.clamp()}function A3(e,t){for(var i=0,n=0,r=Math.min(e.t,this.t);i<r;)n+=this[i]-e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n-=e[i],t[i++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[i++]=this.DV+n:n>0&&(t[i++]=n),t.t=i,t.clamp()}function F3(e,t){var i=this.abs(),n=e.abs(),r=i.t;for(t.t=r+n.t;--r>=0;)t[r]=0;for(r=0;r<n.t;++r)t[r+i.t]=i.am(0,n[r],t,r,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&B.ZERO.subTo(t,t)}function O3(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var n=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,n,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function R3(e,t,i){var n=e.abs();if(!(n.t<=0)){var r=this.abs();if(r.t<n.t){t?.fromInt(0),i!=null&&this.copyTo(i);return}i==null&&(i=Le());var s=Le(),o=this.s,a=e.s,u=this.DB-Pd(n[n.t-1]);u>0?(n.lShiftTo(u,s),r.lShiftTo(u,i)):(n.copyTo(s),r.copyTo(i));var l=s.t,h=s[l-1];if(h!=0){var g=h*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/g,f=(1<<this.F1)/g,v=1<<this.F2,p=i.t,y=p-l,m=t??Le();for(s.dlShiftTo(y,m),i.compareTo(m)>=0&&(i[i.t++]=1,i.subTo(m,i)),B.ONE.dlShiftTo(l,m),m.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--y>=0;){var b=i[--p]==h?this.DM:Math.floor(i[p]*d+(i[p-1]+v)*f);if((i[p]+=s.am(0,b,i,y,0,l))<b)for(s.dlShiftTo(y,m),i.subTo(m,i);i[p]<--b;)i.subTo(m,i)}t!=null&&(i.drShiftTo(l,t),o!=a&&B.ZERO.subTo(t,t)),i.t=l,i.clamp(),u>0&&i.rShiftTo(u,i),o<0&&B.ZERO.subTo(i,i)}}}function N3(e){var t=Le();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(B.ZERO)>0&&e.subTo(t,t),t}function Ls(e){this.m=e}function P3(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function k3(e){return e}function B3(e){e.divRemTo(this.m,null,e)}function V3(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function L3(e,t){e.squareTo(t),this.reduce(t)}Ls.prototype.convert=P3;Ls.prototype.revert=k3;Ls.prototype.reduce=B3;Ls.prototype.mulTo=V3;Ls.prototype.sqrTo=L3;function j3(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function js(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H3(e){var t=Le();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(B.ZERO)>0&&this.m.subTo(t,t),t}function U3(e){var t=Le();return e.copyTo(t),this.reduce(t),t}function $3(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=e[t]&32767,n=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(i=t+this.m.t,e[i]+=this.m.am(0,n,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function G3(e,t){e.squareTo(t),this.reduce(t)}function W3(e,t,i){e.multiplyTo(t,i),this.reduce(i)}js.prototype.convert=H3;js.prototype.revert=U3;js.prototype.reduce=$3;js.prototype.mulTo=W3;js.prototype.sqrTo=G3;function q3(){return(this.t>0?this[0]&1:this.s)==0}function z3(e,t){if(e>4294967295||e<1)return B.ONE;var i=Le(),n=Le(),r=t.convert(this),s=Pd(e)-1;for(r.copyTo(i);--s>=0;)if(t.sqrTo(i,n),(e&1<<s)>0)t.mulTo(n,r,i);else{var o=i;i=n,n=o}return t.revert(i)}function K3(e,t){var i;return e<256||t.isEven()?i=new Ls(t):i=new js(t),this.exp(e,i)}B.prototype.copyTo=v3;B.prototype.fromInt=y3;B.prototype.fromString=_3;B.prototype.clamp=b3;B.prototype.dlShiftTo=x3;B.prototype.drShiftTo=I3;B.prototype.lShiftTo=T3;B.prototype.rShiftTo=M3;B.prototype.subTo=A3;B.prototype.multiplyTo=F3;B.prototype.squareTo=O3;B.prototype.divRemTo=R3;B.prototype.invDigit=j3;B.prototype.isEven=q3;B.prototype.exp=z3;B.prototype.toString=w3;B.prototype.negate=E3;B.prototype.abs=D3;B.prototype.compareTo=C3;B.prototype.bitLength=S3;B.prototype.mod=N3;B.prototype.modPowInt=K3;B.ZERO=Xr(0);B.ONE=Xr(1);function Y3(){var e=Le();return this.copyTo(e),e}function J3(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Z3(){return this.t==0?this.s:this[0]<<24>>24}function Q3(){return this.t==0?this.s:this[0]<<16>>16}function X3(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function eP(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function tP(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),n=Xr(i),r=Le(),s=Le(),o="";for(this.divRemTo(n,r,s);r.signum()>0;)o=(i+s.intValue()).toString(e).substr(1)+o,r.divRemTo(n,r,s);return s.intValue().toString(e)+o}function nP(e,t){this.fromInt(0),t==null&&(t=10);for(var i=this.chunkSize(t),n=Math.pow(t,i),r=!1,s=0,o=0,a=0;a<e.length;++a){var u=yE(e,a);if(u<0){e.charAt(a)=="-"&&this.signum()==0&&(r=!0);continue}o=t*o+u,++s>=i&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),r&&B.ZERO.subTo(this,this)}function iP(e,t,i){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(B.ONE.shiftLeft(e-1),Gm,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(B.ONE.shiftLeft(e-1),this);else{var n=new Array,r=e&7;n.length=(e>>3)+1,t.nextBytes(n),r>0?n[0]&=(1<<r)-1:n[0]=0,this.fromString(n,256)}}function rP(){var e=this.t,t=new Array;t[0]=this.s;var i=this.DB-e*this.DB%8,n,r=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[r++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),n&128&&(n|=-256),r==0&&(this.s&128)!=(n&128)&&++r,(r>0||n!=this.s)&&(t[r++]=n);return t}function sP(e){return this.compareTo(e)==0}function oP(e){return this.compareTo(e)<0?this:e}function aP(e){return this.compareTo(e)>0?this:e}function uP(e,t,i){var n,r,s=Math.min(e.t,this.t);for(n=0;n<s;++n)i[n]=t(this[n],e[n]);if(e.t<this.t){for(r=e.s&this.DM,n=s;n<this.t;++n)i[n]=t(this[n],r);i.t=this.t}else{for(r=this.s&this.DM,n=s;n<e.t;++n)i[n]=t(r,e[n]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()}function lP(e,t){return e&t}function cP(e){var t=Le();return this.bitwiseTo(e,lP,t),t}function Gm(e,t){return e|t}function dP(e){var t=Le();return this.bitwiseTo(e,Gm,t),t}function _E(e,t){return e^t}function fP(e){var t=Le();return this.bitwiseTo(e,_E,t),t}function bE(e,t){return e&~t}function hP(e){var t=Le();return this.bitwiseTo(e,bE,t),t}function pP(){for(var e=Le(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function gP(e){var t=Le();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function mP(e){var t=Le();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function vP(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function yP(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+vP(this[e]);return this.s<0?this.t*this.DB:-1}function _P(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function bP(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=_P(this[i]^t);return e}function wP(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0}function EP(e,t){var i=B.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i}function DP(e){return this.changeBit(e,Gm)}function CP(e){return this.changeBit(e,bE)}function SP(e){return this.changeBit(e,_E)}function xP(e,t){for(var i=0,n=0,r=Math.min(e.t,this.t);i<r;)n+=this[i]+e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n+=e[i],t[i++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[i++]=n:n<-1&&(t[i++]=this.DV+n),t.t=i,t.clamp()}function IP(e){var t=Le();return this.addTo(e,t),t}function TP(e){var t=Le();return this.subTo(e,t),t}function MP(e){var t=Le();return this.multiplyTo(e,t),t}function AP(){var e=Le();return this.squareTo(e),e}function FP(e){var t=Le();return this.divRemTo(e,t,null),t}function OP(e){var t=Le();return this.divRemTo(e,null,t),t}function RP(e){var t=Le(),i=Le();return this.divRemTo(e,t,i),new Array(t,i)}function NP(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function PP(e,t){if(e!=0){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function bu(){}function wE(e){return e}function kP(e,t,i){e.multiplyTo(t,i)}function BP(e,t){e.squareTo(t)}bu.prototype.convert=wE;bu.prototype.revert=wE;bu.prototype.mulTo=kP;bu.prototype.sqrTo=BP;function VP(e){return this.exp(e,new bu)}function LP(e,t,i){var n=Math.min(this.t+e.t,t);for(i.s=0,i.t=n;n>0;)i[--n]=0;var r;for(r=i.t-this.t;n<r;++n)i[n+this.t]=this.am(0,e[n],i,n,0,this.t);for(r=Math.min(e.t,t);n<r;++n)this.am(0,e[n],i,n,0,t-n);i.clamp()}function jP(e,t,i){--t;var n=i.t=this.t+e.t-t;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)i[this.t+n-t]=this.am(t-n,e[n],i,0,0,this.t+n-t);i.clamp(),i.drShiftTo(1,i)}function Jo(e){this.r2=Le(),this.q3=Le(),B.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function HP(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Le();return e.copyTo(t),this.reduce(t),t}function UP(e){return e}function $P(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function GP(e,t){e.squareTo(t),this.reduce(t)}function WP(e,t,i){e.multiplyTo(t,i),this.reduce(i)}Jo.prototype.convert=HP;Jo.prototype.revert=UP;Jo.prototype.reduce=$P;Jo.prototype.mulTo=WP;Jo.prototype.sqrTo=GP;function qP(e,t){var i=e.bitLength(),n,r=Xr(1),s;if(i<=0)return r;i<18?n=1:i<48?n=3:i<144?n=4:i<768?n=5:n=6,i<8?s=new Ls(t):t.isEven()?s=new Jo(t):s=new js(t);var o=new Array,a=3,u=n-1,l=(1<<n)-1;if(o[1]=s.convert(this),n>1){var h=Le();for(s.sqrTo(o[1],h);a<=l;)o[a]=Le(),s.mulTo(h,o[a-2],o[a]),a+=2}var g=e.t-1,d,f=!0,v=Le(),p;for(i=Pd(e[g])-1;g>=0;){for(i>=u?d=e[g]>>i-u&l:(d=(e[g]&(1<<i+1)-1)<<u-i,g>0&&(d|=e[g-1]>>this.DB+i-u)),a=n;!(d&1);)d>>=1,--a;if((i-=a)<0&&(i+=this.DB,--g),f)o[d].copyTo(r),f=!1;else{for(;a>1;)s.sqrTo(r,v),s.sqrTo(v,r),a-=2;a>0?s.sqrTo(r,v):(p=r,r=v,v=p),s.mulTo(v,o[d],r)}for(;g>=0&&!(e[g]&1<<i);)s.sqrTo(r,v),p=r,r=v,v=p,--i<0&&(i=this.DB-1,--g)}return s.revert(r)}function zP(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var n=t;t=i,i=n}var r=t.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)return t;for(r<s&&(s=r),s>0&&(t.rShiftTo(s,t),i.rShiftTo(s,i));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return s>0&&i.lShiftTo(s,i),i}function KP(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(t==0)i=this[0]%e;else for(var n=this.t-1;n>=0;--n)i=(t*i+this[n])%e;return i}function YP(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return B.ZERO;for(var i=e.clone(),n=this.clone(),r=Xr(1),s=Xr(0),o=Xr(0),a=Xr(1);i.signum()!=0;){for(;i.isEven();)i.rShiftTo(1,i),t?((!r.isEven()||!s.isEven())&&(r.addTo(this,r),s.subTo(e,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);i.compareTo(n)>=0?(i.subTo(n,i),t&&r.subTo(o,r),s.subTo(a,s)):(n.subTo(i,n),t&&o.subTo(r,o),a.subTo(s,a))}if(n.compareTo(B.ONE)!=0)return B.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var Mn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],JP=(1<<26)/Mn[Mn.length-1];function ZP(e){var t,i=this.abs();if(i.t==1&&i[0]<=Mn[Mn.length-1]){for(t=0;t<Mn.length;++t)if(i[0]==Mn[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<Mn.length;){for(var n=Mn[t],r=t+1;r<Mn.length&&n<JP;)n*=Mn[r++];for(n=i.modInt(n);t<r;)if(n%Mn[t++]==0)return!1}return i.millerRabin(e)}function QP(e){var t=this.subtract(B.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var n=t.shiftRight(i);e=e+1>>1,e>Mn.length&&(e=Mn.length);for(var r=Le(),s=0;s<e;++s){r.fromInt(Mn[Math.floor(Math.random()*Mn.length)]);var o=r.modPow(n,this);if(o.compareTo(B.ONE)!=0&&o.compareTo(t)!=0){for(var a=1;a++<i&&o.compareTo(t)!=0;)if(o=o.modPowInt(2,this),o.compareTo(B.ONE)==0)return!1;if(o.compareTo(t)!=0)return!1}}return!0}B.prototype.chunkSize=X3;B.prototype.toRadix=tP;B.prototype.fromRadix=nP;B.prototype.fromNumber=iP;B.prototype.bitwiseTo=uP;B.prototype.changeBit=EP;B.prototype.addTo=xP;B.prototype.dMultiply=NP;B.prototype.dAddOffset=PP;B.prototype.multiplyLowerTo=LP;B.prototype.multiplyUpperTo=jP;B.prototype.modInt=KP;B.prototype.millerRabin=QP;B.prototype.clone=Y3;B.prototype.intValue=J3;B.prototype.byteValue=Z3;B.prototype.shortValue=Q3;B.prototype.signum=eP;B.prototype.toByteArray=rP;B.prototype.equals=sP;B.prototype.min=oP;B.prototype.max=aP;B.prototype.and=cP;B.prototype.or=dP;B.prototype.xor=fP;B.prototype.andNot=hP;B.prototype.not=pP;B.prototype.shiftLeft=gP;B.prototype.shiftRight=mP;B.prototype.getLowestSetBit=yP;B.prototype.bitCount=bP;B.prototype.testBit=wP;B.prototype.setBit=DP;B.prototype.clearBit=CP;B.prototype.flipBit=SP;B.prototype.add=IP;B.prototype.subtract=TP;B.prototype.multiply=MP;B.prototype.divide=FP;B.prototype.remainder=OP;B.prototype.divideAndRemainder=RP;B.prototype.modPow=qP;B.prototype.modInverse=YP;B.prototype.pow=VP;B.prototype.gcd=zP;B.prototype.isProbablePrime=ZP;B.prototype.square=AP;function Wm(){this.i=0,this.j=0,this.S=new Array}function XP(e){var t,i,n;for(t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)i=i+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[i],this.S[i]=n;this.i=0,this.j=0}function ek(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}Wm.prototype.init=XP;Wm.prototype.next=ek;function tk(){return new Wm}var Lm=256;var Ad,ei,sn;function nk(e){ei[sn++]^=e&255,ei[sn++]^=e>>8&255,ei[sn++]^=e>>16&255,ei[sn++]^=e>>24&255,sn>=Lm&&(sn-=Lm)}function qm(){nk(new Date().getTime())}if(ei==null){if(ei=new Array,sn=0,Wo!==void 0&&(Wo.crypto!==void 0||Wo.msCrypto!==void 0)){if(Pm=Wo.crypto||Wo.msCrypto,Pm.getRandomValues)for(km=new Uint8Array(32),Pm.getRandomValues(km),mi=0;mi<32;++mi)ei[sn++]=km[mi];else if(yu.appName=="Netscape"&&yu.appVersion<"5")for(Bm=Wo.crypto.random(32),mi=0;mi<Bm.length;++mi)ei[sn++]=Bm.charCodeAt(mi)&255}for(;sn<Lm;)mi=Math.floor(65536*Math.random()),ei[sn++]=mi>>>8,ei[sn++]=mi&255;sn=0,qm()}var mi,Pm,km,Bm;function ik(){if(Ad==null){for(qm(),Ad=tk(),Ad.init(ei),sn=0;sn<ei.length;++sn)ei[sn]=0;sn=0}return Ad.next()}function rk(e){var t;for(t=0;t<e.length;++t)e[t]=ik()}function Zo(){}Zo.prototype.nextBytes=rk;function jn(e,t){return new B(e,t)}function me(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function sk(e,t){if(this.isPublic=!0,this.isPrivate=!1,typeof e!="string")this.n=e,this.e=t;else if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=jn(e,16),this.e=parseInt(t,16);else throw"Invalid RSA public key"}function ok(e){return e.modPowInt(this.e,this.n)}me.prototype.doPublic=ok;me.prototype.setPublic=sk;me.prototype.type="RSA";function ak(e,t,i){if(this.isPrivate=!0,typeof e!="string")this.n=e,this.e=t,this.d=i;else if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=jn(e,16),this.e=parseInt(t,16),this.d=jn(i,16);else throw"Invalid RSA private key"}function uk(e,t,i,n,r,s,o,a){if(this.isPrivate=!0,this.isPublic=!1,e==null)throw"RSASetPrivateEx N == null";if(t==null)throw"RSASetPrivateEx E == null";if(e.length==0)throw"RSASetPrivateEx N.length == 0";if(t.length==0)throw"RSASetPrivateEx E.length == 0";if(e!=null&&t!=null&&e.length>0&&t.length>0)this.n=jn(e,16),this.e=parseInt(t,16),this.d=jn(i,16),this.p=jn(n,16),this.q=jn(r,16),this.dmp1=jn(s,16),this.dmq1=jn(o,16),this.coeff=jn(a,16);else throw"Invalid RSA private key in RSASetPrivateEx"}function lk(e,t){var i=new Zo,n=e>>1;this.e=parseInt(t,16);for(var r=new B(t,16),s=e/2-100,o=B.ONE.shiftLeft(s);;){for(;this.p=new B(e-n,1,i),!(this.p.subtract(B.ONE).gcd(r).compareTo(B.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new B(n,1,i),!(this.q.subtract(B.ONE).gcd(r).compareTo(B.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var u=this.q.subtract(this.p).abs();if(!(u.bitLength()<s||u.compareTo(o)<=0)){var l=this.p.subtract(B.ONE),h=this.q.subtract(B.ONE),g=l.multiply(h);if(g.gcd(r).compareTo(B.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=r.modInverse(g),this.dmp1=this.d.mod(l),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0}function ck(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)}me.prototype.doPrivate=ck;me.prototype.setPrivate=ak;me.prototype.setPrivateEx=uk;me.prototype.generate=lk;function $t(e,t){this.x=t,this.q=e}function dk(e){return e==this?!0:this.q.equals(e.q)&&this.x.equals(e.x)}function fk(){return this.x}function hk(){return new $t(this.q,this.x.negate().mod(this.q))}function pk(e){return new $t(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function gk(e){return new $t(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function mk(e){return new $t(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function vk(){return new $t(this.q,this.x.square().mod(this.q))}function yk(e){return new $t(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}$t.prototype.equals=dk;$t.prototype.toBigInteger=fk;$t.prototype.negate=hk;$t.prototype.add=pk;$t.prototype.subtract=gk;$t.prototype.multiply=mk;$t.prototype.square=vk;$t.prototype.divide=yk;$t.prototype.sqrt=function(){return new $t(this.q,this.x.sqrt().mod(this.q))};function ze(e,t,i,n){this.curve=e,this.x=t,this.y=i,n==null?this.z=B.ONE:this.z=n,this.zinv=null}function _k(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function bk(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function wk(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,i;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),t.equals(B.ZERO)?(i=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),i.equals(B.ZERO)):!1}function Ek(){return this.x==null&&this.y==null?!0:this.z.equals(B.ZERO)&&!this.y.toBigInteger().equals(B.ZERO)}function Dk(){return new ze(this.curve,this.x,this.y.negate(),this.z)}function Ck(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),i=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(B.ZERO.equals(i))return B.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new B("3"),r=this.x.toBigInteger(),s=this.y.toBigInteger(),o=e.x.toBigInteger(),a=e.y.toBigInteger(),u=i.square(),l=u.multiply(i),h=r.multiply(u),g=t.square().multiply(this.z),d=g.subtract(h.shiftLeft(1)).multiply(e.z).subtract(l).multiply(i).mod(this.curve.q),f=h.multiply(n).multiply(t).subtract(s.multiply(l)).subtract(g.multiply(t)).multiply(e.z).add(t.multiply(l)).mod(this.curve.q),v=l.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ze(this.curve,this.curve.fromBigInteger(d),this.curve.fromBigInteger(f),v)}function Sk(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=new B("3"),t=this.x.toBigInteger(),i=this.y.toBigInteger(),n=i.multiply(this.z),r=n.multiply(i).mod(this.curve.q),s=this.curve.a.toBigInteger(),o=t.square().multiply(e);B.ZERO.equals(s)||(o=o.add(this.z.square().multiply(s))),o=o.mod(this.curve.q);var a=o.square().subtract(t.shiftLeft(3).multiply(r)).shiftLeft(1).multiply(n).mod(this.curve.q),u=o.multiply(e).multiply(t).subtract(r.shiftLeft(1)).shiftLeft(2).multiply(r).subtract(o.square().multiply(o)).mod(this.curve.q),l=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ze(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),l)}function xk(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var t=e,i=t.multiply(new B("3")),n=this.negate(),r=this,s=this.curve.q.subtract(e),o=s.multiply(new B("3")),a=new ze(this.curve,this.x,this.y),u=a.negate(),l;for(l=i.bitLength()-2;l>0;--l){r=r.twice();var h=i.testBit(l),g=t.testBit(l);h!=g&&(r=r.add(h?this:n))}for(l=o.bitLength()-2;l>0;--l){a=a.twice();var d=o.testBit(l),f=s.testBit(l);d!=f&&(a=a.add(d?a:u))}return r}function Ik(e,t,i){var n;e.bitLength()>i.bitLength()?n=e.bitLength()-1:n=i.bitLength()-1;for(var r=this.curve.getInfinity(),s=this.add(t);n>=0;)r=r.twice(),e.testBit(n)?i.testBit(n)?r=r.add(s):r=r.add(this):i.testBit(n)&&(r=r.add(t)),--n;return r}ze.prototype.getX=_k;ze.prototype.getY=bk;ze.prototype.equals=wk;ze.prototype.isInfinity=Ek;ze.prototype.negate=Dk;ze.prototype.add=Ck;ze.prototype.twice=Sk;ze.prototype.multiply=xk;ze.prototype.multiplyTwo=Ik;function Er(e,t,i){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(i),this.infinity=new ze(this,null,null)}function Tk(){return this.q}function Mk(){return this.a}function Ak(){return this.b}function Fk(e){return e==this?!0:this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function Ok(){return this.infinity}function Rk(e){return new $t(this.q,e)}function Nk(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),i=e.substr(2),n=this.fromBigInteger(new B(l,16)),r=this.getA(),s=this.getB(),o=n.square().add(r).multiply(n).add(s),a=o.sqrt();return t=="03"&&(a=a.negate()),new ze(this,n,a);case 4:case 6:case 7:var u=(e.length-2)/2,l=e.substr(2,u),h=e.substr(u+2,u);return new ze(this,this.fromBigInteger(new B(l,16)),this.fromBigInteger(new B(h,16)));default:return null}}Er.prototype.getQ=Tk;Er.prototype.getA=Mk;Er.prototype.getB=Ak;Er.prototype.equals=Fk;Er.prototype.getInfinity=Ok;Er.prototype.fromBigInteger=Rk;Er.prototype.decodePointHex=Nk;$t.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ze.prototype.getEncoded=function(e){var t=function(s,o){var a=s.toByteArrayUnsigned();if(o<a.length)a=a.slice(a.length-o);else for(;o>a.length;)a.unshift(0);return a},i=this.getX().toBigInteger(),n=this.getY().toBigInteger(),r=t(i,32);return e?n.isEven()?r.unshift(2):r.unshift(3):(r.unshift(4),r=r.concat(t(n,32))),r};ze.decodeFrom=function(e,t){var i=t[0],n=t.length-1,r=t.slice(1,1+n/2),s=t.slice(1+n/2,1+n);r.unshift(0),s.unshift(0);var o=new B(r),a=new B(s);return new ze(e,e.fromBigInteger(o),e.fromBigInteger(a))};ze.decodeFromHex=function(e,t){var i=t.substr(0,2),n=t.length-2,r=t.substr(2,n/2),s=t.substr(2+n/2,n/2),o=new B(r,16),a=new B(s,16);return new ze(e,e.fromBigInteger(o),e.fromBigInteger(a))};ze.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),i=e.y.subtract(this.y),n=i.divide(t),r=n.square().subtract(this.x).subtract(e.x),s=n.multiply(this.x.subtract(r)).subtract(this.y);return new ze(this.curve,r,s)};ze.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var e=this.curve.fromBigInteger(B.valueOf(2)),t=this.curve.fromBigInteger(B.valueOf(3)),i=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=i.square().subtract(this.x.multiply(e)),r=i.multiply(this.x.subtract(n)).subtract(this.y);return new ze(this.curve,n,r)};ze.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(e.signum()==0)return this.curve.getInfinity();var t=e,i=t.multiply(new B("3")),n=this.negate(),r=this,s;for(s=i.bitLength()-2;s>0;--s){r=r.twice();var o=i.testBit(s),a=t.testBit(s);o!=a&&(r=r.add2D(o?this:n))}return r};ze.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),i=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),r=this.curve.getQ(),s=t.multiply(t).mod(r),o=e.multiply(e).multiply(e).add(i.multiply(e)).add(n).mod(r);return s.equals(o)};ze.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ze.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),i=this.getY().toBigInteger();if(t.compareTo(B.ONE)<0||t.compareTo(e.subtract(B.ONE))>0)throw new Error("x coordinate out of bounds");if(i.compareTo(B.ONE)<0||i.compareTo(e.subtract(B.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var EE=function(){var e="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",t='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',i='(?:"'+t+'*")',n=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+e+"|"+i+")","g"),r=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),s={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function o(g,d,f){return d?s[d]:String.fromCharCode(parseInt(f,16))}var a=new String(""),u="\\",l={"{":Object,"[":Array},h=Object.hasOwnProperty;return function(g,d){var f=g.match(n),v,p=f[0],y=!1;p==="{"?v={}:p==="["?v=[]:(v=[],y=!0);for(var m,b=[v],E=1-y,D=f.length;E<D;++E){p=f[E];var C;switch(p.charCodeAt(0)){default:C=b[0],C[m||C.length]=+p,m=void 0;break;case 34:if(p=p.substring(1,p.length-1),p.indexOf(u)!==-1&&(p=p.replace(r,o)),C=b[0],!m)if(C instanceof Array)m=C.length;else{m=p||a;break}C[m]=p,m=void 0;break;case 91:C=b[0],b.unshift(C[m||C.length]=[]),m=void 0;break;case 93:b.shift();break;case 102:C=b[0],C[m||C.length]=!1,m=void 0;break;case 110:C=b[0],C[m||C.length]=null,m=void 0;break;case 116:C=b[0],C[m||C.length]=!0,m=void 0;break;case 123:C=b[0],b.unshift(C[m||C.length]={}),m=void 0;break;case 125:b.shift();break}}if(y){if(b.length!==1)throw new Error;v=v[0]}else if(b.length)throw new Error;if(d){var O=function(k,_){var w=k[_];if(w&&typeof w=="object"){var S=null;for(var x in w)if(h.call(w,x)&&w!==k){var T=O(w,x);T!==void 0?w[x]=T:(S||(S=[]),S.push(x))}if(S)for(var N=S.length;--N>=0;)delete w[S[N]]}return d.call(k,_,w)};v=O({"":v},"")}return v}}();(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});c.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){return Eu(e)},this.getPEMStringFromHex=function(e,t){return Dn(e,t)},this.newObject=function(e){var t=c,i=t.asn1,n=i.ASN1Object,r=i.DERBoolean,s=i.DERInteger,o=i.DERBitString,a=i.DEROctetString,u=i.DERNull,l=i.DERObjectIdentifier,h=i.DEREnumerated,g=i.DERUTF8String,d=i.DERNumericString,f=i.DERPrintableString,v=i.DERTeletexString,p=i.DERIA5String,y=i.DERUTCTime,m=i.DERGeneralizedTime,b=i.DERVisibleString,E=i.DERBMPString,D=i.DERSequence,C=i.DERSet,O=i.DERTaggedObject,k=i.ASN1Util.newObject;if(e instanceof i.ASN1Object)return e;var _=Object.keys(e);if(_.length!=1)throw new Error("key of param shall be only one.");var w=_[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+w+":")==-1)throw new Error("undefined key: "+w);if(w=="bool")return new r(e[w]);if(w=="int")return new s(e[w]);if(w=="bitstr")return new o(e[w]);if(w=="octstr")return new a(e[w]);if(w=="null")return new u(e[w]);if(w=="oid")return new l(e[w]);if(w=="enum")return new h(e[w]);if(w=="utf8str")return new g(e[w]);if(w=="numstr")return new d(e[w]);if(w=="prnstr")return new f(e[w]);if(w=="telstr")return new v(e[w]);if(w=="ia5str")return new p(e[w]);if(w=="utctime")return new y(e[w]);if(w=="gentime")return new m(e[w]);if(w=="visstr")return new b(e[w]);if(w=="bmpstr")return new E(e[w]);if(w=="asn1")return new n(e[w]);if(w=="seq"){for(var S=e[w],x=[],T=0;T<S.length;T++){var N=k(S[T]);x.push(N)}return new D({array:x})}if(w=="set"){for(var S=e[w],x=[],T=0;T<S.length;T++){var N=k(S[T]);x.push(N)}return new C({array:x})}if(w=="tag"){var I=e[w];if(Object.prototype.toString.call(I)==="[object Array]"&&I.length==3){var A=k(I[2]);return new O({tag:I[0],explicit:I[1],obj:A})}else return new O(I)}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.tohex()}};c.asn1.ASN1Util.oidHexToInt=function(e){for(var r="",t=parseInt(e.substr(0,2),16),i=Math.floor(t/40),n=t%40,r=i+"."+n,s="",o=2;o<e.length;o+=2){var a=parseInt(e.substr(o,2),16),u=("00000000"+a.toString(2)).slice(-8);if(s=s+u.substr(1,7),u.substr(0,1)=="0"){var l=new B(s,2);r=r+"."+l.toString(10),s=""}}return r};c.asn1.ASN1Util.oidIntToHex=function(e){var t=function(a){var u=a.toString(16);return u.length==1&&(u="0"+u),u},i=function(a){var u="",l=new B(a,10),h=l.toString(2),g=7-h.length%7;g==7&&(g=0);for(var d="",f=0;f<g;f++)d+="0";h=d+h;for(var f=0;f<h.length-1;f+=7){var v=h.substr(f,7);f!=h.length-7&&(v="1"+v),u+=t(parseInt(v,2))}return u};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",r=e.split("."),s=parseInt(r[0])*40+parseInt(r[1]);n+=t(s),r.splice(0,2);for(var o=0;o<r.length;o++)n+=i(r[o]);return n};c.asn1.ASN1Object=function(e){var t=!0,i=null,n="00",r="00",s="";this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+s.length+",v="+this.hV);var o=this.hV.length/2,a=o.toString(16);if(a.length%2==1&&(a="0"+a),o<128)return a;var u=a.length/2;if(u>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+o.toString(16));var l=128+u;return l.toString(16)+a},this.tohex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(o){this.params=o},e!=null&&e.tlv!=null&&(this.hTLV=e.tlv,this.isModified=!1)};c.asn1.DERAbstractString=function(e){c.asn1.DERAbstractString.superclass.constructor.call(this);var t=null,i=null;this.getString=function(){return this.s},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.s=n,this.hV=Bd(this.s).toLowerCase()},this.setStringHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e=="string"?this.setString(e):typeof e.str<"u"?this.setString(e.str):typeof e.hex<"u"&&this.setStringHex(e.hex))};H(c.asn1.DERAbstractString,c.asn1.ASN1Object);c.asn1.DERAbstractTime=function(e){c.asn1.DERAbstractTime.superclass.constructor.call(this);var t=null,i=null;this.localDateToUTC=function(n){var r=n.getTime()+n.getTimezoneOffset()*6e4,s=new Date(r);return s},this.formatDate=function(n,r,s){var o=this.zeroPadding,a=this.localDateToUTC(n),u=String(a.getFullYear());r=="utc"&&(u=u.substr(2,2));var l=o(String(a.getMonth()+1),2),h=o(String(a.getDate()),2),g=o(String(a.getHours()),2),d=o(String(a.getMinutes()),2),f=o(String(a.getSeconds()),2),v=u+l+h+g+d+f;if(s===!0){var p=a.getMilliseconds();if(p!=0){var y=o(String(p),3);y=y.replace(/[0]+$/,""),v=v+"."+y}}return v+"Z"},this.zeroPadding=function(n,r){return n.length>=r?n:new Array(r-n.length+1).join("0")+n},this.setByParam=function(n){this.hV=null,this.hTLV=null,this.params=n},this.getString=function(){},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.str=n},this.setByDate=function(n){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.date=n},this.setByDateValue=function(n,r,s,o,a,u){var l=new Date(Date.UTC(n,r-1,s,o,a,u,0));this.setByDate(l)},this.getFreshValueHex=function(){return this.hV}};H(c.asn1.DERAbstractTime,c.asn1.ASN1Object);c.asn1.DERAbstractStructured=function(e){c.asn1.DERAbstractString.superclass.constructor.call(this);var t=null;this.setByASN1ObjectArray=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array=i},this.appendASN1Object=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array.push(i)},this.asn1Array=new Array,typeof e<"u"&&typeof e.array<"u"&&(this.asn1Array=e.array)};H(c.asn1.DERAbstractStructured,c.asn1.ASN1Object);c.asn1.DERBoolean=function(e){c.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",e==!1?this.hTLV="010100":this.hTLV="0101ff"};H(c.asn1.DERBoolean,c.asn1.ASN1Object);c.asn1.DERInteger=function(e){c.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var t=Eu;this.setByBigInteger=function(i){this.isModified=!0,this.params={bigint:i}},this.setByInteger=function(i){this.isModified=!0,this.params=i},this.setValueHex=function(i){this.isModified=!0,this.params={hex:i}},this.getFreshValueHex=function(){var i=this.params,n=null;if(i==null)throw new Error("value not set");if(typeof i=="object"&&i.hex!=null)return this.hV=i.hex,this.hV;if(typeof i=="number")n=new B(String(i),10);else if(i.int!=null)n=new B(String(i.int),10);else if(i.bigint!=null)n=i.bigint;else throw new Error("wrong parameter");return this.hV=t(n),this.hV},e!=null&&(this.params=e)};H(c.asn1.DERInteger,c.asn1.ASN1Object);c.asn1.DERBitString=function(e){if(e!==void 0&&typeof e.obj<"u"){var t=c.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}c.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(i){this.hTLV=null,this.isModified=!0,this.hV=i},this.setUnusedBitsAndHexValue=function(i,n){if(i<0||7<i)throw"unused bits shall be from 0 to 7: u = "+i;var r="0"+i;this.hTLV=null,this.isModified=!0,this.hV=r+n},this.setByBinaryString=function(i){i=i.replace(/0+$/,"");var n=8-i.length%8;n==8&&(n=0),i+="0000000".substr(0,n);for(var r="",s=0;s<i.length-1;s+=8){var o=i.substr(s,8),a=parseInt(o,2).toString(16);a.length==1&&(a="0"+a),r+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+n+r},this.setByBooleanArray=function(i){for(var n="",r=0;r<i.length;r++)i[r]==!0?n+="1":n+="0";this.setByBinaryString(n)},this.newFalseArray=function(i){for(var n=new Array(i),r=0;r<i;r++)n[r]=!1;return n},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):typeof e.hex<"u"?this.setHexValueIncludingUnusedBits(e.hex):typeof e.bin<"u"?this.setByBinaryString(e.bin):typeof e.array<"u"&&this.setByBooleanArray(e.array))};H(c.asn1.DERBitString,c.asn1.ASN1Object);c.asn1.DEROctetString=function(e){if(e!==void 0&&typeof e.obj<"u"){var t=c.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}c.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"};H(c.asn1.DEROctetString,c.asn1.DERAbstractString);c.asn1.DERNull=function(){c.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};H(c.asn1.DERNull,c.asn1.ASN1Object);c.asn1.DERObjectIdentifier=function(e){c.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var i=ME(t);if(i==null)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(t){var i=c.asn1.x509.OID.name2oid(t);if(i!=="")this.setValueOidString(i);else throw new Error("DERObjectIdentifier oidName undefined: "+t)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){typeof t=="string"?this.setValueNameOrOid(t):t.oid!==void 0?this.setValueNameOrOid(t.oid):t.name!==void 0?this.setValueNameOrOid(t.name):t.hex!==void 0&&this.setValueHex(t.hex)},e!==void 0&&this.setByParam(e)};H(c.asn1.DERObjectIdentifier,c.asn1.ASN1Object);c.asn1.DEREnumerated=function(e){c.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Eu(t)},this.setByInteger=function(t){var i=new B(String(t),10);this.setByBigInteger(i)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e.int<"u"?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):typeof e.hex<"u"&&this.setValueHex(e.hex))};H(c.asn1.DEREnumerated,c.asn1.ASN1Object);c.asn1.DERUTF8String=function(e){c.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"};H(c.asn1.DERUTF8String,c.asn1.DERAbstractString);c.asn1.DERNumericString=function(e){c.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"};H(c.asn1.DERNumericString,c.asn1.DERAbstractString);c.asn1.DERPrintableString=function(e){c.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"};H(c.asn1.DERPrintableString,c.asn1.DERAbstractString);c.asn1.DERTeletexString=function(e){c.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"};H(c.asn1.DERTeletexString,c.asn1.DERAbstractString);c.asn1.DERIA5String=function(e){c.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"};H(c.asn1.DERIA5String,c.asn1.DERAbstractString);c.asn1.DERVisibleString=function(e){c.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"};H(c.asn1.DERVisibleString,c.asn1.DERAbstractString);c.asn1.DERBMPString=function(e){c.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"};H(c.asn1.DERBMPString,c.asn1.DERAbstractString);c.asn1.DERUTCTime=function(e){c.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(this.params==null&&(t={date:new Date}),typeof t=="string")if(t.match(/^[0-9]{12}Z$/)||t.match(/^[0-9]{12}\.[0-9]+Z$/))this.hV=Hn(t);else throw new Error("malformed string for UTCTime: "+t);else if(t.str!=null)this.hV=Hn(t.str);else if(t.date==null&&t.millis==!0){var i=new Date;this.hV=Hn(this.formatDate(i,"utc",!0))}else if(t.date!=null&&t.date instanceof Date){var n=t.millis===!0;this.hV=Hn(this.formatDate(t.date,"utc",n))}else t instanceof Date&&(this.hV=Hn(this.formatDate(t,"utc")));if(this.hV==null)throw new Error("parameter not specified properly for UTCTime");return this.hV},e!=null&&this.setByParam(e)};H(c.asn1.DERUTCTime,c.asn1.DERAbstractTime);c.asn1.DERGeneralizedTime=function(e){c.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var t=this.params;if(this.params==null&&(t={date:new Date}),typeof t=="string")if(t.match(/^[0-9]{14}Z$/)||t.match(/^[0-9]{14}\.[0-9]+Z$/))this.hV=Hn(t);else throw new Error("malformed string for GeneralizedTime: "+t);else if(t.str!=null)this.hV=Hn(t.str);else if(t.date==null&&t.millis==!0){var i=new Date;this.hV=Hn(this.formatDate(i,"gen",!0))}else if(t.date!=null&&t.date instanceof Date){var n=t.millis===!0;this.hV=Hn(this.formatDate(t.date,"gen",n))}else t instanceof Date&&(this.hV=Hn(this.formatDate(t,"gen")));if(this.hV==null)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},e!=null&&this.setByParam(e)};H(c.asn1.DERGeneralizedTime,c.asn1.DERAbstractTime);c.asn1.DERSequence=function(e){c.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var t="",i=0;i<this.asn1Array.length;i++){var n=this.asn1Array[i];t+=n.tohex()}return this.hV=t,this.hV}};H(c.asn1.DERSequence,c.asn1.DERAbstractStructured);c.asn1.DERSet=function(e){c.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,i=0;i<this.asn1Array.length;i++){var n=this.asn1Array[i];t.push(n.tohex())}return this.sortFlag==!0&&t.sort(),this.hV=t.join(""),this.hV},typeof e<"u"&&typeof e.sortflag<"u"&&e.sortflag==!1&&(this.sortFlag=!1)};H(c.asn1.DERSet,c.asn1.DERAbstractStructured);c.asn1.DERTaggedObject=function(e){c.asn1.DERTaggedObject.superclass.constructor.call(this);var t=c.asn1,i=G,n=i.getV,r=i.isASN1HEX,s=t.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(o,a,u){this.params={tag:a,explicit:o,obj:u}},this.getFreshValueHex=function(){var o=this.params;if(o.explicit==null&&(o.explicit=!0),o.tage!=null&&(o.tag=o.tage,o.explicit=!0),o.tagi!=null&&(o.tag=o.tagi,o.explicit=!1),o.str!=null)this.hV=Bd(o.str);else if(o.hex!=null)this.hV=o.hex;else if(o.obj!=null){var a;o.obj instanceof t.ASN1Object?a=o.obj.tohex():typeof o.obj=="object"&&(a=s(o.obj).tohex()),o.explicit?this.hV=a:this.hV=n(a,0)}else throw new Error("str, hex nor obj not specified");return o.tag==null&&(o.tag="a0"),this.hT=o.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(o){this.params=o},e!==void 0&&this.setByParam(e)};H(c.asn1.DERTaggedObject,c.asn1.ASN1Object);var G=new function(){};G.getLblen=function(e,t){if(e.substr(t+2,1)!="8")return 1;var i=parseInt(e.substr(t+3,1));return i==0?-1:0<i&&i<10?i+1:-2};G.getL=function(e,t){var i=G.getLblen(e,t);return i<1?"":e.substr(t+2,i*2)};G.getVblen=function(e,t){var i,n;return i=G.getL(e,t),i==""?-1:(i.substr(0,1)==="8"?n=new B(i.substr(2),16):n=new B(i,16),n.intValue())};G.getVidx=function(e,t){var i=G.getLblen(e,t);return i<0?i:t+(i+1)*2};G.getV=function(e,t){var i=G.getVidx(e,t),n=G.getVblen(e,t);return e.substr(i,n*2)};G.getTLV=function(e,t){return e.substr(t,2)+G.getL(e,t)+G.getV(e,t)};G.getTLVblen=function(e,t){return 2+G.getLblen(e,t)*2+G.getVblen(e,t)*2};G.getNextSiblingIdx=function(e,t){var i=G.getVidx(e,t),n=G.getVblen(e,t);return i+n*2};G.getChildIdx=function(e,t){var i=G,n=[],r,s,o;r=i.getVidx(e,t),s=i.getVblen(e,t)*2,e.substr(t,2)=="03"&&(r+=2,s-=2),o=0;for(var a=r;o<=s;){var u=i.getTLVblen(e,a);if(o+=u,o<=s&&n.push(a),a+=u,o>=s)break}return n};G.getNthChildIdx=function(e,t,i){var n=G.getChildIdx(e,t);return n[i]};G.getIdxbyList=function(e,t,i,n){var r=G,s,o;return i.length==0?n!==void 0&&e.substr(t,2)!==n?-1:t:(s=i.shift(),o=r.getChildIdx(e,t),s>=o.length?-1:r.getIdxbyList(e,o[s],i,n))};G.getIdxbyListEx=function(e,t,i,n){var r=G,s,o;if(i.length==0)return n!==void 0&&e.substr(t,2)!==n?-1:t;s=i.shift(),o=r.getChildIdx(e,t);for(var a=0,u=0;u<o.length;u++){var l=e.substr(o[u],2);if(typeof s=="number"&&!r.isContextTag(l)&&a==s||typeof s=="string"&&r.isContextTag(l,s))return r.getIdxbyListEx(e,o[u],i,n);r.isContextTag(l)||a++}return-1};G.getTLVbyList=function(e,t,i,n){var r=G,s=r.getIdxbyList(e,t,i,n);return s==-1||s>=e.length?null:r.getTLV(e,s)};G.getTLVbyListEx=function(e,t,i,n){var r=G,s=r.getIdxbyListEx(e,t,i,n);return s==-1?null:r.getTLV(e,s)};G.getVbyList=function(e,t,i,n,r){var s=G,o,a;return o=s.getIdxbyList(e,t,i,n),o==-1||o>=e.length?null:(a=s.getV(e,o),r===!0&&(a=a.substr(2)),a)};G.getVbyListEx=function(e,t,i,n,r){var s=G,o,a,u;return o=s.getIdxbyListEx(e,t,i,n),o==-1?null:(u=s.getV(e,o),e.substr(o,2)=="03"&&r!==!1&&(u=u.substr(2)),u)};G.getInt=function(e,t,i){i==null&&(i=-1);try{var n=e.substr(t,2);if(n!="02"&&n!="03")return i;var r=G.getV(e,t);return n=="02"?parseInt(r,16):FE(r)}catch{return i}};G.getOID=function(e,t,i){i==null&&(i=null);try{if(e.substr(t,2)!="06")return i;var n=G.getV(e,t);return Ud(n)}catch{return i}};G.getOIDName=function(e,t,i){i==null&&(i=null);try{var n=G.getOID(e,t,i);if(n==i)return i;var r=c.asn1.x509.OID.oid2name(n);return r==""?n:r}catch{return i}};G.getString=function(e,t,i){i==null&&(i=null);try{var n=G.getV(e,t);return Un(n)}catch{return i}};G.hextooidstr=function(e){var t=function(g,d){return g.length>=d?g:new Array(d-g.length+1).join("0")+g},i=[],n=e.substr(0,2),r=parseInt(n,16);i[0]=new String(Math.floor(r/40)),i[1]=new String(r%40);for(var s=e.substr(2),o=[],a=0;a<s.length/2;a++)o.push(parseInt(s.substr(a*2,2),16));for(var u=[],l="",a=0;a<o.length;a++)o[a]&128?l=l+t((o[a]&127).toString(2),7):(l=l+t((o[a]&127).toString(2),7),u.push(new String(parseInt(l,2))),l="");var h=i.join(".");return u.length>0&&(h=h+"."+u.join(".")),h};G.dump=function(e,t,i,n){var r=G,s=r.getV,o=r.dump,a=r.getChildIdx,u=e;e instanceof c.asn1.ASN1Object&&(u=e.tohex());var l=function(k,_){if(k.length<=_*2)return k;var w=k.substr(0,_)+"..(total "+k.length/2+"bytes).."+k.substr(k.length-_,_);return w};t===void 0&&(t={ommit_long_octet:32}),i===void 0&&(i=0),n===void 0&&(n="");var h=t.ommit_long_octet,C=u.substr(i,2);if(C=="01"){var g=s(u,i);return g=="00"?n+`BOOLEAN FALSE
`:n+`BOOLEAN TRUE
`}if(C=="02"){var g=s(u,i);return n+"INTEGER "+l(g,h)+`
`}if(C=="03"){var g=s(u,i);if(r.isASN1HEX(g.substr(2))){var d=n+`BITSTRING, encapsulates
`;return d=d+o(g.substr(2),t,0,n+"  "),d}else return n+"BITSTRING "+l(g,h)+`
`}if(C=="04"){var g=s(u,i);if(r.isASN1HEX(g)){var d=n+`OCTETSTRING, encapsulates
`;return d=d+o(g,t,0,n+"  "),d}else return n+"OCTETSTRING "+l(g,h)+`
`}if(C=="05")return n+`NULL
`;if(C=="06"){var f=s(u,i),v=c.asn1.ASN1Util.oidHexToInt(f),p=c.asn1.x509.OID.oid2name(v),y=v.replace(/\./g," ");return p!=""?n+"ObjectIdentifier "+p+" ("+y+`)
`:n+"ObjectIdentifier ("+y+`)
`}if(C=="0a")return n+"ENUMERATED "+parseInt(s(u,i))+`
`;if(C=="0c")return n+"UTF8String '"+et(s(u,i))+`'
`;if(C=="13")return n+"PrintableString '"+et(s(u,i))+`'
`;if(C=="14")return n+"TeletexString '"+et(s(u,i))+`'
`;if(C=="16")return n+"IA5String '"+et(s(u,i))+`'
`;if(C=="17")return n+"UTCTime "+et(s(u,i))+`
`;if(C=="18")return n+"GeneralizedTime "+et(s(u,i))+`
`;if(C=="1a")return n+"VisualString '"+et(s(u,i))+`'
`;if(C=="1e")return n+"BMPString '"+Jm(s(u,i))+`'
`;if(C=="30"){if(u.substr(i,4)=="3000")return n+`SEQUENCE {}
`;var d=n+`SEQUENCE
`,m=a(u,i),b=t;if((m.length==2||m.length==3)&&u.substr(m[0],2)=="06"&&u.substr(m[m.length-1],2)=="04"){var p=r.oidname(s(u,m[0])),E=JSON.parse(JSON.stringify(t));E.x509ExtName=p,b=E}for(var D=0;D<m.length;D++)d=d+o(u,b,m[D],n+"  ");return d}if(C=="31"){for(var d=n+`SET
`,m=a(u,i),D=0;D<m.length;D++)d=d+o(u,t,m[D],n+"  ");return d}var C=parseInt(C,16);if(C&128){var O=C&31;if(C&32){for(var d=n+"["+O+`]
`,m=a(u,i),D=0;D<m.length;D++)d=d+o(u,t,m[D],n+"  ");return d}else{var g=s(u,i);if(G.isASN1HEX(g)){var d=n+"["+O+`]
`;return d=d+o(g,t,0,n+"  "),d}else(g.substr(0,8)=="68747470"||t.x509ExtName==="subjectAltName"&&O==2)&&(g=et(g));var d=n+"["+O+"] "+g+`
`;return d}}return n+"UNKNOWN("+C+") "+s(u,i)+`
`};G.parse=function(e){var t=G,i=t.parse,n=t.isASN1HEX,r=t.getV,s=t.getTLV,o=t.getChildIdx,a=c.asn1,u=a.ASN1Util.oidHexToInt,l=a.x509.OID.oid2name,h=et,g=Jm,d=jk,f={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},v=function(w){for(var S=[],x=o(w,0),T=0;T<x.length;T++){var N=x[T],I=s(w,N),A=i(I);S.push(A)}return S},p=e.substr(0,2),y={},m=r(e,0);if(p=="01")return e=="0101ff"?{bool:!0}:{bool:!1};if(p=="02")return{int:{hex:m}};if(p=="03")try{if(m.substr(0,2)!="00")throw"not encap";var b=m.substr(2);if(!n(b))throw"not encap";return{bitstr:{obj:i(b)}}}catch{var E=null;return m.length<=10&&(E=RE(m)),E==null?{bitstr:{hex:m}}:{bitstr:{bin:E}}}else if(p=="04")try{if(!n(m))throw"not encap";return{octstr:{obj:i(m)}}}catch{return{octstr:{hex:m}}}else{if(p=="05")return{null:""};if(p=="06"){var D=u(m),C=l(D);return C==""?{oid:D}:{oid:C}}else{if(p=="0a")return m.length>4?{enum:{hex:m}}:{enum:parseInt(m,16)};if(p=="30"||p=="31")return y[f[p]]=v(e),y;if(p=="14"){var O=d(m);return y[f[p]]={str:O},y}else if(p=="1e"){var O=g(m);return y[f[p]]={str:O},y}else if(":0c:12:13:16:17:18:1a:".indexOf(p)!=-1){var O=h(m);return y[f[p]]={str:O},y}else if(p.match(/^8[0-9]$/)){var O=h(m);return O==null|O==""?{tag:{tag:p,explicit:!1,hex:m}}:O.match(/[\x00-\x1F\x7F-\x9F]/)!=null||O.match(/[\u0000-\u001F\u0080\u009F]/)!=null?{tag:{tag:p,explicit:!1,hex:m}}:{tag:{tag:p,explicit:!1,str:O}}}else if(p.match(/^a[0-9]$/))try{if(!n(m))throw new Error("not encap");return{tag:{tag:p,explicit:!0,obj:i(m)}}}catch{return{tag:{tag:p,explicit:!0,hex:m}}}else{var k=new c.asn1.ASN1Object;k.hV=m;var _=k.getLengthHexFromValue();return{asn1:{tlv:p+_+m}}}}}};G.isContextTag=function(e,t){e=e.toLowerCase();var i,n;try{i=parseInt(e,16)}catch{return-1}if(t===void 0)return(i&192)==128;try{var r=t.match(/^\[[0-9]+\]$/);return r==null||(n=parseInt(t.substr(1,t.length-1),10),n>31)?!1:(i&192)==128&&(i&31)==n}catch{return!1}};G.isASN1HEX=function(e){var t=G;if(e.length%2==1)return!1;var i=t.getVblen(e,0),n=e.substr(0,2),r=t.getL(e,0),s=e.length-n.length-r.length;return s==i*2};G.checkStrictDER=function(e,t,i,n,r){var s=G;if(i===void 0){if(typeof e!="string")throw new Error("not hex string");if(e=e.toLowerCase(),!c.lang.String.isHex(e))throw new Error("not hex string");i=e.length,n=e.length/2,n<128?r=1:r=Math.ceil(n.toString(16))+1}var o=s.getL(e,t);if(o.length>r*2)throw new Error("L of TLV too long: idx="+t);var a=s.getVblen(e,t);if(a>n)throw new Error("value of L too long than hex: idx="+t);var u=s.getTLV(e,t),l=u.length-2-s.getL(e,t).length;if(l!==a*2)throw new Error("V string length and L's value not the same:"+l+"/"+a*2);if(t===0&&e.length!=u.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+u.length);var h=e.substr(t,2);if(h==="02"){var g=s.getVidx(e,t);if(e.substr(g,2)=="00"&&e.charCodeAt(g+2)<56)throw new Error("not least zeros for DER INTEGER")}if(parseInt(h,16)&32){for(var d=s.getVblen(e,t),f=0,v=s.getChildIdx(e,t),p=0;p<v.length;p++){var y=s.getTLV(e,v[p]);f+=y.length,s.checkStrictDER(e,v[p],i,n,r)}if(d*2!=f)throw new Error("sum of children's TLV length and L unmatch: "+d*2+"!="+f)}};G.oidname=function(e){var t=c.asn1;c.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var i=t.x509.OID.oid2name(e);return i===""&&(i=e),i};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.x509>"u"||!c.asn1.x509)&&(c.asn1.x509={});c.asn1.x509.Certificate=function(e){c.asn1.x509.Certificate.superclass.constructor.call(this);var t=c,i=t.asn1,n=i.DERBitString,r=i.DERSequence,s=i.x509,o=s.TBSCertificate,a=s.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(u){this.params=u},this.sign=function(){var u=this.params,l=u.sigalg;u.sigalg.name!=null&&(l=u.sigalg.name);var h=u.tbsobj.tohex(),g=new c.crypto.Signature({alg:l});g.init(u.cakey),g.updateHex(h),u.sighex=g.sign()},this.getPEM=function(){return Dn(this.tohex(),"CERTIFICATE")},this.tohex=function(){var u=this.params;if((u.tbsobj==null||u.tbsobj==null)&&(u.tbsobj=new o(u)),u.sighex==null&&u.cakey!=null&&this.sign(),u.sighex==null)throw new Error("sighex or cakey parameter not defined");var l=[];l.push(u.tbsobj),l.push(new a({name:u.sigalg})),l.push(new n({hex:"00"+u.sighex}));var h=new r({array:l});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&(this.params=e)};H(c.asn1.x509.Certificate,c.asn1.ASN1Object);c.asn1.x509.TBSCertificate=function(e){c.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=c,i=t.asn1,n=i.x509,r=i.DERTaggedObject,s=i.DERInteger,o=i.DERSequence,a=n.AlgorithmIdentifier,u=n.Time,l=n.X500Name,h=n.Extensions,g=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(d){this.params=d},this.tohex=function(){var d=[],f=this.params;if(f.version!=null||f.version!=1){var v=2;f.version!=null&&(v=f.version-1);var p=new r({obj:new s({int:v})});d.push(p)}d.push(new s(f.serial)),d.push(new a({name:f.sigalg})),d.push(new l(f.issuer)),d.push(new o({array:[new u(f.notbefore),new u(f.notafter)]})),d.push(new l(f.subject)),d.push(new g(Oe.getKey(f.sbjpubkey))),f.ext!==void 0&&f.ext.length>0&&d.push(new r({tag:"a3",obj:new h(f.ext)}));var y=new c.asn1.DERSequence({array:d});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.TBSCertificate,c.asn1.ASN1Object);c.asn1.x509.Extensions=function(e){c.asn1.x509.Extensions.superclass.constructor.call(this);var t=c,i=t.asn1,n=i.DERSequence,r=i.x509;this.aParam=[],this.setByParam=function(s){this.aParam=s},this.tohex=function(){for(var s=[],o=0;o<this.aParam.length;o++){var a=this.aParam[o],u=a.extname,l=null;if(a.extn!=null)l=new r.PrivateExtension(a);else if(u=="subjectKeyIdentifier")l=new r.SubjectKeyIdentifier(a);else if(u=="keyUsage")l=new r.KeyUsage(a);else if(u=="subjectAltName")l=new r.SubjectAltName(a);else if(u=="issuerAltName")l=new r.IssuerAltName(a);else if(u=="basicConstraints")l=new r.BasicConstraints(a);else if(u=="nameConstraints")l=new r.NameConstraints(a);else if(u=="cRLDistributionPoints")l=new r.CRLDistributionPoints(a);else if(u=="certificatePolicies")l=new r.CertificatePolicies(a);else if(u=="policyMappings")l=new r.PolicyMappings(a);else if(u=="policyConstraints")l=new r.PolicyConstraints(a);else if(u=="inhibitAnyPolicy")l=new r.InhibitAnyPolicy(a);else if(u=="authorityKeyIdentifier")l=new r.AuthorityKeyIdentifier(a);else if(u=="extKeyUsage")l=new r.ExtKeyUsage(a);else if(u=="authorityInfoAccess")l=new r.AuthorityInfoAccess(a);else if(u=="cRLNumber")l=new r.CRLNumber(a);else if(u=="cRLReason")l=new r.CRLReason(a);else if(u=="ocspNonce")l=new r.OCSPNonce(a);else if(u=="ocspNoCheck")l=new r.OCSPNoCheck(a);else if(u=="adobeTimeStamp")l=new r.AdobeTimeStamp(a);else if(u=="subjectDirectoryAttributes")l=new r.SubjectDirectoryAttributes(a);else throw new Error("extension not supported:"+JSON.stringify(a));l!=null&&s.push(l)}var h=new n({array:s});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.x509.Extensions,c.asn1.ASN1Object);c.asn1.x509.Extension=function(e){c.asn1.x509.Extension.superclass.constructor.call(this);var t=null,i=c,n=i.asn1,r=n.DERObjectIdentifier,s=n.DEROctetString,o=n.DERBitString,a=n.DERBoolean,u=n.DERSequence;this.tohex=function(){var l=new r({oid:this.oid}),h=new s({hex:this.getExtnValueHex()}),g=new Array;g.push(l),this.critical&&g.push(new a),g.push(h);var d=new u({array:g});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,e!==void 0&&e.critical!==void 0&&(this.critical=e.critical)};H(c.asn1.x509.Extension,c.asn1.ASN1Object);c.asn1.x509.KeyUsage=function(e){c.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,i={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var n=this.getBinValue();return this.asn1ExtnValue=new c.asn1.DERBitString({bin:n}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var n=this.params;if(typeof n!="object"||typeof n.names!="object"&&typeof n.bin!="string")throw new t("parameter not yet set");if(n.names!=null)return Rd(n.names,i);if(n.bin!=null)return n.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",e!==void 0&&(this.params=e)};H(c.asn1.x509.KeyUsage,c.asn1.x509.Extension);c.asn1.x509.BasicConstraints=function(e){c.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=c.asn1,i=t.DERBoolean,n=t.DERInteger,r=t.DERSequence,s=!1,o=-1;this.getExtnValueHex=function(){var a=new Array;this.cA&&a.push(new i),this.pathLen>-1&&a.push(new n({int:this.pathLen}));var u=new r({array:a});return this.asn1ExtnValue=u,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,e!==void 0&&(e.cA!==void 0&&(this.cA=e.cA),e.pathLen!==void 0&&(this.pathLen=e.pathLen))};H(c.asn1.x509.BasicConstraints,c.asn1.x509.Extension);c.asn1.x509.CRLDistributionPoints=function(e){c.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(r){for(var s=[],o=0;o<r.length;o++)if(r[o]instanceof c.asn1.ASN1Object)s.push(r[o]);else{var a=new n.DistributionPoint(r[o]);s.push(a)}this.asn1ExtnValue=new i.DERSequence({array:s})},this.setByOneURI=function(r){var s=new n.DistributionPoint({fulluri:r});this.setByDPArray([s])},this.oid="2.5.29.31",e!==void 0&&(e.array!==void 0?this.setByDPArray(e.array):e.uri!==void 0&&this.setByOneURI(e.uri))};H(c.asn1.x509.CRLDistributionPoints,c.asn1.x509.Extension);c.asn1.x509.DistributionPoint=function(e){c.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=null,i=c,n=i.asn1,r=n.x509.DistributionPointName;this.tohex=function(){var s=new n.DERSequence;if(this.asn1DP!=null){var o=new n.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});s.appendASN1Object(o)}return this.hTLV=s.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.dpobj!==void 0?this.asn1DP=e.dpobj:e.dpname!==void 0?this.asn1DP=new r(e.dpname):e.fulluri!==void 0&&(this.asn1DP=new r({full:[{uri:e.fulluri}]})))};H(c.asn1.x509.DistributionPoint,c.asn1.ASN1Object);c.asn1.x509.DistributionPointName=function(e){c.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=null,i=null,n=null,r=null,s=c,o=s.asn1,a=o.DERTaggedObject;if(this.tohex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new a({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0)if(o.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else if(e.full!==void 0)this.type="full",this.tag="a0",this.asn1V=new o.x509.GeneralNames(e.full);else throw new Error("This class supports GeneralNames only as argument")};H(c.asn1.x509.DistributionPointName,c.asn1.ASN1Object);c.asn1.x509.CertificatePolicies=function(e){c.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.x509,r=i.DERSequence,s=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var o=[],a=0;a<this.params.array.length;a++)o.push(new s(this.params.array[a]));var u=new r({array:o});return this.asn1ExtnValue=u,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",e!==void 0&&(this.params=e)};H(c.asn1.x509.CertificatePolicies,c.asn1.x509.Extension);c.asn1.x509.PolicyInformation=function(e){c.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=c.asn1,i=t.DERSequence,n=t.DERObjectIdentifier,r=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var s=[new n(this.params.policyoid)];if(this.params.array!==void 0){for(var o=[],a=0;a<this.params.array.length;a++)o.push(new r(this.params.array[a]));o.length>0&&s.push(new i({array:o}))}var u=new i({array:s});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};H(c.asn1.x509.PolicyInformation,c.asn1.ASN1Object);c.asn1.x509.PolicyQualifierInfo=function(e){c.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=c.asn1,i=t.DERSequence,n=t.DERIA5String,r=t.DERObjectIdentifier,s=t.x509.UserNotice;this.params=null,this.tohex=function(){if(this.params.cps!==void 0){var o=new i({array:[new r({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]});return o.tohex()}if(this.params.unotice!=null){var o=new i({array:[new r({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]});return o.tohex()}},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};H(c.asn1.x509.PolicyQualifierInfo,c.asn1.ASN1Object);c.asn1.x509.UserNotice=function(e){c.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=c.asn1.DERSequence,i=c.asn1.DERInteger,n=c.asn1.x509.DisplayText,r=c.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var s=[];this.params.noticeref!==void 0&&s.push(new r(this.params.noticeref)),this.params.exptext!==void 0&&s.push(new n(this.params.exptext));var o=new t({array:s});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};H(c.asn1.x509.UserNotice,c.asn1.ASN1Object);c.asn1.x509.NoticeReference=function(e){c.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=c.asn1.DERSequence,i=c.asn1.DERInteger,n=c.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var r=[];if(this.params.org!==void 0&&r.push(new n(this.params.org)),this.params.noticenum!==void 0){for(var s=[],o=this.params.noticenum,a=0;a<o.length;a++)s.push(new i(o[a]));r.push(new t({array:s}))}if(r.length==0)throw new Error("parameter is empty");var u=new t({array:r});return u.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(this.params=e)};H(c.asn1.x509.NoticeReference,c.asn1.ASN1Object);c.asn1.x509.DisplayText=function(e){c.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",e!==void 0&&(e.type==="ia5"?this.hT="16":e.type==="vis"?this.hT="1a":e.type==="bmp"&&(this.hT="1e"))};H(c.asn1.x509.DisplayText,c.asn1.DERAbstractString);c.asn1.x509.PolicyMappings=function(e){c.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.x509,r=i.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var s=this.params,o=[],a=0;a<s.array.length;a++){var u=s.array[a];o.push({seq:[{oid:u[0]},{oid:u[1]}]})}return this.asn1ExtnValue=r({seq:o}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",e!==void 0&&(this.params=e)};H(c.asn1.x509.PolicyMappings,c.asn1.x509.Extension);c.asn1.x509.PolicyConstraints=function(e){c.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.x509,r=i.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var s=this.params,o=[];return s.reqexp!=null&&o.push({tag:{tagi:"80",obj:{int:s.reqexp}}}),s.inhibit!=null&&o.push({tag:{tagi:"81",obj:{int:s.inhibit}}}),this.asn1ExtnValue=r({seq:o}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",e!==void 0&&(this.params=e)};H(c.asn1.x509.PolicyConstraints,c.asn1.x509.Extension);c.asn1.x509.InhibitAnyPolicy=function(e){c.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.x509,r=i.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=r({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",e!==void 0&&(this.params=e)};H(c.asn1.x509.InhibitAnyPolicy,c.asn1.x509.Extension);c.asn1.x509.NameConstraints=function(e){c.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.x509,r=i.ASN1Util.newObject,s=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var o=this.params,a=[];if(o.permit!=null&&o.permit.length!=null){for(var u=[],l=0;l<o.permit.length;l++)u.push(new s(o.permit[l]));a.push({tag:{tagi:"a0",obj:{seq:u}}})}if(o.exclude!=null&&o.exclude.length!=null){for(var h=[],l=0;l<o.exclude.length;l++)h.push(new s(o.exclude[l]));a.push({tag:{tagi:"a1",obj:{seq:h}}})}return this.asn1ExtnValue=r({seq:a}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",e!==void 0&&(this.params=e)};H(c.asn1.x509.NameConstraints,c.asn1.x509.Extension);c.asn1.x509.GeneralSubtree=function(e){c.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=c.asn1,i=t.x509,n=i.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(s){this.params=s},this.tohex=function(){var s=this.params,o=[new n(s)];s.min!=null&&o.push({tag:{tagi:"80",obj:{int:s.min}}}),s.max!=null&&o.push({tag:{tagi:"81",obj:{int:s.max}}});var a=r({seq:o});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.GeneralSubtree,c.asn1.ASN1Object);c.asn1.x509.ExtKeyUsage=function(e){c.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=c,i=t.asn1;this.setPurposeArray=function(n){this.asn1ExtnValue=new i.DERSequence;for(var r=0;r<n.length;r++){var s=new i.DERObjectIdentifier(n[r]);this.asn1ExtnValue.appendASN1Object(s)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",e!==void 0&&e.array!==void 0&&this.setPurposeArray(e.array)};H(c.asn1.x509.ExtKeyUsage,c.asn1.x509.Extension);c.asn1.x509.AuthorityKeyIdentifier=function(e){c.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.DERTaggedObject,r=i.x509.GeneralNames,s=t.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var o=new Array;this.asn1KID&&o.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&o.push(new n({explicit:!1,tag:"a1",obj:new r([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&o.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var a=new i.DERSequence({array:o});return this.asn1ExtnValue=a,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(o){if(o.str!==void 0||o.hex!==void 0)this.asn1KID=new c.asn1.DEROctetString(o);else if(typeof o=="object"&&c.crypto.Util.isKey(o)||typeof o=="string"&&o.indexOf("BEGIN ")!=-1){var a=o;typeof o=="string"&&(a=Oe.getKey(o));var u=Oe.getKeyID(a);this.asn1KID=new c.asn1.DEROctetString({hex:u})}},this.setCertIssuerByParam=function(o){o.str!==void 0||o.ldapstr!==void 0||o.hex!==void 0||o.certsubject!==void 0||o.certissuer!==void 0?this.asn1CertIssuer=new c.asn1.x509.X500Name(o):typeof o=="string"&&o.indexOf("BEGIN ")!=-1&&o.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new c.asn1.x509.X500Name({certissuer:o}))},this.setCertSNByParam=function(o){if(o.str!==void 0||o.bigint!==void 0||o.hex!==void 0)this.asn1CertSN=new c.asn1.DERInteger(o);else if(typeof o=="string"&&o.indexOf("BEGIN ")!=-1&&o.indexOf("CERTIFICATE")){var a=new ae;a.readCertPEM(o);var u=a.getSerialNumberHex();this.asn1CertSN=new c.asn1.DERInteger({hex:u})}},this.oid="2.5.29.35",e!==void 0&&(e.kid!==void 0&&this.setKIDByParam(e.kid),e.issuer!==void 0&&this.setCertIssuerByParam(e.issuer),e.sn!==void 0&&this.setCertSNByParam(e.sn),e.issuersn!==void 0&&typeof e.issuersn=="string"&&e.issuersn.indexOf("BEGIN ")!=-1&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))};H(c.asn1.x509.AuthorityKeyIdentifier,c.asn1.x509.Extension);c.asn1.x509.SubjectKeyIdentifier=function(e){c.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(r){if(r.str!==void 0||r.hex!==void 0)this.asn1KID=new n(r);else if(typeof r=="object"&&c.crypto.Util.isKey(r)||typeof r=="string"&&r.indexOf("BEGIN")!=-1){var s=r;typeof r=="string"&&(s=Oe.getKey(r));var o=Oe.getKeyID(s);this.asn1KID=new c.asn1.DEROctetString({hex:o})}},this.oid="2.5.29.14",e!==void 0&&e.kid!==void 0&&this.setKIDByParam(e.kid)};H(c.asn1.x509.SubjectKeyIdentifier,c.asn1.x509.Extension);c.asn1.x509.AuthorityInfoAccess=function(e){c.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(t){for(var i=new Array,n=c,r=n.asn1,s=r.DERSequence,o=r.DERObjectIdentifier,a=r.x509.GeneralName,u=0;u<t.length;u++){var l,h=t[u];if(h.ocsp!==void 0)l=new s({array:[new o({oid:"1.3.6.1.5.5.7.48.1"}),new a({uri:h.ocsp})]});else if(h.caissuer!==void 0)l=new s({array:[new o({oid:"1.3.6.1.5.5.7.48.2"}),new a({uri:h.caissuer})]});else throw new Error("unknown AccessMethod parameter: "+JSON.stringify(h));i.push(l)}this.asn1ExtnValue=new s({array:i})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",e!==void 0&&e.array!==void 0&&this.setAccessDescriptionArray(e.array)};H(c.asn1.x509.AuthorityInfoAccess,c.asn1.x509.Extension);c.asn1.x509.SubjectAltName=function(e){c.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(t){this.asn1ExtnValue=new c.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",e!==void 0&&e.array!==void 0&&this.setNameArray(e.array)};H(c.asn1.x509.SubjectAltName,c.asn1.x509.Extension);c.asn1.x509.IssuerAltName=function(e){c.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(t){this.asn1ExtnValue=new c.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",e!==void 0&&e.array!==void 0&&this.setNameArray(e.array)};H(c.asn1.x509.IssuerAltName,c.asn1.x509.Extension);c.asn1.x509.SubjectDirectoryAttributes=function(e){c.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=c.asn1,i=t.DERSequence,n=t.ASN1Util.newObject,r=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var s=[],o=0;o<this.params.array.length;o++){var a=this.params.array[o];if(a.attr!=null&&a.array!=null){var u={seq:[{oid:a.attr},{set:a.array}]};s.push(n(u));continue}var l={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(a.attr=="dateOfBirth")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={gentime:a.str};else if(a.attr=="placeOfBirth")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={utf8str:a.str};else if(a.attr=="gender")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={prnstr:a.str};else if(a.attr=="countryOfCitizenship")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={prnstr:a.str};else if(a.attr=="countryOfResidence")l.seq[0].oid=r(a.attr),l.seq[1].set[0]={prnstr:a.str};else throw new Error("unsupported attribute: "+a.attr);s.push(new n(l))}var h=new i({array:s});return this.asn1ExtnValue=h,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",e!==void 0&&(this.params=e)};H(c.asn1.x509.SubjectDirectoryAttributes,c.asn1.x509.Extension);c.asn1.x509.PrivateExtension=function(e){c.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=c,i=t.lang.String.isHex,n=t.asn1,r=n.x509.OID.name2oid,s=n.ASN1Util.newObject;this.params=null,this.setByParam=function(o){this.oid=r(o.extname),this.params=o},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var o=this.params.extn;if(typeof o=="string"&&i(o))return o;if(typeof o=="object")try{return s(o).tohex()}catch{}throw new Error("unsupported extn value")},e!=null&&this.setByParam(e)};H(c.asn1.x509.PrivateExtension,c.asn1.x509.Extension);c.asn1.x509.CRL=function(e){c.asn1.x509.CRL.superclass.constructor.call(this);var t=c,i=t.asn1,n=i.DERSequence,r=i.DERBitString,s=i.x509,o=s.AlgorithmIdentifier,a=s.TBSCertList;this.params=void 0,this.setByParam=function(u){this.params=u},this.sign=function(){var u=new a(this.params).tohex(),l=new c.crypto.Signature({alg:this.params.sigalg});l.init(this.params.cakey),l.updateHex(u);var h=l.sign();this.params.sighex=h},this.getPEM=function(){return Dn(this.tohex(),"X509 CRL")},this.tohex=function(){var u=this.params;if(u.tbsobj==null&&(u.tbsobj=new a(u)),u.sighex==null&&u.cakey!=null&&this.sign(),u.sighex==null)throw new Error("sighex or cakey parameter not defined");var l=[];l.push(u.tbsobj),l.push(new o({name:u.sigalg})),l.push(new r({hex:"00"+u.sighex}));var h=new n({array:l});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&(this.params=e)};H(c.asn1.x509.CRL,c.asn1.ASN1Object);c.asn1.x509.TBSCertList=function(e){c.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=c,i=t.asn1,n=i.DERInteger,r=i.DERSequence,s=i.DERTaggedObject,o=i.DERObjectIdentifier,a=i.x509,u=a.AlgorithmIdentifier,l=a.Time,h=a.Extensions,g=a.X500Name;this.params=null,this.setByParam=function(d){this.params=d},this.getRevCertSequence=function(){for(var d=[],f=this.params.revcert,v=0;v<f.length;v++){var p=[new n(f[v].sn),new l(f[v].date)];f[v].ext!=null&&p.push(new h(f[v].ext)),d.push(new r({array:p}))}return new r({array:d})},this.tohex=function(){var d=[],f=this.params;if(f.version!=null){var v=f.version-1,p=new n({int:v});d.push(p)}if(d.push(new u({name:f.sigalg})),d.push(new g(f.issuer)),d.push(new l(f.thisupdate)),f.nextupdate!=null&&d.push(new l(f.nextupdate)),f.revcert!=null&&d.push(this.getRevCertSequence()),f.ext!=null){var y=new h(f.ext);d.push(new s({tag:"a0",explicit:!0,obj:y}))}var m=new r({array:d});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.TBSCertList,c.asn1.ASN1Object);c.asn1.x509.CRLEntry=function(e){c.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=null,i=null,n=c,r=n.asn1;this.setCertSerial=function(s){this.sn=new r.DERInteger(s)},this.setRevocationDate=function(s){this.time=new r.x509.Time(s)},this.tohex=function(){var s=new r.DERSequence({array:[this.sn,this.time]});return this.TLV=s.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.time!==void 0&&this.setRevocationDate(e.time),e.sn!==void 0&&this.setCertSerial(e.sn))};H(c.asn1.x509.CRLEntry,c.asn1.ASN1Object);c.asn1.x509.CRLNumber=function(e){c.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",e!=null&&(this.params=e)};H(c.asn1.x509.CRLNumber,c.asn1.x509.Extension);c.asn1.x509.CRLReason=function(e){c.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",e!=null&&(this.params=e)};H(c.asn1.x509.CRLReason,c.asn1.x509.Extension);c.asn1.x509.OCSPNonce=function(e){c.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",e!=null&&(this.params=e)};H(c.asn1.x509.OCSPNonce,c.asn1.x509.Extension);c.asn1.x509.OCSPNoCheck=function(e){c.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new c.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",e!=null&&(this.params=e)};H(c.asn1.x509.OCSPNoCheck,c.asn1.x509.Extension);c.asn1.x509.AdobeTimeStamp=function(e){c.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=c,i=t.asn1,n=i.DERInteger,r=i.DERBoolean,s=i.DERSequence,o=i.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var a=this.params,u=[new n(1)];return u.push(new o({uri:a.uri})),a.reqauth!=null&&u.push(new r(a.reqauth)),this.asn1ExtnValue=new s({array:u}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",e!==void 0&&this.setByParam(e)};H(c.asn1.x509.AdobeTimeStamp,c.asn1.x509.Extension);c.asn1.x509.X500Name=function(e){c.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=c,i=t.asn1,n=i.x509,r=n.RDN,s=Dt;this.setByString=function(o,a){a!==void 0&&(this.sRule=a);var u=o.split("/");u.shift();for(var l=[],h=0;h<u.length;h++)if(u[h].match(/^[^=]+=.+$/))l.push(u[h]);else{var g=l.length-1;l[g]=l[g]+"/"+u[h]}for(var h=0;h<l.length;h++)this.asn1Array.push(new r({str:l[h],rule:this.sRule}))},this.setByLdapString=function(o,a){a!==void 0&&(this.sRule=a);var u=n.X500Name.ldapToCompat(o);this.setByString(u,a)},this.setByObject=function(o,a){a!==void 0&&(this.sRule=a);for(var u in o)if(o.hasOwnProperty(u)){var l=new r({str:u+"="+o[u],rule:this.sRule});this.asn1Array?this.asn1Array.push(l):this.asn1Array=[l]}},this.setByParam=function(o){if(o.rule!==void 0&&(this.sRule=o.rule),o.array!==void 0)this.paramArray=o.array;else if(o.str!==void 0)this.setByString(o.str);else if(o.ldapstr!==void 0)this.setByLdapString(o.ldapstr);else if(o.hex!==void 0)this.hTLV=o.hex;else if(o.certissuer!==void 0){var a=new ae;a.readCertPEM(o.certissuer),this.hTLV=a.getIssuerHex()}else if(o.certsubject!==void 0){var a=new ae;a.readCertPEM(o.certsubject),this.hTLV=a.getSubjectHex()}else typeof o=="object"&&o.certsubject===void 0&&o.certissuer===void 0&&this.setByObject(o)},this.tohex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var o=0;o<this.paramArray.length;o++){var a={array:this.paramArray[o]};this.sRule!="utf8"&&(a.rule=this.sRule);var u=new r(a);this.asn1Array.push(u)}var l=new i.DERSequence({array:this.asn1Array});return this.hTLV=l.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.X500Name,c.asn1.ASN1Object);c.asn1.x509.X500Name.compatToLDAP=function(e){if(e.substr(0,1)!=="/")throw"malformed input";var t="";e=e.substr(1);var i=e.split("/");return i.reverse(),i=i.map(function(n){return n.replace(/,/,"\\,")}),i.join(",")};c.asn1.x509.X500Name.onelineToLDAP=function(e){return c.asn1.x509.X500Name.compatToLDAP(e)};c.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),i=!1,n=[],r=0;t.length>0;r++){var s=t.shift();if(i===!0){var o=n.pop(),a=(o+","+s).replace(/\\,/g,",");n.push(a),i=!1}else n.push(s);s.substr(-1,1)==="\\"&&(i=!0)}return n=n.map(function(u){return u.replace("/","\\/")}),n.reverse(),"/"+n.join("/")};c.asn1.x509.X500Name.ldapToOneline=function(e){return c.asn1.x509.X500Name.ldapToCompat(e)};c.asn1.x509.RDN=function(e){c.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=c.asn1.x509.AttributeTypeAndValue;this.setByParam=function(i){i.rule!==void 0&&(this.sRule=i.rule),i.str!==void 0&&this.addByMultiValuedString(i.str),i.array!==void 0&&(this.paramArray=i.array)},this.addByString=function(i){this.asn1Array.push(new c.asn1.x509.AttributeTypeAndValue({str:i,rule:this.sRule}))},this.addByMultiValuedString=function(i){for(var n=c.asn1.x509.RDN.parseString(i),r=0;r<n.length;r++)this.addByString(n[r])},this.tohex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var i=0;i<this.paramArray.length;i++){var n=this.paramArray[i];n.rule!==void 0&&this.sRule!="utf8"&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var s=new c.asn1.DERSet({array:this.asn1Array});return this.TLV=s.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.RDN,c.asn1.ASN1Object);c.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),i=!1,n=[],r=0;t.length>0;r++){var s=t.shift();if(i===!0){var o=n.pop(),a=(o+"+"+s).replace(/\\\+/g,"+");n.push(a),i=!1}else n.push(s);s.substr(-1,1)==="\\"&&(i=!0)}for(var u=!1,l=[],r=0;n.length>0;r++){var s=n.shift();if(u===!0){var h=l.pop();if(s.match(/"$/)){var a=(h+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2");l.push(a),u=!1}else l.push(h+"+"+s)}else l.push(s);s.match(/^[^=]+="/)&&(u=!0)}return l};c.asn1.x509.AttributeTypeAndValue=function(e){c.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=c,i=t.asn1,n=i.DERSequence,r=i.DERUTF8String,s=i.DERPrintableString,o=i.DERTeletexString,a=i.DERIA5String,u=i.DERVisibleString,l=i.DERBMPString,h=t.lang.String.isMail,g=t.lang.String.isPrintable;this.setByParam=function(d){if(d.rule!==void 0&&(this.sRule=d.rule),d.ds!==void 0&&(this.dsType=d.ds),d.value===void 0&&d.str!==void 0){var f=d.str,v=f.match(/^([^=]+)=(.+)$/);if(v)this.sType=v[1],this.sValue=v[2];else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)}else this.sType=d.type,this.sValue=d.value},this.setByString=function(d,f){f!==void 0&&(this.sRule=f);var v=d.match(/^([^=]+)=(.+)$/);if(v)this.setByAttrTypeAndValueStr(v[1],v[2]);else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)},this._getDsType=function(){var d=this.sType,f=this.sValue,v=this.sRule;return v==="prn"?d=="CN"&&h(f)?"ia5":g(f)?"prn":"utf8":v==="utf8"?d=="CN"&&h(f)?"ia5":d=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(d,f,v){v!==void 0&&(this.sRule=v),this.sType=d,this.sValue=f},this.getValueObj=function(d,f){if(d=="utf8")return new r({str:f});if(d=="prn")return new s({str:f});if(d=="tel")return new o({str:f});if(d=="ia5")return new a({str:f});if(d=="vis")return new u({str:f});if(d=="bmp")return new l({str:f});throw new Error("unsupported directory string type: type="+d+" value="+f)},this.tohex=function(){this.dsType==null&&(this.dsType=this._getDsType());var d=c.asn1.x509.OID.atype2obj(this.sType),f=this.getValueObj(this.dsType,this.sValue),v=new n({array:[d,f]});return this.TLV=v.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.AttributeTypeAndValue,c.asn1.ASN1Object);c.asn1.x509.SubjectPublicKeyInfo=function(e){c.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=null,i=null,n=c,r=n.asn1,s=r.DERInteger,o=r.DERBitString,a=r.DERObjectIdentifier,u=r.DERSequence,l=r.ASN1Util.newObject,h=r.x509,g=h.AlgorithmIdentifier,d=n.crypto,f=d.ECDSA,v=d.DSA;this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";var p=new u({array:[this.asn1AlgId,this.asn1SubjPKey]});return p},this.tohex=function(){var p=this.getASN1Object();return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(p){try{if(p instanceof me){var y=l({seq:[{int:{bigint:p.n}},{int:{int:p.e}}]}),m=y.tohex();this.asn1AlgId=new g({name:"rsaEncryption"}),this.asn1SubjPKey=new o({hex:"00"+m})}}catch{}try{if(p instanceof c.crypto.ECDSA){var b=new a({name:p.curveName});this.asn1AlgId=new g({name:"ecPublicKey",asn1params:b}),this.asn1SubjPKey=new o({hex:"00"+p.pubKeyHex})}}catch{}try{if(p instanceof c.crypto.DSA){var b=new l({seq:[{int:{bigint:p.p}},{int:{bigint:p.q}},{int:{bigint:p.g}}]});this.asn1AlgId=new g({name:"dsa",asn1params:b});var E=new s({bigint:p.y});this.asn1SubjPKey=new o({hex:"00"+E.tohex()})}}catch{}},e!==void 0&&this.setPubKey(e)};H(c.asn1.x509.SubjectPublicKeyInfo,c.asn1.ASN1Object);c.asn1.x509.Time=function(e){c.asn1.x509.Time.superclass.constructor.call(this);var t=null,i=null,n=c,r=n.asn1,s=r.DERUTCTime,o=r.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(a){this.timeParams=a},this.setByParam=function(a){this.params=a},this.getType=function(a){return a.match(/^[0-9]{12}Z$/)?"utc":a.match(/^[0-9]{14}Z$/)?"gen":a.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":a.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var a=this.params,u=null;if(typeof a=="string"&&(a={str:a}),a!=null&&a.str&&(a.type==null||a.type==null)&&(a.type=this.getType(a.str)),a!=null&&a.str?(a.type=="utc"&&(u=new s(a.str)),a.type=="gen"&&(u=new o(a.str))):this.type=="gen"?u=new o:u=new s,u==null)throw new Error("wrong setting for Time");return this.TLV=u.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};c.asn1.x509.Time_bak=function(e){c.asn1.x509.Time_bak.superclass.constructor.call(this);var t=null,i=null,n=c,r=n.asn1,s=r.DERUTCTime,o=r.DERGeneralizedTime;this.setTimeParams=function(a){this.timeParams=a},this.tohex=function(){var a=null;return this.timeParams!=null?this.type=="utc"?a=new s(this.timeParams):a=new o(this.timeParams):this.type=="utc"?a=new s:a=new o,this.TLV=a.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",e!==void 0&&(e.type!==void 0?this.type=e.type:e.str!==void 0&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)};H(c.asn1.x509.Time,c.asn1.ASN1Object);c.asn1.x509.AlgorithmIdentifier=function(e){c.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=c,i=t.asn1,n=i.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var s=null;for(var o in n)o===this.nameAlg&&(s=n[o]);if(s!==null)return this.hTLV=s,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=i.x509.OID.name2obj(this.nameAlg));var a=[this.asn1Alg];this.asn1Params!==null&&a.push(this.asn1Params);var u=new i.DERSequence({array:a});return this.hTLV=u.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&(e.name!==void 0&&(this.nameAlg=e.name),e.asn1params!==void 0&&(this.asn1Params=e.asn1params),e.paramempty!==void 0&&(this.paramEmpty=e.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();r.substr(-7,7)!=="withdsa"&&r.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new i.DERNull)}};H(c.asn1.x509.AlgorithmIdentifier,c.asn1.ASN1Object);c.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"};c.asn1.x509.GeneralName=function(e){c.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87",otherName:"a0"},i=c,n=i.asn1,r=n.x509,s=r.X500Name,o=r.OtherName,a=n.DERIA5String,u=n.DERPrintableString,l=n.DEROctetString,h=n.DERTaggedObject,g=n.ASN1Object,d=Error;this.params=null,this.setByParam=function(f){this.params=f},this.tohex=function(){var f=this.params,v,y,p,y=!1;if(f.other!==void 0)v="a0",p=new o(f.other);else if(f.rfc822!==void 0)v="81",p=new a({str:f.rfc822});else if(f.dns!==void 0)v="82",p=new a({str:f.dns});else if(f.dn!==void 0)v="a4",y=!0,typeof f.dn=="string"?p=new s({str:f.dn}):f.dn instanceof c.asn1.x509.X500Name?p=f.dn:p=new s(f.dn);else if(f.ldapdn!==void 0)v="a4",y=!0,p=new s({ldapstr:f.ldapdn});else if(f.certissuer!==void 0||f.certsubj!==void 0){v="a4",y=!0;var m,b,E=null;if(f.certsubj!==void 0?(m=!1,b=f.certsubj):(m=!0,b=f.certissuer),b.match(/^[0-9A-Fa-f]+$/)&&E==b,b.indexOf("-----BEGIN ")!=-1&&(E=Dt(b)),E==null)throw new Error("certsubj/certissuer not cert");var D=new ae;D.hex=E;var C;m?C=D.getIssuerHex():C=D.getSubjectHex(),p=new g,p.hTLV=C}else if(f.uri!==void 0)v="86",p=new a({str:f.uri});else if(f.ip!==void 0){v="87";var O,k=f.ip;try{if(k.match(/^[0-9a-f]+$/)){var _=k.length;if(_==8||_==16||_==32||_==64)O=k;else throw"err"}else O=Ym(k)}catch(S){throw new d("malformed IP address: "+f.ip+":"+S.message)}p=new l({hex:O})}else throw new d("improper params");var w=new h({tag:v,explicit:y,obj:p});return w.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.GeneralName,c.asn1.ASN1Object);c.asn1.x509.GeneralNames=function(e){c.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=null,i=c,n=i.asn1;this.setByParamArray=function(r){for(var s=0;s<r.length;s++){var o=new n.x509.GeneralName(r[s]);this.asn1Array.push(o)}},this.tohex=function(){var r=new n.DERSequence({array:this.asn1Array});return r.tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof e<"u"&&this.setByParamArray(e)};H(c.asn1.x509.GeneralNames,c.asn1.ASN1Object);c.asn1.x509.OtherName=function(e){c.asn1.x509.OtherName.superclass.constructor.call(this);var t=null,i=null,n=c,r=n.asn1,s=r.DERObjectIdentifier,o=r.DERSequence,a=r.ASN1Util.newObject;this.params=null,this.setByParam=function(u){this.params=u},this.tohex=function(){var u=this.params;if(u.oid==null||u.value==null)throw new Error("oid or value not specified");var l=new s({oid:u.oid}),h=a({tag:{tag:"a0",explicit:!0,obj:u.value}}),g=new o({array:[l,h]});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.x509.OtherName,c.asn1.ASN1Object);c.asn1.x509.OID=new function(){var e=c.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(typeof this.objCache[t]<"u")return this.objCache[t];if(typeof this.name2oidList[t]>"u")throw"Name of ObjectIdentifier not defined: "+t;var i=this.name2oidList[t],n=new e({oid:i});return this.objCache[t]=n,n},this.atype2obj=function(t){if(this.objCache[t]!==void 0)return this.objCache[t];var i;if(t.match(/^\d+\.\d+\.[0-9.]+$/))i=t;else if(this.atype2oidList[t]!==void 0)i=this.atype2oidList[t];else if(this.name2oidList[t]!==void 0)i=this.name2oidList[t];else throw new Error("AttributeType name undefined: "+t);var n=new e({oid:i});return this.objCache[t]=n,n},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var i in t)this.name2oidList[i]=t[i]},this.checkOIDs=function(t){try{var i=Object.keys(t);return i.length==0?!1:(i.map(function(n,r,s){var o=this[n];if(!o.match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},t),!0)}catch{return!1}}};c.asn1.x509.OID.oid2name=function(e){var t=c.asn1.x509.OID.name2oidList;for(var i in t)if(t[i]==e)return i;return""};c.asn1.x509.OID.oid2atype=function(e){var t=c.asn1.x509.OID.atype2oidList;for(var i in t)if(t[i]==e)return i;return e};c.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=c.asn1.x509.OID.name2oidList;return t[e]===void 0?"":t[e]};c.asn1.x509.X509Util={};c.asn1.x509.X509Util.newCertPEM=function(e){var t=c.asn1.x509,i=t.TBSCertificate,n=t.Certificate,r=new n(e);return r.getPEM()};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.cms>"u"||!c.asn1.cms)&&(c.asn1.cms={});c.asn1.cms.Attribute=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.DERSet,o=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(a){this.params=a},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var a=new o({oid:this.typeOid}),u=new s({array:this.getValueArray()}),l=new r({array:[a,u]});return l.tohex()},this.getEncodedHex=function(){return this.tohex()}};H(c.asn1.cms.Attribute,c.asn1.ASN1Object);c.asn1.cms.ContentType=function(e){var t=c,i=t.asn1;i.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){var n=new i.DERObjectIdentifier(this.params.type);return[n]},e!=null&&this.setByParam(e)};H(c.asn1.cms.ContentType,c.asn1.cms.Attribute);c.asn1.cms.MessageDigest=function(e){var t=c,i=t.asn1,n=i.DEROctetString,r=i.cms;r.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){var s=new n(this.params);return[s]},e!=null&&this.setByParam(e)};H(c.asn1.cms.MessageDigest,c.asn1.cms.Attribute);c.asn1.cms.SigningTime=function(e){var t=c,i=t.asn1;i.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){var n=new i.x509.Time(this.params);return[n]},e!=null&&this.setByParam(e)};H(c.asn1.cms.SigningTime,c.asn1.cms.Attribute);c.asn1.cms.SigningCertificate=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.cms,o=s.ESSCertID,a=i.crypto;s.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new t("parameter 'array' not specified");for(var u=this.params.array,l=[],h=0;h<u.length;h++){var g=u[h];e.hasis==!1&&typeof g=="string"&&(g.indexOf("-----BEGIN")!=-1||G.isASN1HEX(g))&&(g={cert:g}),g.hasis!=!1&&e.hasis==!1&&(g.hasis=!1),l.push(new o(g))}var d=new r({array:l}),f=new r({array:[d]});return[f]},e!=null&&this.setByParam(e)};H(c.asn1.cms.SigningCertificate,c.asn1.cms.Attribute);c.asn1.cms.ESSCertID=function(e){c.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,i=c,n=i.asn1,r=n.DEROctetString,s=n.DERSequence,o=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(a,u){if(a.hash!=null)return a.hash;if(typeof a=="string"&&a.indexOf("-----BEGIN")==-1&&!G.isASN1HEX(a))return a;var l;if(typeof a=="string")l=a;else if(a.cert!=null)l=a.cert;else throw new t("hash nor cert unspecified");var h;l.indexOf("-----BEGIN")!=-1?h=Dt(l):h=l,typeof a=="string"&&(a.indexOf("-----BEGIN")!=-1?h=Dt(a):G.isASN1HEX(a)&&(h=a));var g;if(a.alg!=null)g=a.alg;else if(u!=null)g=u;else throw new t("hash alg unspecified");return i.crypto.Util.hashHex(h,g)},this.tohex=function(){var a=this.params,u=this.getCertHash(a,"sha1"),l=[];l.push(new r({hex:u})),(typeof a=="string"&&a.indexOf("-----BEGIN")!=-1||a.cert!=null&&a.hasis!=!1||a.issuer!=null&&a.serial!=null)&&l.push(new o(a));var h=new s({array:l});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.ESSCertID,c.asn1.ASN1Object);c.asn1.cms.SigningCertificateV2=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.x509,o=n.cms,a=o.ESSCertIDv2,u=i.crypto;o.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new t("parameter 'array' not specified");for(var l=this.params.array,h=[],g=0;g<l.length;g++){var d=l[g];(e.alg!=null||e.hasis==!1)&&typeof d=="string"&&(d.indexOf("-----BEGIN")!=-1||G.isASN1HEX(d))&&(d={cert:d}),d.alg==null&&e.alg!=null&&(d.alg=e.alg),d.hasis!=!1&&e.hasis==!1&&(d.hasis=!1),h.push(new a(d))}var f=new r({array:h}),v=new r({array:[f]});return[v]},e!=null&&this.setByParam(e)};H(c.asn1.cms.SigningCertificateV2,c.asn1.cms.Attribute);c.asn1.cms.ESSCertIDv2=function(e){c.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var t=Error,i=c,n=i.asn1,r=n.DEROctetString,s=n.DERSequence,o=n.cms.IssuerSerial,a=n.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var u=this.params,l=this.getCertHash(u,"sha256"),h=[];u.alg!=null&&u.alg!="sha256"&&h.push(new a({name:u.alg})),h.push(new r({hex:l})),(typeof u=="string"&&u.indexOf("-----BEGIN")!=-1||u.cert!=null&&u.hasis!=!1||u.issuer!=null&&u.serial!=null)&&h.push(new o(u));var g=new s({array:h});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.ESSCertIDv2,c.asn1.cms.ESSCertID);c.asn1.cms.IssuerSerial=function(e){var t=Error,i=c,n=i.asn1,r=n.DERInteger,s=n.DERSequence,o=n.cms,a=n.x509,u=a.GeneralNames,l=ae;o.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(h){this.params=h},this.tohex=function(){var h=this.params,g,d;if(typeof h=="string"&&h.indexOf("-----BEGIN")!=-1||h.cert!=null){var f;h.cert!=null?f=h.cert:f=h;var v=new l;v.readCertPEM(f),g=v.getIssuer(),d={hex:v.getSerialNumberHex()}}else if(h.issuer!=null&&h.serial)g=h.issuer,d=h.serial;else throw new t("cert or issuer and serial parameter not specified");var p=new u([{dn:g}]),y=new r(d),m=new s({array:[p,y]});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.IssuerSerial,c.asn1.ASN1Object);c.asn1.cms.SignerIdentifier=function(e){var t=c,i=t.asn1,n=i.DERInteger,r=i.DERSequence,s=i.cms,o=s.IssuerAndSerialNumber,a=s.SubjectKeyIdentifier,u=i.x509,l=u.X500Name,h=ae,g=Error;s.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params;if(d.type=="isssn"){var f=new o(d);return f.tohex()}else if(d.type=="skid"){var v=new a(d);return v.tohex()}else throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.SignerIdentifier,c.asn1.ASN1Object);c.asn1.cms.IssuerAndSerialNumber=function(e){var t=c,i=t.asn1,n=i.DERInteger,r=i.DERSequence,s=i.cms,o=i.x509,a=o.X500Name,u=ae,l=Error;s.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params,g,d;if(typeof h=="string"&&h.indexOf("-----BEGIN")!=-1||h.cert!=null){var f;h.cert!=null?f=h.cert:f=h;var v=new u;v.readCertPEM(f),g=v.getIssuer(),d={hex:v.getSerialNumberHex()}}else if(h.issuer!=null&&h.serial)g=h.issuer,d=h.serial;else throw new l("cert or issuer and serial parameter not specified");var p=new a(g),y=new n(d),m=new r({array:[p,y]});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(h){this.params=h},e!=null&&this.setByParam(e)};H(c.asn1.cms.IssuerAndSerialNumber,c.asn1.ASN1Object);c.asn1.cms.SubjectKeyIdentifier=function(e){var t=c,i=t.asn1,n=i.DERInteger,r=i.DERSequence,s=i.ASN1Util.newObject,o=i.cms,a=o.IssuerAndSerialName,u=o.SubjectKeyIdentifier,l=i.x509,h=l.X500Name,g=ae,d=Error;o.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var f=this.params;if(f.cert==null&&f.skid==null)throw new d("property cert nor skid undefined");var v;if(f.cert!=null){var p=new g(f.cert),y=p.getExtSubjectKeyIdentifier();v=y.kid.hex}else f.skid!=null&&(v=f.skid);var m=s({tag:{tage:"a0",obj:{octstr:{hex:v}}}});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.SubjectKeyIdentifier,c.asn1.ASN1Object);c.asn1.cms.AttributeList=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSet,s=n.cms;s.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(o){this.params=o},this.tohex=function(){var o=this.params;if(this.hTLV!=null)return this.hTLV;var a=!0;o.sortflag!=null&&(a=o.sortflag);for(var u=o.array,l=[],h=0;h<u.length;h++){var g=u[h],d=g.attr;if(d=="contentType")l.push(new s.ContentType(g));else if(d=="messageDigest")l.push(new s.MessageDigest(g));else if(d=="signingTime")l.push(new s.SigningTime(g));else if(d=="signingCertificate")l.push(new s.SigningCertificate(g));else if(d=="signingCertificateV2")l.push(new s.SigningCertificateV2(g));else if(d=="signaturePolicyIdentifier")l.push(new c.asn1.cades.SignaturePolicyIdentifier(g));else if(d=="signatureTimeStamp"||d=="timeStampToken")l.push(new c.asn1.cades.SignatureTimeStamp(g));else throw new t("unknown attr: "+d)}var f=new r({array:l,sortflag:a});return this.hTLV=f.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.AttributeList,c.asn1.ASN1Object);c.asn1.cms.SignerInfo=function(e){var t=Error,i=c,n=i.asn1,r=n.DERInteger,s=n.DEROctetString,o=n.DERSequence,a=n.DERTaggedObject,u=n.cms,l=u.SignerIdentifier,h=u.AttributeList,g=u.ContentType,d=u.EncapsulatedContentInfo,f=u.MessageDigest,v=u.SignedData,p=n.x509,y=p.AlgorithmIdentifier,m=i.crypto,b=Oe;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var E=this.params,D=E.sigalg,C=new h(E.sattrs).tohex(),O=b.getKey(E.signkey),k=new m.Signature({alg:D});k.init(O),k.updateHex(C);var _=k.sign();E.sighex=_},this.tohex=function(){var E=this.params,D=[];if(D.push(new r({int:E.version})),D.push(new l(E.id)),D.push(new y({name:E.hashalg})),E.sattrs!=null){var C=new h(E.sattrs);try{D.push(new a({tag:"a0",explicit:!1,obj:C}))}catch(k){throw new t("si sattr error: "+k)}}if(E.sigalgfield!=null?D.push(new y({name:E.sigalgfield})):D.push(new y({name:E.sigalg})),E.sighex==null&&E.signkey!=null&&this.sign(),D.push(new s({hex:E.sighex})),E.uattrs!=null){var C=new h(E.uattrs);try{D.push(new a({tag:"a1",explicit:!1,obj:C}))}catch(_){throw new t("si uattr error: "+_)}}var O=new o({array:D});return O.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.SignerInfo,c.asn1.ASN1Object);c.asn1.cms.EncapsulatedContentInfo=function(e){var t=c,i=t.asn1,n=i.DERTaggedObject,r=i.DERSequence,s=i.DERObjectIdentifier,o=i.DEROctetString,a=i.cms;a.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var u=this.params,l=[];if(l.push(new s(u.type)),u.content!=null&&(u.content.hex!=null||u.content.str!=null)&&u.isDetached!=!0){var h=new o(u.content),g=new n({tag:"a0",explicit:!0,obj:h});l.push(g)}var d=new r({array:l});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(u){this.params=u},e!=null&&this.setByParam(e)};H(c.asn1.cms.EncapsulatedContentInfo,c.asn1.ASN1Object);c.asn1.cms.ContentInfo=function(e){var t=c,i=t.asn1,n=i.DERTaggedObject,r=i.DERSequence,s=i.DERObjectIdentifier,o=i.x509,a=o.OID.name2obj;c.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var u=this.params,l=[];l.push(new s(u.type));var h=new n({tag:"a0",explicit:!0,obj:u.obj});l.push(h);var g=new r({array:l});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(u){this.params=u},e!=null&&this.setByParam(e)};H(c.asn1.cms.ContentInfo,c.asn1.ASN1Object);c.asn1.cms.SignedData=function(e){var t=Error,i=c,n=i.asn1,r=n.ASN1Object,s=n.DERInteger,o=n.DERSet,a=n.DERSequence,u=n.DERTaggedObject,l=n.cms,h=l.EncapsulatedContentInfo,g=l.SignerInfo,d=l.ContentInfo,f=l.CertificateSet,v=l.RevocationInfoChoices,p=n.x509,y=p.AlgorithmIdentifier;c.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var m=this.params;this._setDigestAlgs(m),this._setContentTypeByEContent(m),this._setMessageDigestByEContent(m),this._setSignerInfoVersion(m),this._setSignedDataVersion(m)},this._setDigestAlgs=function(m){for(var b={},E=m.sinfos,D=0;D<E.length;D++){var C=E[D];b[C.hashalg]=1}m.hashalgs=Object.keys(b).sort()},this._setContentTypeByEContent=function(m){for(var b=m.econtent.type,E=m.sinfos,D=0;D<E.length;D++){var C=E[D],O=this._getAttrParamByName(C,"contentType");O.type=b}},this._setMessageDigestByEContent=function(m){var b=m.econtent,E=m.econtent.type,D=b.content.hex;D==null&&b.type=="data"&&b.content.str!=null&&(D=Qi(b.content.str));for(var C=m.sinfos,O=0;O<C.length;O++){var k=C[O],_=k.hashalg,w=this._getAttrParamByName(k,"messageDigest"),S=c.crypto.Util.hashHex(D,_);w.hex=S}},this._getAttrParamByName=function(m,b){for(var E=m.sattrs.array,D=0;D<E.length;D++)if(E[D].attr==b)return E[D]},this._setSignerInfoVersion=function(m){for(var b=m.sinfos,E=0;E<b.length;E++){var D=b[E],C=1;D.id.type=="skid"&&(C=3),D.version=C}},this._setSignedDataVersion=function(m){var b=this._getSignedDataVersion(m);m.version=b},this._getSignedDataVersion=function(m){if(m.revinfos!=null)for(var b=m.revinfos,E=0;E<b.length;E++){var D=b[E];if(D.ocsp!=null)return 5}for(var C=m.sinfos,E=0;E<C.length;E++){var O=m.sinfos[E];if(O.version==3)return 3}return m.econtent.type!="data"?3:1},this.tohex=function(){var m=this.params;this.getEncodedHexPrepare!=null&&this.getEncodedHexPrepare(),m.fixed!=!0&&this.checkAndFixParam();var b=[];b.push(new s({int:m.version}));for(var E=[],D=0;D<m.hashalgs.length;D++){var C=m.hashalgs[D];E.push(new y({name:C}))}b.push(new o({array:E})),b.push(new h(m.econtent)),m.certs!=null&&b.push(new f(m.certs)),m.revinfos!=null&&b.push(new v(m.revinfos));for(var O=[],D=0;D<m.sinfos.length;D++){var k=m.sinfos[D];O.push(new g(k))}b.push(new o({array:O}));var _=new a({array:b});return _.tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){var m=new d({type:"signed-data",obj:this});return m},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.SignedData,c.asn1.ASN1Object);c.asn1.cms.CertificateSet=function(e){c.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,i=c.asn1,n=i.DERTaggedObject,r=i.DERSet,s=i.ASN1Object;this.params=null,this.tohex=function(){var o=this.params,a=[],u;if(o instanceof Array)u=o;else if(o.array!=null)u=o.array;else throw new t("cert array not specified");for(var l=0;l<u.length;l++){var h=u[l],g=Dt(h),d=new s;d.hTLV=g,a.push(d)}var f={array:a};o.sortflag==!1&&(f.sortflag=!1);var v=new r(f),p=new n({tag:"a0",explicit:!1,obj:v});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.CertificateSet,c.asn1.ASN1Object);c.asn1.cms.RevocationInfoChoices=function(e){c.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new Error("params is not array");for(var i=[],n=0;n<t.length;n++)i.push(new c.asn1.cms.RevocationInfoChoice(t[n]));var r=c.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:i}}});return r.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.RevocationInfoChoices,c.asn1.ASN1Object);c.asn1.cms.RevocationInfoChoice=function(e){c.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(t.crl!=null&&typeof t.crl=="string"){var i=t.crl;return t.crl.indexOf("-----BEGIN")!=-1&&(i=Dt(t.crl)),i}else if(t.ocsp!=null){var n=c.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new c.asn1.cms.OtherRevocationFormat(t)}});return n.tohex()}else throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.RevocationInfoChoice,c.asn1.ASN1Object);c.asn1.cms.OtherRevocationFormat=function(e){c.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,i=c,n=i.asn1,r=n.ASN1Util.newObject,s=i.lang.String.isHex;this.params=null,this.tohex=function(){var o=this.params;if(o.ocsp==null)throw new t("property ocsp not specified");if(!s(o.ocsp)||!G.isASN1HEX(o.ocsp))throw new t("ocsp value not ASN.1 hex string");var a=r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:o.ocsp}}]});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cms.OtherRevocationFormat,c.asn1.ASN1Object);c.asn1.cms.CMSUtil=new function(){};c.asn1.cms.CMSUtil.newSignedData=function(e){return new c.asn1.cms.SignedData(e)};c.asn1.cms.CMSUtil.verifySignedData=function(e){var t=c,i=t.asn1,n=i.cms,r=n.SignerInfo,s=n.SignedData,o=n.SigningTime,a=n.SigningCertificate,u=n.SigningCertificateV2,l=i.cades,h=l.SignaturePolicyIdentifier,g=t.lang.String.isHex,d=G,f=d.getVbyList,v=d.getTLVbyList,p=d.getIdxbyList,y=d.getChildIdx,m=d.getTLV,b=d.oidname,E=t.crypto.Util.hashHex;e.cms===void 0&&g(e.cms);var D=e.cms,C=function(A,R){for(var V,ie=3;ie<6;ie++)if(V=p(A,0,[1,0,ie]),V!==void 0){var re=A.substr(V,2);re==="a0"&&(R.certsIdx=V),re==="a1"&&(R.revinfosIdx=V),re==="31"&&(R.signerinfosIdx=V)}},O=function(A,R){var V=R.signerinfosIdx;if(V!==void 0){var ie=y(A,V);R.signerInfoIdxList=ie;for(var re=0;re<ie.length;re++){var se=ie[re],Se={idx:se};k(A,Se),R.signerInfos.push(Se)}}},k=function(A,R){var V=R.idx;R.signerid_issuer1=v(A,V,[1,0],"30"),R.signerid_serial1=f(A,V,[1,1],"02"),R.hashalg=b(f(A,V,[2,0],"06"));var ie=p(A,V,[3],"a0");R.idxSignedAttrs=ie,_(A,R,ie);var re=y(A,V),se=re.length;if(se<6)throw"malformed SignerInfo";R.sigalg=b(f(A,V,[se-2,0],"06")),R.sigval=f(A,V,[se-1],"04")},_=function(A,R,V){var ie=y(A,V);R.signedAttrIdxList=ie;for(var re=0;re<ie.length;re++){var se=ie[re],Se=f(A,se,[0],"06"),be;Se==="2a864886f70d010905"?(be=et(f(A,se,[1,0])),R.saSigningTime=be):Se==="2a864886f70d010904"&&(be=f(A,se,[1,0],"04"),R.saMessageDigest=be)}},w=function(A,R){if(f(A,0,[0],"06")!=="2a864886f70d010702")return R;R.cmsType="signedData",R.econtent=f(A,0,[1,0,2,1,0]),C(A,R),R.signerInfos=[],O(A,R)},S=function(A,R){for(var V=R.parse.signerInfos,ie=V.length,re=!0,se=0;se<ie;se++){var Se=V[se];T(A,R,Se,se),Se.isValid||(re=!1)}R.isValid=re},x=function(A,R,V,ie){var re=R.parse.certsIdx,se;if(R.certs===void 0){se=[],R.certkeys=[];for(var Se=y(A,re),be=0;be<Se.length;be++){var Ke=m(A,Se[be]),Be=new ae;Be.readCertHex(Ke),se[be]=Be,R.certkeys[be]=Be.getPublicKey()}R.certs=se}else se=R.certs;R.cccc=se.length,R.cccci=Se.length;for(var be=0;be<se.length;be++){var Gt=Be.getIssuerHex(),Rt=Be.getSerialNumberHex();V.signerid_issuer1===Gt&&V.signerid_serial1===Rt&&(V.certkey_idx=be)}},T=function(A,R,V,ie){V.verifyDetail={};var re=V.verifyDetail,se=R.parse.econtent,Se=V.hashalg,be=V.saMessageDigest;re.validMessageDigest=!1,E(se,Se)===be&&(re.validMessageDigest=!0),x(A,R,V,ie),re.validSignatureValue=!1;var Ke=V.sigalg,Be="31"+m(A,V.idxSignedAttrs).substr(2);V.signedattrshex=Be;var Gt=R.certs[V.certkey_idx].getPublicKey(),Rt=new c.crypto.Signature({alg:Ke});Rt.init(Gt),Rt.updateHex(Be);var St=Rt.verify(V.sigval);re.validSignatureValue_isValid=St,St===!0&&(re.validSignatureValue=!0),V.isValid=!1,re.validMessageDigest&&re.validSignatureValue&&(V.isValid=!0)},N=function(){},I={isValid:!1,parse:{}};return w(D,I.parse),S(D,I),I};c.asn1.cms.CMSParser=function(){var e=Error,t=ae,i=new t,n=G,r=n.getV,s=n.getTLV,o=n.getIdxbyList,a=n.getTLVbyList,u=n.getTLVbyListEx,l=n.getVbyList,h=n.getVbyListEx,g=n.getChildIdx;this.getCMSSignedData=function(d){var f=a(d,0,[1,0]),v=this.getSignedData(f);return v},this.getSignedData=function(d){var f=g(d,0),v={},p=r(d,f[0]),y=parseInt(p,16);v.version=y;var m=s(d,f[1]);v.hashalgs=this.getHashAlgArray(m);var b=s(d,f[2]);v.econtent=this.getEContent(b);var E=u(d,0,["[0]"]);E!=null&&(v.certs=this.getCertificateSet(E));var D=u(d,0,["[1]"]);D!=null;var C=u(d,0,[3]);return v.sinfos=this.getSignerInfos(C),v},this.getHashAlgArray=function(d){for(var f=g(d,0),v=new t,p=[],y=0;y<f.length;y++){var m=s(d,f[y]),b=v.getAlgorithmIdentifierName(m);p.push(b)}return p},this.getEContent=function(d){var f={},v=l(d,0,[0]),p=l(d,0,[1,0]);return f.type=c.asn1.x509.OID.oid2name(G.hextooidstr(v)),f.content={hex:p},f},this.getSignerInfos=function(d){for(var f=[],v=g(d,0),p=0;p<v.length;p++){var y=s(d,v[p]),m=this.getSignerInfo(y);f.push(m)}return f},this.getSignerInfo=function(d){var f={},v=g(d,0),p=n.getInt(d,v[0],-1);p!=-1&&(f.version=p);var y=s(d,v[1]),m=this.getIssuerAndSerialNumber(y);f.id=m;var b=s(d,v[2]),E=i.getAlgorithmIdentifierName(b);f.hashalg=E;var D=u(d,0,["[0]"]);if(D!=null){var C=this.getAttributeList(D);f.sattrs=C}var O=u(d,0,[3]),k=i.getAlgorithmIdentifierName(O);f.sigalg=k;var _=h(d,0,[4]);f.sighex=_;var w=u(d,0,["[1]"]);if(w!=null){var S=this.getAttributeList(w);f.uattrs=S}return f},this.getSignerIdentifier=function(d){if(d.substr(0,2)=="30")return this.getIssuerAndSerialNumber(d);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(d){var f={type:"isssn"},v=g(d,0),p=s(d,v[0]);f.issuer=i.getX500Name(p);var y=r(d,v[1]);return f.serial={hex:y},f},this.getAttributeList=function(d){for(var f=[],v=g(d,0),p=0;p<v.length;p++){var y=s(d,v[p]),m=this.getAttribute(y);f.push(m)}return{array:f}},this.getAttribute=function(d){var f={},v=g(d,0),p=n.getOID(d,v[0]),y=c.asn1.x509.OID.oid2name(p);f.attr=y;var m=s(d,v[1]),b=g(m,0);if(b.length==1)f.valhex=s(m,b[0]);else{for(var E=[],D=0;D<b.length;D++)E.push(s(m,b[D]));f.valhex=E}return y=="contentType"?this.setContentType(f):y=="messageDigest"?this.setMessageDigest(f):y=="signingTime"?this.setSigningTime(f):y=="signingCertificate"?this.setSigningCertificate(f):y=="signingCertificateV2"?this.setSigningCertificateV2(f):y=="signaturePolicyIdentifier"&&this.setSignaturePolicyIdentifier(f),f},this.setContentType=function(d){var f=n.getOIDName(d.valhex,0,null);f!=null&&(d.type=f,delete d.valhex)},this.setSigningTime=function(d){var f=r(d.valhex,0),v=et(f);d.str=v,delete d.valhex},this.setMessageDigest=function(d){var f=r(d.valhex,0);d.hex=f,delete d.valhex},this.setSigningCertificate=function(d){var f=g(d.valhex,0);if(f.length>0){for(var v=s(d.valhex,f[0]),p=g(v,0),y=[],m=0;m<p.length;m++){var b=s(v,p[m]),E=this.getESSCertID(b);y.push(E)}d.array=y}if(f.length>1){var D=s(d.valhex,f[1]);d.polhex=D}delete d.valhex},this.setSignaturePolicyIdentifier=function(d){var f=g(d.valhex,0);if(f.length>0){var v=n.getOID(d.valhex,f[0]);d.oid=v}if(f.length>1){var p=new t,y=g(d.valhex,f[1]),m=s(d.valhex,y[0]),b=p.getAlgorithmIdentifierName(m);d.alg=b;var E=r(d.valhex,y[1]);d.hash=E}delete d.valhex},this.setSigningCertificateV2=function(d){var f=g(d.valhex,0);if(f.length>0){for(var v=s(d.valhex,f[0]),p=g(v,0),y=[],m=0;m<p.length;m++){var b=s(v,p[m]),E=this.getESSCertIDv2(b);y.push(E)}d.array=y}if(f.length>1){var D=s(d.valhex,f[1]);d.polhex=D}delete d.valhex},this.getESSCertID=function(d){var f={},v=g(d,0);if(v.length>0){var p=r(d,v[0]);f.hash=p}if(v.length>1){var y=s(d,v[1]),m=this.getIssuerSerial(y);m.serial!=null&&(f.serial=m.serial),m.issuer!=null&&(f.issuer=m.issuer)}return f},this.getESSCertIDv2=function(d){var f={},v=g(d,0);if(v.length<1||3<v.length)throw new e("wrong number of elements");var p=0;if(d.substr(v[0],2)=="30"){var y=s(d,v[0]);f.alg=i.getAlgorithmIdentifierName(y),p++}else f.alg="sha256";var m=r(d,v[p]);if(f.hash=m,v.length>p+1){var b=s(d,v[p+1]),E=this.getIssuerSerial(b);f.issuer=E.issuer,f.serial=E.serial}return f},this.getIssuerSerial=function(d){var f={},v=g(d,0),p=s(d,v[0]),y=i.getGeneralNames(p),m=y[0].dn;f.issuer=m;var b=r(d,v[1]);return f.serial={hex:b},f},this.getCertificateSet=function(d){for(var f=g(d,0),v=[],p=0;p<f.length;p++){var y=s(d,f[p]);if(y.substr(0,2)=="30"){var m=Dn(y,"CERTIFICATE");v.push(m)}}return{array:v,sortflag:!1}}};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.tsp>"u"||!c.asn1.tsp)&&(c.asn1.tsp={});c.asn1.tsp.TimeStampToken=function(e){var t=c,i=t.asn1,n=i.tsp;n.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var r=new n.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=r.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.TimeStampToken,c.asn1.cms.SignedData);c.asn1.tsp.TSTInfo=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.DERInteger,o=n.DERBoolean,a=n.DERGeneralizedTime,u=n.DERObjectIdentifier,l=n.DERTaggedObject,h=n.tsp,g=h.MessageImprint,d=h.Accuracy,f=n.x509.X500Name,v=n.x509.GeneralName;if(h.TSTInfo.superclass.constructor.call(this),this.dVersion=new s({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var p=[this.dVersion];if(this.dPolicy==null)throw new Error("policy shall be specified.");if(p.push(this.dPolicy),this.dMessageImprint==null)throw new Error("messageImprint shall be specified.");if(p.push(this.dMessageImprint),this.dSerial==null)throw new Error("serialNumber shall be specified.");if(p.push(this.dSerial),this.dGenTime==null)throw new Error("genTime shall be specified.");p.push(this.dGenTime),this.dAccuracy!=null&&p.push(this.dAccuracy),this.dOrdering!=null&&p.push(this.dOrdering),this.dNonce!=null&&p.push(this.dNonce),this.dTsa!=null&&p.push(this.dTsa);var y=new r({array:p});return this.hTLV=y.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0){if(typeof e.policy=="string"){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new u({oid:e.policy})}e.messageImprint!==void 0&&(this.dMessageImprint=new g(e.messageImprint)),e.serial!==void 0&&(this.dSerial=new s(e.serial)),e.genTime!==void 0&&(this.dGenTime=new a(e.genTime)),e.accuracy!==void 0&&(this.dAccuracy=new d(e.accuracy)),e.ordering!==void 0&&e.ordering==!0&&(this.dOrdering=new o),e.nonce!==void 0&&(this.dNonce=new s(e.nonce)),e.tsa!==void 0&&(this.dTsa=new l({tag:"a0",explicit:!0,obj:new v({dn:e.tsa})}))}};H(c.asn1.tsp.TSTInfo,c.asn1.ASN1Object);c.asn1.tsp.Accuracy=function(e){var t=c,i=t.asn1,n=i.ASN1Util.newObject;i.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var r=this.params,s=[];return r.seconds!=null&&typeof r.seconds=="number"&&s.push({int:r.seconds}),r.millis!=null&&typeof r.millis=="number"&&s.push({tag:{tagi:"80",obj:{int:r.millis}}}),r.micros!=null&&typeof r.micros=="number"&&s.push({tag:{tagi:"81",obj:{int:r.micros}}}),n({seq:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.Accuracy,c.asn1.ASN1Object);c.asn1.tsp.MessageImprint=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.DEROctetString,s=i.x509,o=s.AlgorithmIdentifier;i.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params,u=new o({name:a.alg}),l=new r({hex:a.hash}),h=new n({array:[u,l]});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.tsp.MessageImprint,c.asn1.ASN1Object);c.asn1.tsp.TimeStampReq=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.DERInteger,s=i.DERBoolean,o=i.ASN1Object,a=i.DERObjectIdentifier,u=i.tsp,l=u.MessageImprint;u.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params,g=[];g.push(new r({int:1})),h.messageImprint instanceof c.asn1.ASN1Object?g.push(h.messageImprint):g.push(new l(h.messageImprint)),h.policy!=null&&g.push(new a(h.policy)),h.nonce!=null&&g.push(new r(h.nonce)),h.certreq==!0&&g.push(new s);var d=new n({array:g});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.TimeStampReq,c.asn1.ASN1Object);c.asn1.tsp.TimeStampResp=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.ASN1Object,s=i.tsp,o=s.PKIStatusInfo;s.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params,u=[];if(a.econtent!=null||a.tst!=null)if(a.statusinfo!=null?u.push(new o(a.statusinfo)):u.push(new o("granted")),a.econtent!=null)u.push(new s.TimeStampToken(a).getContentInfo());else if(a.tst instanceof i.ASN1Object)u.push(a.tst);else throw new Error("improper member tst value");else if(a.statusinfo!=null)u.push(new o(a.statusinfo));else throw new Error("parameter for token nor statusinfo not specified");var l=new n({array:u});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.TimeStampResp,c.asn1.ASN1Object);c.asn1.tsp.PKIStatusInfo=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.tsp,o=s.PKIStatus,a=s.PKIFreeText,u=s.PKIFailureInfo;s.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var l=this.params,h=[];if(typeof l=="string")h.push(new o(l));else{if(l.status==null)throw new t("property 'status' unspecified");h.push(new o(l.status)),l.statusstr!=null&&h.push(new a(l.statusstr)),l.failinfo!=null&&h.push(new u(l.failinfo))}var g=new r({array:h});return g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.PKIStatusInfo,c.asn1.ASN1Object);c.asn1.tsp.PKIStatus=function(e){var t=Error,i=c,n=i.asn1,r=n.DERInteger,s=n.tsp;s.PKIStatus.superclass.constructor.call(this);var o={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var a=this.params,u,l;if(typeof a=="string")try{l=o[a]}catch{throw new t("undefined name: "+a)}else if(typeof a=="number")l=a;else throw new t("unsupported params");return new r({int:l}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.PKIStatus,c.asn1.ASN1Object);c.asn1.tsp.PKIFreeText=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.DERUTF8String,o=n.tsp;o.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var a=this.params;if(!a instanceof Array)throw new t("wrong params: not array");for(var u=[],l=0;l<a.length;l++)u.push(new s({str:a[l]}));var h=new r({array:u});return h.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.PKIFreeText,c.asn1.ASN1Object);c.asn1.tsp.PKIFailureInfo=function(e){var t=Error,i=c,n=i.asn1,r=n.DERBitString,s=n.tsp,o=s.PKIFailureInfo,a={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};o.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var u=this.params,l=0;if(typeof u=="number"&&0<=u&&u<=25){l|=1<<u;for(var h=l.toString(2),g="",d=h.length-1;d>=0;d--)g+=h[d];return g}else{if(typeof u=="string"&&a[u]!=null)return Rd([u],a);if(typeof u=="object"&&u.length!=null)return Rd(u,a);throw new t("wrong params")}},this.tohex=function(){var u=this.params,l=this.getBinValue();return new r({bin:l}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.tsp.PKIFailureInfo,c.asn1.ASN1Object);c.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(t,i){throw"not implemented yet"}};c.asn1.tsp.SimpleTSAAdapter=function(e){var t=c,i=t.asn1,n=i.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(s,o){var a=r(s,o);this.params.econtent.content.messageImprint={alg:o,hash:a},this.params.econtent.content.serial={int:this.serial++};var u=Math.floor(Math.random()*1e9);this.params.econtent.content.nonce={int:u};var l=new n.TimeStampToken(this.params);return l.getContentInfoEncodedHex()},e!==void 0&&(this.params=e)};H(c.asn1.tsp.SimpleTSAAdapter,c.asn1.tsp.AbstractTSAAdapter);c.asn1.tsp.FixedTSAAdapter=function(e){var t=c,i=t.asn1,n=i.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(s,o){var a=r(s,o);this.params.econtent.content.messageImprint={alg:o,hash:a};var u=new n.TimeStampToken(this.params);return u.getContentInfoEncodedHex()},e!==void 0&&(this.params=e)};H(c.asn1.tsp.FixedTSAAdapter,c.asn1.tsp.AbstractTSAAdapter);c.asn1.tsp.TSPUtil=new function(){};c.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new c.asn1.tsp.TimeStampToken(e)};c.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=new c.asn1.tsp.TSPParser;return t.getTimeStampReq(e)};c.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=new c.asn1.tsp.TSPParser;return t.getMessageImprint(e)};c.asn1.tsp.TSPParser=function(){var e=Error,t=ae,i=new t,n=G,r=n.getV,s=n.getTLV,o=n.getIdxbyList,a=n.getTLVbyListEx,u=n.getChildIdx,l=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],h={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(g){var d=u(g,0);if(d.length==1)return this.getPKIStatusInfo(s(g,d[0]));if(d.length>1){var f=this.getPKIStatusInfo(s(g,d[0])),v=s(g,d[1]),p=this.getToken(v);return p.statusinfo=f,p}},this.getToken=function(g){var d=new c.asn1.cms.CMSParser,f=d.getCMSSignedData(g);return this.setTSTInfo(f),f},this.setTSTInfo=function(g){var d=g.econtent;if(d.type=="tstinfo"){var f=d.content.hex,v=this.getTSTInfo(f);d.content=v}},this.getTSTInfo=function(g){var d={},f=u(g,0),v=r(g,f[1]);d.policy=Ud(v);var p=s(g,f[2]);d.messageImprint=this.getMessageImprint(p);var y=r(g,f[3]);d.serial={hex:y};var m=r(g,f[4]);d.genTime={str:et(m)};var b=0;if(f.length>5&&g.substr(f[5],2)=="30"){var E=s(g,f[5]);d.accuracy=this.getAccuracy(E),b++}if(f.length>5+b&&g.substr(f[5+b],2)=="01"){var D=r(g,f[5+b]);D=="ff"&&(d.ordering=!0),b++}if(f.length>5+b&&g.substr(f[5+b],2)=="02"){var C=r(g,f[5+b]);d.nonce={hex:C},b++}if(f.length>5+b&&g.substr(f[5+b],2)=="a0"){var O=s(g,f[5+b]);O="30"+O.substr(2),pGeneralNames=i.getGeneralNames(O);var k=pGeneralNames[0].dn;d.tsa=k,b++}if(f.length>5+b&&g.substr(f[5+b],2)=="a1"){var _=s(g,f[5+b]);_="30"+_.substr(2);var w=i.getExtParamArray(_);d.ext=w,b++}return d},this.getAccuracy=function(g){for(var d={},f=u(g,0),v=0;v<f.length;v++){var p=g.substr(f[v],2),y=r(g,f[v]),m=parseInt(y,16);p=="02"?d.seconds=m:p=="80"?d.millis=m:p=="81"&&(d.micros=m)}return d},this.getMessageImprint=function(g){if(g.substr(0,2)!="30")throw new Error("head of messageImprint hex shall be x30");var d={},f=u(g,0),v=o(g,0,[0,0]),p=r(g,v),y=n.hextooidstr(p),m=c.asn1.x509.OID.oid2name(y);if(m=="")throw new Error("hashAlg name undefined: "+y);var b=m,E=o(g,0,[1]);return d.alg=b,d.hash=r(g,E),d},this.getPKIStatusInfo=function(g){var d={},f=u(g,0),v=0;try{var p=r(g,f[0]),y=parseInt(p,16);d.status=l[y]}catch{}if(f.length>1&&g.substr(f[1],2)=="30"){var m=s(g,f[1]);d.statusstr=this.getPKIFreeText(m),v++}if(f.length>v&&g.substr(f[1+v],2)=="03"){var b=s(g,f[1+v]);d.failinfo=this.getPKIFailureInfo(b)}return d},this.getPKIFreeText=function(g){for(var d=[],f=u(g,0),v=0;v<f.length;v++)d.push(n.getString(g,f[v]));return d},this.getPKIFailureInfo=function(g){var d=n.getInt(g,0);return h[d]!=null?h[d]:d},this.getTimeStampReq=function(g){var d={};d.certreq=!1;var f=u(g,0);if(f.length<2)throw new Error("TimeStampReq must have at least 2 items");var v=s(g,f[1]);d.messageImprint=c.asn1.tsp.TSPUtil.parseMessageImprint(v);for(var p=2;p<f.length;p++){var y=f[p],m=g.substr(y,2);if(m=="06"){var b=r(g,y);d.policy=n.hextooidstr(b)}m=="02"&&(d.nonce=r(g,y)),m=="01"&&(d.certreq=!0)}return d}};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.cades>"u"||!c.asn1.cades)&&(c.asn1.cades={});c.asn1.cades.SignaturePolicyIdentifier=function(e){var t=c,i=t.asn1,n=i.cades,r=n.SignaturePolicyId;n.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(s){this.params=s},e!=null&&this.setByParam(e)};H(c.asn1.cades.SignaturePolicyIdentifier,c.asn1.cms.Attribute);c.asn1.cades.SignaturePolicyId=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.DERObjectIdentifier,s=i.x509,o=s.AlgorithmIdentifier,a=i.cades,u=a.SignaturePolicyId,l=a.OtherHashAlgAndValue;u.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params,g=[];g.push(new r(h.oid)),g.push(new l(h));var d=new n({array:g});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(h){this.params=h},e!=null&&this.setByParam(e)};H(c.asn1.cades.SignaturePolicyId,c.asn1.ASN1Object);c.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.DEROctetString,o=n.x509,a=o.AlgorithmIdentifier,u=n.cades,l=u.OtherHashAlgAndValue;l.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params;if(h.alg==null)throw new t("property 'alg' not specified");if(h.hash==null&&h.cert==null)throw new t("property 'hash' nor 'cert' not specified");var g=null;if(h.hash!=null)g=h.hash;else if(h.cert!=null){if(typeof h.cert!="string")throw new t("cert not string");var d=h.cert;h.cert.indexOf("-----BEGIN")!=-1&&(d=Dt(h.cert)),g=c.crypto.Util.hashHex(d,h.alg)}var f=[];f.push(new a({name:h.alg})),f.push(new s({hex:g}));var v=new r({array:f});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cades.OtherHashAlgAndValue,c.asn1.ASN1Object);c.asn1.cades.OtherHashValue=function(e){c.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,i=c,n=i.lang.String.isHex,r=i.asn1,s=r.DEROctetString,o=i.crypto.Util.hashHex;this.params=null,this.tohex=function(){var a=this.params;if(a.hash==null&&a.cert==null)throw new t("hash or cert not specified");var u=null;if(a.hash!=null)u=a.hash;else if(a.cert!=null){if(typeof a.cert!="string")throw new t("cert not string");var l=a.cert;a.cert.indexOf("-----BEGIN")!=-1&&(l=Dt(a.cert)),u=c.crypto.Util.hashHex(l,"sha1")}return new s({hex:u}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cades.OtherHashValue,c.asn1.ASN1Object);c.asn1.cades.SignatureTimeStamp=function(e){var t=Error,i=c,n=i.lang.String.isHex,r=i.asn1,s=r.ASN1Object,o=r.x509,a=r.cades;a.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var u=this.params;if(u.tst!=null)if(n(u.tst)){var l=new s;return l.hTLV=u.tst,[l]}else{if(u.tst instanceof s)return[u.tst];throw new t("params.tst has wrong value")}else if(u.res!=null){var h=u.res;if(h instanceof s&&(h=h.tohex()),typeof h!="string"||!n(h))throw new t("params.res has wrong value");var g=G.getTLVbyList(h,0,[1]),l=new s;return l.hTLV=u.tst,[l]}},e!=null&&this.setByParam(e)};H(c.asn1.cades.SignatureTimeStamp,c.asn1.cms.Attribute);c.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.cades,o=s.OtherCertID,a=i.lang.String.isHex;s.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var u=this.params,l=[],h=0;h<u.array.length;h++){var g=u.array[h];if(typeof g=="string")if(g.indexOf("-----BEGIN")!=-1)g={cert:g};else if(a(g))g={hash:g};else throw new t("unsupported value: "+g);u.alg!=null&&g.alg==null&&(g.alg=u.alg),u.hasis!=null&&g.hasis==null&&(g.hasis=u.hasis);var d=new o(g);l.push(d)}var f=new r({array:l});return[f]},e!=null&&this.setByParam(e)};H(c.asn1.cades.CompleteCertificateRefs,c.asn1.cms.Attribute);c.asn1.cades.OtherCertID=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.cms,s=r.IssuerSerial,o=i.cades,a=o.OtherHashValue,u=o.OtherHashAlgAndValue;o.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var l=this.params;typeof l=="string"&&(l.indexOf("-----BEGIN")!=-1?l={cert:l}:_isHex(l)&&(l={hash:l}));var h=[],g=null;if(l.alg!=null?g=new u(l):g=new a(l),h.push(g),l.cert!=null&&l.hasis==!0||l.issuer!=null&&l.serial!=null){var d=new s(l);h.push(d)}var f=new n({array:h});return f.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cades.OtherCertID,c.asn1.ASN1Object);c.asn1.cades.OtherHash=function(e){var t=Error,i=c,n=i.asn1,r=n.cms,s=n.cades,o=s.OtherHashAlgAndValue,a=s.OtherHashValue,u=i.crypto.Util.hashHex,l=i.lang.String.isHex;s.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var h=this.params;typeof h=="string"&&(h.indexOf("-----BEGIN")!=-1?h={cert:h}:l(h)&&(h={hash:h}));var g=null;return h.alg!=null?g=new o(h):g=new a(h),g.tohex()},this.getEncodedHex=function(){return this.tohex()},e!=null&&this.setByParam(e)};H(c.asn1.cades.OtherHash,c.asn1.ASN1Object);c.asn1.cades.CAdESUtil=new function(){};c.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=new c.asn1.cms.CMSParser,i=t.getCMSSignedData(e);return i};c.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,i){var n=G,r=n.getChildIdx,s=n.getTLV,o=n.getV,a=c,u=a.asn1,l=u.ASN1Object,h=u.cms,g=h.AttributeList,d=h.SignerInfo,f={},v=r(e,t);if(v.length!=6)throw"not supported items for SignerInfo (!=6)";var p=v.shift();f.version=s(e,p);var y=v.shift();f.si=s(e,y);var m=v.shift();f.digalg=s(e,m);var b=v.shift();f.sattrs=s(e,b);var E=v.shift();f.sigalg=s(e,E);var D=v.shift();f.sig=s(e,D),f.sigval=o(e,D);var C=null;return f.obj=new d,C=new l,C.hTLV=f.version,f.obj.dCMSVersion=C,C=new l,C.hTLV=f.si,f.obj.dSignerIdentifier=C,C=new l,C.hTLV=f.digalg,f.obj.dDigestAlgorithm=C,C=new l,C.hTLV=f.sattrs,f.obj.dSignedAttrs=C,C=new l,C.hTLV=f.sigalg,f.obj.dSigAlg=C,C=new l,C.hTLV=f.sig,f.obj.dSig=C,f.obj.dUnsignedAttrs=new g,f};(typeof c.asn1.csr>"u"||!c.asn1.csr)&&(c.asn1.csr={});c.asn1.csr.CertificationRequest=function(e){var t=c,i=t.asn1,n=i.DERBitString,r=i.DERSequence,s=i.csr,o=i.x509,a=s.CertificationRequestInfo;s.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(u){this.params=u},this.sign=function(){var u=new a(this.params).tohex(),l=new c.crypto.Signature({alg:this.params.sigalg});l.init(this.params.sbjprvkey),l.updateHex(u);var h=l.sign();this.params.sighex=h},this.getPEM=function(){return Dn(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var u=this.params,l=new c.asn1.csr.CertificationRequestInfo(this.params),h=new c.asn1.x509.AlgorithmIdentifier({name:u.sigalg});if(u.sighex==null&&u.sbjprvkey!=null&&this.sign(),u.sighex==null)throw new Error("sighex or sbjprvkey parameter not defined");var g=new n({hex:"00"+u.sighex}),d=new r({array:[l,h,g]});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.csr.CertificationRequest,c.asn1.ASN1Object);c.asn1.csr.CertificationRequestInfo=function(e){var t=c,i=t.asn1,n=i.DERBitString,r=i.DERSequence,s=i.DERInteger,o=i.DERUTF8String,a=i.DERTaggedObject,u=i.ASN1Util.newObject,l=i.csr,h=i.x509,g=h.X500Name,d=h.Extensions,f=h.SubjectPublicKeyInfo,v=l.AttributeList;l.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(y){y!=null&&(this.params=y)},this.tohex=function(){var y=this.params,m=[];if(m.push(new s({int:0})),m.push(new g(y.subject)),m.push(new f(Oe.getKey(y.sbjpubkey))),y.attrs!=null){var b=p(y.attrs),E=u({tag:{tage:"a0",obj:b}});m.push(E)}else if(y.extreq!=null){var D=new d(y.extreq),E=u({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[D]}]}}});m.push(E)}else m.push(new a({tag:"a0",explicit:!1,obj:new o({str:""})}));var C=new r({array:m});return C.tohex()},this.getEncodedHex=function(){return this.tohex()};function p(y){for(var m=Error,b=c.asn1.x509.Extensions,E=[],D=0;D<y.length;D++){var C=y[D],O=C.attr;if(O=="extensionRequest"){var k=new b(C.ext),_={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[k]}]};E.push(_)}else if(O=="unstructuredName"){var _={seq:[{oid:"1.2.840.113549.1.9.2"},{set:C.names}]};E.push(_)}else if(O=="challengePassword"){var _={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:C.password}]}]};E.push(_)}else throw new m("unknown CSR attribute")}return{set:E}}e!=null&&this.setByParam(e)};H(c.asn1.csr.CertificationRequestInfo,c.asn1.ASN1Object);c.asn1.csr.AttributeList=function(e){function t(i){}};H(c.asn1.csr.AttributeList,c.asn1.ASN1Object);c.asn1.csr.CSRUtil=new function(){};c.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=Oe,i=c.asn1.csr,n=new i.CertificationRequest(e),r=n.getPEM();return r};c.asn1.csr.CSRUtil.getParam=function(e,t){var i=G,n=i.getV,r=i.getIdxbyList,s=i.getTLVbyList,o=i.getTLVbyListEx,a=i.getVbyListEx,u=function(b){var E=r(b,0,[0,3,0,0],"06");return n(b,E)!="2a864886f70d01090e"?null:s(b,0,[0,3,0,1,0],"30")},l={};if(e.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1)throw new Error("argument is not PEM file");var h=Dt(e,"CERTIFICATE REQUEST");t&&(l.tbs=s(h,0,[0]));try{var g=o(h,0,[0,1]);if(g=="3000")l.subject={};else{var p=new ae;l.subject=p.getX500Name(g)}}catch{}var d=o(h,0,[0,2]),f=Oe.getKey(d,null,"pkcs8pub");l.sbjpubkey=Oe.getPEM(f,"PKCS8PUB");var v=u(h),p=new ae;v!=null&&(l.extreq=p.getExtParamArray(v));try{var y=o(h,0,[1],"30"),p=new ae;l.sigalg=p.getAlgorithmIdentifierName(y)}catch{}try{var m=a(h,0,[2]);l.sighex=m}catch{}return l};c.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if(typeof e=="string"&&e.indexOf("-----BEGIN CERTIFICATE REQUEST")!=-1?t=c.asn1.csr.CSRUtil.getParam(e,!0):typeof e=="object"&&e.sbjpubkey!=null&&e.sigalg!=null&&e.sighex!=null&&e.tbs!=null&&(t=e),t==null)return!1;var i=new c.crypto.Signature({alg:t.sigalg});return i.init(t.sbjpubkey),i.updateHex(t.tbs),i.verify(t.sighex)}catch(n){return alert(n),!1}};(typeof c>"u"||!c)&&(c={});(typeof c.asn1>"u"||!c.asn1)&&(c.asn1={});(typeof c.asn1.ocsp>"u"||!c.asn1.ocsp)&&(c.asn1.ocsp={});c.asn1.ocsp.DEFAULT_HASH="sha1";c.asn1.ocsp.OCSPResponse=function(e){c.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);var t=c.asn1.DEREnumerated,i=c.asn1.ASN1Util.newObject,n=c.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var s=this.params.resstatus;return typeof s=="number"?s:typeof s!="string"?-1:r.indexOf(s)},this.setByParam=function(s){this.params=s},this.tohex=function(){var s=this.params,o=this._getStatusCode();if(o==-1)throw new Error("responseStatus not supported: "+s.resstatus);if(o!=0)return i({seq:[{enum:{int:o}}]}).tohex();var a=new n(s);return i({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:a}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.OCSPResponse,c.asn1.ASN1Object);c.asn1.ocsp.ResponseBytes=function(e){c.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=c.asn1,i=t.DERSequence,n=t.DERObjectIdentifier,r=t.DEROctetString,s=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(o){this.params=o},this.tohex=function(){var o=this.params;if(o.restype!="ocspBasic")throw new Error("not supported responseType: "+o.restype);var a=new s(o),u=[];u.push(new n({name:"ocspBasic"})),u.push(new r({hex:a.tohex()}));var l=new i({array:u});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.ResponseBytes,c.asn1.ASN1Object);c.asn1.ocsp.BasicOCSPResponse=function(e){c.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,i=c.asn1,n=i.ASN1Object,r=i.DERSequence,s=i.DERGeneralizedTime,o=i.DERTaggedObject,a=i.DERBitString,u=i.x509.Extensions,l=i.x509.AlgorithmIdentifier,h=i.ocsp,g=h.ResponderID;_SingleResponseList=h.SingleResponseList,_ResponseData=h.ResponseData,this.params=null,this.setByParam=function(d){this.params=d},this.sign=function(){var d=this.params,f=d.tbsresp.tohex(),v=new c.crypto.Signature({alg:d.sigalg});v.init(d.reskey),v.updateHex(f),d.sighex=v.sign()},this.tohex=function(){var d=this.params;d.tbsresp==null&&(d.tbsresp=new _ResponseData(d)),d.sighex==null&&d.reskey!=null&&this.sign();var f=[];if(f.push(d.tbsresp),f.push(new l({name:d.sigalg})),f.push(new a({hex:"00"+d.sighex})),d.certs!=null&&d.certs.length!=null){for(var v=[],p=0;p<d.certs.length;p++){var y=d.certs[p],m=null;if(G.isASN1HEX(y))m=y;else if(y.match(/-----BEGIN/))m=Dt(y);else throw new t("certs["+p+"] not hex or PEM");v.push(new n({tlv:m}))}var b=new r({array:v});f.push(new o({tag:"a0",explicit:!0,obj:b}))}var E=new r({array:f});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.BasicOCSPResponse,c.asn1.ASN1Object);c.asn1.ocsp.ResponseData=function(e){c.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,i=c.asn1,n=i.DERSequence,r=i.DERGeneralizedTime,s=i.DERTaggedObject,o=i.x509.Extensions,a=i.ocsp,u=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var l=this.params;l.respid!=null&&new t("respid not specified"),l.prodat!=null&&new t("prodat not specified"),l.array!=null&&new t("array not specified");var h=[];if(h.push(new u(l.respid)),h.push(new r(l.prodat)),h.push(new _SingleResponseList(l.array)),l.ext!=null){var g=new o(l.ext);h.push(new s({tag:"a1",explicit:!0,obj:g}))}var d=new n({array:h});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(l){this.params=l},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.ResponseData,c.asn1.ASN1Object);c.asn1.ocsp.ResponderID=function(e){c.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=c,i=t.asn1,n=i.ASN1Util.newObject,r=i.x509.X500Name,s=t.lang.String.isHex,o=Error;this.params=null,this.tohex=function(){var a=this.params;if(a.key!=null){var u=null;if(typeof a.key=="string"){if(s(a.key)&&(u=a.key),a.key.match(/-----BEGIN CERTIFICATE/)){var l=new ae(a.key),h=l.getExtSubjectKeyIdentifier();h!=null&&(u=h.kid.hex)}}else if(a.key instanceof ae){var h=a.key.getExtSubjectKeyIdentifier();h!=null&&(u=h.kid.hex)}if(u==null)throw new o("wrong key member value");var g=n({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:u}}}});return g.tohex()}else if(a.name!=null){var d=null;if(typeof a.name=="string"&&a.name.match(/-----BEGIN CERTIFICATE/)){var l=new ae(a.name);d=l.getSubject()}else a.name instanceof ae?d=a.name.getSubject():typeof a.name=="object"&&(a.name.array!=null||a.name.str!=null)&&(d=a.name);if(d==null)throw new o("wrong name member value");var g=n({tag:{tag:"a1",explicit:!0,obj:new r(d)}});return g.tohex()}throw new o("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(a){this.params=a},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.ResponderID,c.asn1.ASN1Object);c.asn1.ocsp.SingleResponseList=function(e){c.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=c.asn1,i=t.DERSequence,n=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var r=this.params;if(typeof r!="object"||r.length==null)throw new Error("params not specified properly");for(var s=[],o=0;o<r.length;o++)s.push(new n(r[o]));var a=new i({array:s});return a.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(r){this.params=r},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.SingleResponseList,c.asn1.ASN1Object);c.asn1.ocsp.SingleResponse=function(e){var t=Error,i=c,n=i.asn1,r=n.DERSequence,s=n.DERGeneralizedTime,o=n.DERTaggedObject,a=n.ocsp,u=a.CertID,l=a.CertStatus,h=n.x509,g=h.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params,f=[];if(d.certid==null)throw new t("certid unspecified");if(d.status==null)throw new t("status unspecified");if(d.thisupdate==null)throw new t("thisupdate unspecified");if(f.push(new u(d.certid)),f.push(new l(d.status)),f.push(new s(d.thisupdate)),d.nextupdate!=null){var v=new s(d.nextupdate);f.push(new o({tag:"a0",explicit:!0,obj:v}))}if(d.ext!=null){var p=new g(d.ext);f.push(new o({tag:"a1",explicit:!0,obj:p}))}var y=new r({array:f});return y.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(d){this.params=d},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.SingleResponse,c.asn1.ASN1Object);c.asn1.ocsp.CertID=function(e){var t=c,i=t.asn1,n=i.DEROctetString,r=i.DERInteger,s=i.DERSequence,o=i.x509,a=o.AlgorithmIdentifier,u=i.ocsp,l=u.DEFAULT_HASH,h=t.crypto,g=h.Util.hashHex,d=ae,f=G,v=f.getVbyList;u.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(p,y,m,b){b==null&&(b=this.DEFAULT_HASH),this.params={alg:b,issname:p,isskey:y,sbjsn:m}},this.setByCert=function(p,y,m){m==null&&(m=this.DEFAULT_HASH),this.params={alg:m,issuerCert:p,subjectCert:y}},this.getParamByCerts=function(p,y,m){m==null&&(m=this.DEFAULT_HASH);var b=new d(p),E=new d(y),D=g(b.getSubjectHex(),m),C=b.getPublicKeyHex(),O=g(v(C,0,[1],"03",!0),m),k=E.getSerialNumberHex(),_={alg:m,issname:D,isskey:O,sbjsn:k};return _},this.tohex=function(){if(typeof this.params!="object")throw new Error("params not set");var p=this.params,y,m,b,E;if(p.alg==null?E=this.DEFAULT_HASH:E=p.alg,p.issuerCert!=null&&p.subjectCert!=null){var D=this.getParamByCerts(p.issuerCert,p.subjectCert,E);y=D.issname,m=D.isskey,b=D.sbjsn}else if(p.issname!=null&&p.isskey!=null&&p.sbjsn!=null)y=p.issname,m=p.isskey,b=p.sbjsn;else throw new Error("required param members not defined");var C=new a({name:E}),O=new n({hex:y}),k=new n({hex:m}),_=new r({hex:b}),w=new s({array:[C,O,k,_]});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.CertID,c.asn1.ASN1Object);c.asn1.ocsp.CertStatus=function(e){c.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(t.status=="good")return"8000";if(t.status=="unknown")return"8200";if(t.status=="revoked"){var i=[{gentime:{str:t.time}}];t.reason!=null&&i.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:i}};return c.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},e!==void 0&&this.setByParam(e)};H(c.asn1.ocsp.CertStatus,c.asn1.ASN1Object);c.asn1.ocsp.Request=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var o=[];if(this.dReqCert===null)throw"reqCert not set";o.push(this.dReqCert);var a=new n({array:o});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof e<"u"){var s=new r.CertID(e);this.dReqCert=s}};H(c.asn1.ocsp.Request,c.asn1.ASN1Object);c.asn1.ocsp.TBSRequest=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(s){for(var o=[],a=0;a<s.length;a++){var u=new r.Request(s[0]);o.push(u)}this.dRequestList=o},this.tohex=function(){var s=[];if(this.version!==0)throw"not supported version: "+this.version;if(this.dRequestorName!==null)throw"requestorName not supported";var o=new n({array:this.dRequestList});if(s.push(o),this.dRequestExt!==null)throw"requestExtensions not supported";var a=new n({array:s});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&e.reqList!==void 0&&this.setRequestListByParam(e.reqList)};H(c.asn1.ocsp.TBSRequest,c.asn1.ASN1Object);c.asn1.ocsp.OCSPRequest=function(e){var t=c,i=t.asn1,n=i.DERSequence,r=i.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var o=[];if(this.dTbsRequest!==null)o.push(this.dTbsRequest);else throw"tbsRequest not set";if(this.dOptionalSignature!==null)throw"optionalSignature not supported";var a=new n({array:o});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},e!==void 0&&e.reqList!==void 0){var s=new r.TBSRequest(e);this.dTbsRequest=s}};H(c.asn1.ocsp.OCSPRequest,c.asn1.ASN1Object);c.asn1.ocsp.OCSPUtil={};c.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,i){var n=c,r=n.asn1,s=r.ocsp;i===void 0&&(i=s.DEFAULT_HASH);var o={alg:i,issuerCert:e,subjectCert:t},a=new s.OCSPRequest({reqList:[o]});return a.tohex()};c.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=G,i=t.getVbyList,n=t.getVbyListEx,r=t.getIdxbyList,s=t.getIdxbyListEx,o=t.getV,a={};try{var u=n(e,0,[0],"0a");a.responseStatus=parseInt(u,16)}catch{}if(a.responseStatus!==0)return a;try{var l=r(e,0,[1,0,1,0,0,2,0,1]);e.substr(l,2)==="80"?a.certStatus="good":e.substr(l,2)==="a1"?(a.certStatus="revoked",a.revocationTime=et(i(e,l,[0]))):e.substr(l,2)==="82"&&(a.certStatus="unknown")}catch{}try{var h=r(e,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=et(o(e,h))}catch{}try{var g=r(e,0,[1,0,1,0,0,2,0,3]);e.substr(g,2)==="a0"&&(a.nextUpdate=et(i(e,g,[0])))}catch{}return a};c.asn1.ocsp.OCSPParser=function(){var e=Error,t=ae,i=new t,n=G,r=n.getV,s=n.getTLV,o=n.getIdxbyList,a=n.getVbyList,u=n.getTLVbyList,l=n.getVbyListEx,h=n.getTLVbyListEx,g=n.getChildIdx;this.getOCSPRequest=function(d){var f=g(d,0);if(f.length!=1&&f.length!=2)throw new e("wrong number elements: "+f.length);var v=this.getTBSRequest(s(d,f[0]));return v},this.getTBSRequest=function(d){var f={},v=h(d,0,[0],"30");f.array=this.getRequestList(v);var p=h(d,0,["[2]",0],"30");return p!=null&&(f.ext=i.getExtParamArray(p)),f},this.getRequestList=function(d){for(var f=[],v=g(d,0),p=0;p<v.length;p++){var d=s(d,v[p]);f.push(this.getRequest(d))}return f},this.getRequest=function(d){var f=g(d,0);if(f.length!=1&&f.length!=2)throw new e("wrong number elements: "+f.length);var v=this.getCertID(s(d,f[0]));if(f.length==2){var p=o(d,0,[1,0]);v.ext=i.getExtParamArray(s(d,p))}return v},this.getCertID=function(d){var f=g(d,0);if(f.length!=4)throw new e("wrong number elements: "+f.length);var v=new t,p={};return p.alg=v.getAlgorithmIdentifierName(s(d,f[0])),p.issname=r(d,f[1]),p.isskey=r(d,f[2]),p.sbjsn=r(d,f[3]),p},this.getOCSPResponse=function(d){var f=g(d,0),v,p=r(d,f[0]),y=parseInt(p);if(f.length==1)return{resstatus:y};var m=u(d,0,[1,0]);return v=this.getResponseBytes(m),v.resstatus=y,v},this.getResponseBytes=function(d){var f=g(d,0),v,p=u(d,0,[1,0]);v=this.getBasicOCSPResponse(p);var y=r(d,f[0]);return v.restype=c.asn1.x509.OID.oid2name(Ud(y)),v},this.getBasicOCSPResponse=function(d){var f=g(d,0),v;v=this.getResponseData(s(d,f[0]));var p=new ae;v.alg=p.getAlgorithmIdentifierName(s(d,f[1]));var y=r(d,f[2]);v.sighex=y.substr(2);var m=l(d,0,["[0]"]);if(m!=null){for(var b=g(m,0),E=[],D=0;D<b.length;D++){var C=s(m,b[D]);E.push(C)}v.certs=E}return v},this.getResponseData=function(d){var f=g(d,0),v=f.length,p={},y=0;d.substr(f[0],2)=="a0"&&y++,p.respid=this.getResponderID(s(d,f[y++]));var m=r(d,f[y++]);if(p.prodat=et(m),p.array=this.getSingleResponseList(s(d,f[y++])),d.substr(f[v-1],2)=="a1"){var b=u(d,f[v-1],[0]),E=new ae;p.ext=E.getExtParamArray(b)}return p},this.getResponderID=function(d){var f={};if(d.substr(0,2)=="a2"){var v=a(d,0,[0]);f.key=v}if(d.substr(0,2)=="a1"){var p=u(d,0,[0]),y=new ae;f.name=y.getX500Name(p)}return f},this.getSingleResponseList=function(d){for(var f=g(d,0),v=[],p=0;p<f.length;p++){var y=this.getSingleResponse(s(d,f[p]));v.push(y)}return v},this.getSingleResponse=function(d){var f=g(d,0),v={},p=this.getCertID(s(d,f[0]));v.certid=p;var y=this.getCertStatus(s(d,f[1]));if(v.status=y,d.substr(f[2],2)=="18"){var m=r(d,f[2]);v.thisupdate=et(m)}for(var b=3;b<f.length;b++){if(d.substr(f[b],2)=="a0"){var E=a(d,f[b],[0],"18");v.nextupdate=et(E)}if(d.substr(f[b],2)=="a1"){var D=new ae,C=u(d,0,[b,0]);v.ext=D.getExtParamArray(C)}}return v},this.getCertStatus=function(d){var f={};if(d=="8000")return{status:"good"};if(d=="8200")return{status:"unknown"};if(d.substr(0,2)=="a1"){f.status="revoked";var v=a(d,0,[0]),p=et(v);f.time=p}return f}};var c;(typeof c>"u"||!c)&&(c={});(typeof c.lang>"u"||!c.lang)&&(c.lang={});c.lang.String=function(){};function DE(e){for(var t=new Array,i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function CE(e){for(var t="",i=0;i<e.length;i++)t=t+String.fromCharCode(e[i]);return t}function kd(e){for(var t="",i=0;i<e.length;i++){var n=e[i].toString(16);n.length==1&&(n="0"+n),t=t+n}return t}function Hn(e){return kd(DE(e))}function Pk(e){return wr(Hn(e))}function kk(e){return zo(wr(Hn(e)))}function Bk(e){return CE(vE(wu(e)))}function zo(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_"),e}function wu(e){return e.length%4==2?e=e+"==":e.length%4==3&&(e=e+"="),e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/"),e}function Ut(e){return e.length%2==1&&(e="0"+e),zo(wr(e))}function pt(e){return Ko(wu(e))}var _u,Ni;typeof Buffer=="function"?(_u=function(e){return zo(Buffer.from(e,"utf8").toString("base64"))},Ni=function(e){return Buffer.from(wu(e),"base64").toString("utf8")}):(_u=function(e){return Ut(Ld(Hd(e)))},Ni=function(e){return decodeURIComponent(jd(pt(e)))});function Vk(e){return wr(Ld(Hd(e)))}function Lk(e){return decodeURIComponent(jd(Ko(e)))}function Bd(e){return Ld(Hd(e)).toLowerCase()}function et(e){try{return decodeURIComponent(jd(e))}catch{return null}}function jk(e){return et(Hk(e))}function Hk(e){for(var t=e.match(/.{1,2}/g),i=[],n=0;n<t.length;n++){var r=parseInt(t[n],16);161<=r&&r<=191?(i.push("c2"),i.push(t[n])):192<=r&&r<=255?(i.push("c3"),i.push((r-64).toString(16))):i.push(t[n])}return i.join("")}function Un(e){for(var t="",i=0;i<e.length-1;i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t}function Qi(e){for(var t="",i=0;i<e.length;i++)t+=("0"+e.charCodeAt(i).toString(16)).slice(-2);return t}function zm(e){return wr(e)}function Uk(e){return Vd(zm(e),64)}function Vd(e,t){return e=e.replace(new RegExp("(.{"+t+"})","g"),`$1\r
`),e=e.replace(/\s+$/,""),e}function SE(e){var t=e.replace(/[^0-9A-Za-z\/+=]*/g,""),i=Ko(t);return i}function $k(e,t){return"-----BEGIN "+t+`-----\r
`+Vd(e,64)+`\r
-----END `+t+`-----\r
`}function Dn(e,t){return"-----BEGIN "+t+`-----\r
`+Vd(zm(e),64)+`\r
-----END `+t+`-----\r
`}function Dt(e,t){if(e.indexOf("-----BEGIN ")==-1)throw new Error("can't find PEM header");return t!==void 0?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),""),e=e.replace(new RegExp("-----END "+t+"-----[^]*$"),"")):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,""),e=e.replace(/-----END [^-]+-----[^]*$/,"")),SE(e)}function Gk(e){return e.indexOf("-----BEGIN ")==-1||e.indexOf("-----END ")==-1?null:(e=e.replace(/^[\s\S]*?-----BEGIN [^-]+-----/m,""),e=e.replace(/-----END [\s\S]+$/m,""),e=e.replace(/\s+/g,""),e.match(/^[0-9a-zA-Z+/=]+$/)?e:null)}function Wk(e){if(e.length%2!=0)throw"input is not even length";if(e.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),i=new DataView(t),n=0;n<e.length/2;n++)i.setUint8(n,parseInt(e.substr(n*2,2),16));return t}function qk(e){for(var t="",i=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+i.getUint8(n).toString(16)).slice(-2);return t}function Km(e){var t,i,n,r,s,o,a,u,l,h,g,d;if(e=IE(e),d=e.match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/),d)return t=parseInt(d[1]),i=parseInt(d[2])-1,n=parseInt(d[3]),r=parseInt(d[4]),s=parseInt(d[5]),o=parseInt(d[6]),a=0,h=d[7],h!==""&&(g=(h.substr(1)+"00").substr(0,3),a=parseInt(g)),Date.UTC(t,i,n,r,s,o,a);throw new Error("unsupported zulu format: "+e)}function zk(e){var t=new Date(e),i=("0000"+t.getUTCFullYear()).slice(-4),n=("00"+(t.getUTCMonth()+1)).slice(-2),r=("00"+t.getUTCDate()).slice(-2),s=("00"+t.getUTCHours()).slice(-2),o=("00"+t.getUTCMinutes()).slice(-2),a=("00"+t.getUTCSeconds()).slice(-2),u=("000"+t.getUTCMilliseconds()).slice(-3);return u=u.replace(/0+$/,""),u=u!=""?"."+u:u,i+n+r+s+o+a+u+"Z"}function xE(e){return Math.round(Km(e)/1e3)}function Kk(e){return new Date(Km(e))}function Yk(e,t,i){var n,r=e.getUTCFullYear();if(t){if(r<1950||2049<r)throw"not proper year for UTCTime: "+r;n=(""+r).slice(-2)}else n=("000"+r).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),i){var s=e.getUTCMilliseconds();s!==0&&(s=("00"+s).slice(-3),s=s.replace(/0+$/g,""),n+="."+s)}return n+="Z",n}function IE(e){return e.match(/^[0-9]{12}Z$/)||e.match(/^[0-9]{12}[.][0-9]*Z$/)?e.match(/^[0-4]/)?"20"+e:"19"+e:e}function Ld(e){return e.replace(/%/g,"")}function jd(e){return e.replace(/(..)/g,"%$1")}function jm(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;e=e.toLowerCase();var i=e.split(":").length-1;if(i<2)throw t;var n=":".repeat(7-i+2);e=e.replace("::",n);var r=e.split(":");if(r.length!=8)throw t;for(var s=0;s<8;s++)r[s]=("0000"+r[s]).slice(-4);return r.join("")}function Hm(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);e=e.toLowerCase();var t=e.match(/.{1,4}/g);t=t.map(function(r){return r.replace(/^0+/,"")}),t=t.map(function(r){return r==""?"0":r}),e=":"+t.join(":")+":";var i=e.match(/:(0:){2,}/g);if(i==null)return e.slice(1,-1);var n=i.sort().slice(-1)[0];return e=e.replace(n.substr(0,n.length-1),":"),e.substr(0,2)!="::"&&(e=e.substr(1)),e.substr(-2,2)!="::"&&(e=e.substr(0,e.length-1)),e}function Fd(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(e.length==8){var i;try{return i=parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16),i}catch{throw t}}else if(e.length==16)try{return Fd(e.substr(0,8))+"/"+gE(e.substr(8))}catch{throw t}else{if(e.length==32)return Hm(e);if(e.length==64){try{return Hm(e.substr(0,32))+"/"+gE(e.substr(32))}catch{throw t}return}else return e}}function gE(e){var t=new Error("malformed mask"),i;try{i=new B(e,16).toString(2)}catch{throw t}if(!i.match(/^1*0*$/))throw t;return i.replace(/0+$/,"").length}function Ym(e){var t=new Error("malformed IP address");if(e=e.toLowerCase(e),!e.match(/^[0-9a-f.:/]+$/))throw t;if(e.match(/^[0-9.]+$/)){var i=e.split(".");if(i.length!==4)throw t;var n="";try{for(var r=0;r<4;r++){var s=parseInt(i[r]);n+=("0"+s.toString(16)).slice(-2)}return n}catch{throw t}}else if(e.match(/^[0-9.]+\/[0-9]+$/)){var o=e.split("/");return Ym(o[0])+mE(parseInt(o[1]),32)}else{if(e.match(/^[0-9a-f:]+$/)&&e.indexOf(":")!==-1)return jm(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&e.indexOf(":")!==-1){var o=e.split("/");return jm(o[0])+mE(parseInt(o[1]),128)}else throw t}}function mE(e,t){if(t==32&&e==0)return"00000000";if(t==128&&e==0)return"00000000000000000000000000000000";var i=Array(e+1).join("1")+Array(t-e+1).join("0");return new B(i,2).toString(16)}function Jm(e){function t(r){var s=parseInt(r.substr(0,2),16),o=parseInt(r.substr(2),16);if(s==0&o<128)return String.fromCharCode(o);if(s<8){var a=192|(s&7)<<3|(o&192)>>6,u=128|o&63;return et(a.toString(16)+u.toString(16))}var a=224|(s&240)>>4,u=128|(s&15)<<2|(o&192)>>6,l=128|o&63;return et(a.toString(16)+u.toString(16)+l.toString(16))}var i=e.match(/.{4}/g),n=i.map(t);return n.join("")}function Hd(e){for(var t=encodeURIComponent(e),i="",n=0;n<t.length;n++)t[n]=="%"?(i=i+t.substr(n,3),n=n+2):i=i+"%"+Hn(t[n]);return i}function Jk(e){return e=e.replace(/\r\n/mg,`
`),e}function Zk(e){return e=e.replace(/\r\n/mg,`
`),e=e.replace(/\n/mg,`\r
`),e}c.lang.String.isInteger=function(e){return e.match(/^[0-9]+$/)?!0:!!e.match(/^-[0-9]+$/)};c.lang.String.isHex=function(e){return TE(e)};function TE(e){return!!(e.length%2==0&&(e.match(/^[0-9a-f]+$/)||e.match(/^[0-9A-F]+$/)))}c.lang.String.isBase64=function(e){return e=e.replace(/\s+/g,""),!!(e.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&e.length%4==0)};c.lang.String.isBase64URL=function(e){return e.match(/[+/=]/)?!1:(e=wu(e),c.lang.String.isBase64(e))};function Zm(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}c.lang.String.isIntegerArray=function(e){return e=e.replace(/\s+/g,""),!!e.match(/^\[[0-9,]+\]$/)};c.lang.String.isPrintable=function(e){return e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null};c.lang.String.isIA5=function(e){return e.match(/^[\x20-\x21\x23-\x7f]*$/)!==null};c.lang.String.isMail=function(e){return e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};function Um(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function Qk(e){e=e.replace(/^\s*\[\s*/,""),e=e.replace(/\s*\]\s*$/,""),e=e.replace(/\s*/g,"");try{var t=e.split(/,/).map(function(i,n,r){var s=parseInt(i);if(s<0||255<s)throw"integer not in range 0-255";var o=("00"+s.toString(16)).slice(-2);return o}).join("");return t}catch(i){throw"malformed integer array string: "+i}}var Xk=function(e,t){var i=e.length;e.length>t.length&&(i=t.length);for(var n=0;n<i;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?i:-1};function ME(e){var t=function(a){var u=a.toString(16);return u.length==1&&(u="0"+u),u},i=function(a){var u="",l=parseInt(a,10),h=l.toString(2),g=7-h.length%7;g==7&&(g=0);for(var d="",f=0;f<g;f++)d+="0";h=d+h;for(var f=0;f<h.length-1;f+=7){var v=h.substr(f,7);f!=h.length-7&&(v="1"+v),u+=t(parseInt(v,2))}return u};try{if(!e.match(/^[0-9.]+$/))return null;var n="",r=e.split("."),s=parseInt(r[0],10)*40+parseInt(r[1],10);n+=t(s),r.splice(0,2);for(var o=0;o<r.length;o++)n+=i(r[o]);return n}catch{return null}}function Ud(e){if(!TE(e))return null;try{var t=[],i=e.substr(0,2),n=parseInt(i,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var r=e.substr(2),s=[],o=0;o<r.length/2;o++)s.push(parseInt(r.substr(o*2,2),16));for(var a=[],u="",o=0;o<s.length;o++)s[o]&128?u=u+Od((s[o]&127).toString(2),7):(u=u+Od((s[o]&127).toString(2),7),a.push(new String(parseInt(u,2))),u="");var l=t.join(".");return a.length>0&&(l=l+"."+a.join(".")),l}catch{return null}}function AE(e){var t=new B(String(e),10);return Eu(t)}function Eu(e){var t=e.toString(16);if(t.substr(0,1)!="-")return t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t),t;var i=t.substr(1),n=i.length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",s=0;s<n;s++)r+="f";var o=new B(r,16),a=o.xor(e).add(B.ONE);return t=a.toString(16).replace(/^-/,""),t}var Od=function(e,t,i){return i==null&&(i="0"),e.length>=t?e:new Array(t-e.length+1).join(i)+e};function FE(e){if(e.length%2!=0||(e=e.toLowerCase(),e.match(/^[0-9a-f]+$/)==null))return-1;try{var t=e.substr(0,2);if(t=="00")return parseInt(e.substr(2),16);var i=parseInt(t,16);if(i>7)return-1;var n=e.substr(2),r=parseInt(n,16).toString(2);r=="0"&&(r="00000000"),r=r.slice(0,0-i);var s=parseInt(r,2);return s==NaN?-1:s}catch{return-1}}function OE(e){if(typeof e!="number"||e<0)return null;var t=Number(e).toString(2),i=8-t.length%8;i==8&&(i=0),t=t+Od("",i,"0");var n=parseInt(t,2).toString(16);n.length%2==1&&(n="0"+n);var r="0"+i;return r+n}function RE(e){if(typeof e!="string"||e.length%2!=0||!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var i=e.substr(2),n="",r=0;r<i.length;r+=2){var s=i.substr(r,2),o=parseInt(s,16).toString(2);o=("0000000"+o).slice(-8),n+=o}return n.substr(0,n.length-t)}catch{return null}}function e5(e){if(typeof e!="string"||e.match(/^[01]+$/)==null)return null;try{var t=parseInt(e,2);return OE(t)}catch{return null}}function Rd(e,t){for(var i=0,n=0;n<e.length;n++)i|=1<<t[e[n]];for(var r=i.toString(2),s="",n=r.length-1;n>=0;n--)s+=r[n];return s}function st(e,n,i){if(typeof e=="object"){for(var n=String(n).split("."),r=0;r<n.length&&e;r++){var s=n[r];s.match(/^[0-9]+$/)&&(s=parseInt(s)),e=e[s]}return e||e===!1?e:i}}function H(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:Y.algo.MD5,sha1:Y.algo.SHA1,sha224:Y.algo.SHA224,sha256:Y.algo.SHA256,sha384:Y.algo.SHA384,sha512:Y.algo.SHA512,ripemd160:Y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(typeof this.DIGESTINFOHEAD[t]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,i){var n=this.getDigestInfoHex(e,t),r=i/4;if(n.length+22>r)throw"key is too short for SigAlg: keylen="+i+","+t;for(var s="0001",o="00"+n,a="",u=r-s.length-o.length,l=0;l<u;l+=2)a+="ff";var h=s+a+o;return h},this.hashString=function(e,t){var i=new c.crypto.MessageDigest({alg:t});return i.digestString(e)},this.hashHex=function(e,t){var i=new c.crypto.MessageDigest({alg:t});return i.digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof me||e instanceof c.crypto.DSA||e instanceof c.crypto.ECDSA}};c.crypto.Util.md5=function(e){var t=new c.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return t.digestString(e)};c.crypto.Util.ripemd160=function(e){var t=new c.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestString(e)};c.crypto.Util.SECURERANDOMGEN=new Zo;c.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return c.crypto.Util.SECURERANDOMGEN.nextBytes(t),kd(t)};c.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new B(c.crypto.Util.getRandomHexOfNbytes(e),16)};c.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,i=(e-t)/8,n=new Array(i+1);return c.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],kd(n)};c.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new B(c.crypto.Util.getRandomHexOfNbits(e),16)};c.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var i=c.crypto.Util.getRandomBigIntegerOfNbits(t);if(e.compareTo(i)!=-1)return i}};c.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var i=e.compareTo(t);if(i==1)throw"biMin is greater than biMax";if(i==0)return e;var n=t.subtract(e),r=c.crypto.Util.getRandomBigIntegerZeroToMax(n);return r.add(e)};c.crypto.MessageDigest=function(e){var t=null,i=null,n=null;this.setAlgAndProvider=function(r,s){if(r=c.crypto.MessageDigest.getCanonicalAlgName(r),r!==null&&s===void 0&&(s=c.crypto.Util.DEFAULTPROVIDER[r]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)!=-1&&s=="cryptojs"){try{this.md=c.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r].create()}catch(o){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var a=Y.enc.Hex.parse(o);this.md.update(a)},this.digest=function(){var o=this.md.finalize();return o.toString(Y.enc.Hex)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}if(":sha256:".indexOf(r)!=-1&&s=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(o){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var a=sjcl.codec.hex.toBits(o);this.md.update(a)},this.digest=function(){var o=this.md.finalize();return sjcl.codec.hex.fromBits(o)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},e!==void 0&&e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=c.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))};c.crypto.MessageDigest.getCanonicalAlgName=function(e){return typeof e=="string"&&(e=e.toLowerCase(),e=e.replace(/-/,"")),e};c.crypto.MessageDigest.getHashLength=function(e){var t=c.crypto.MessageDigest,i=t.getCanonicalAlgName(e);if(t.HASHLENGTH[i]===void 0)throw"not supported algorithm: "+e;return t.HASHLENGTH[i]};c.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};c.crypto.Mac=function(e){var t=null,i=null,n=null,r=null,s=null;this.setAlgAndProvider=function(o,a){if(o=o.toLowerCase(),o==null&&(o="hmacsha1"),o=o.toLowerCase(),o.substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+o;a===void 0&&(a=c.crypto.Util.DEFAULTPROVIDER[o]),this.algProv=o+"/"+a;var u=o.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(u)!=-1&&a=="cryptojs"){try{var l=c.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[u];this.mac=Y.algo.HMAC.create(l,this.pass)}catch(h){throw"setAlgAndProvider hash alg set fail hashAlg="+u+"/"+h}this.updateString=function(h){this.mac.update(h)},this.updateHex=function(h){var g=Y.enc.Hex.parse(h);this.mac.update(g)},this.doFinal=function(){var h=this.mac.finalize();return h.toString(Y.enc.Hex)},this.doFinalString=function(h){return this.updateString(h),this.doFinal()},this.doFinalHex=function(h){return this.updateHex(h),this.doFinal()}}},this.updateString=function(o){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(o){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(o){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(o){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(o){if(typeof o=="string"){var a=o;(o.length%2==1||!o.match(/^[0-9A-Fa-f]+$/))&&(a=Qi(o)),this.pass=Y.enc.Hex.parse(a);return}if(typeof o!="object")throw"KJUR.crypto.Mac unsupported password type: "+o;var a=null;if(o.hex!==void 0){if(o.hex.length%2!=0||!o.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+o.hex;a=o.hex}if(o.utf8!==void 0&&(a=Bd(o.utf8)),o.rstr!==void 0&&(a=Qi(o.rstr)),o.b64!==void 0&&(a=Ko(o.b64)),o.b64u!==void 0&&(a=pt(o.b64u)),a==null)throw"KJUR.crypto.Mac unsupported password type: "+o;this.pass=Y.enc.Hex.parse(a)},e!==void 0&&(e.pass!==void 0&&this.setPassword(e.pass),e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0&&(this.provName=c.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))};c.crypto.Signature=function(e){var t=null,i=null,n=null,r=null,s=null,o=null,a=null,u=null,l=null,h=null,g=-1,d=null,f=null,v=null,p=null,y=null;if(this._setAlgNames=function(){var m=this.algName.match(/^(.+)with(.+)$/);m&&(this.mdAlgName=m[1].toLowerCase(),this.pubkeyAlgName=m[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(m,b){for(var E="",D=b/4-m.length,C=0;C<D;C++)E=E+"0";return E+m},this.setAlgAndProvider=function(m,b){if(this._setAlgNames(),b!="cryptojs/jsrsa")throw new Error("provider not supported: "+b);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new c.crypto.MessageDigest({alg:this.mdAlgName})}catch(E){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+E)}this.init=function(E,D){var C=null;try{D===void 0?C=Oe.getKey(E):C=Oe.getKey(E,D)}catch(O){throw"init failed:"+O}if(C.isPrivate===!0)this.prvKey=C,this.state="SIGN";else if(C.isPublic===!0)this.pubKey=C,this.state="VERIFY";else throw"init failed.:"+C},this.updateString=function(E){this.md.updateString(E)},this.updateHex=function(E){this.md.updateHex(E)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&c.crypto.ECDSA!==void 0&&(this.prvKey=new c.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof me&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof me&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof c.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof c.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;return this.hSign},this.signString=function(E){return this.updateString(E),this.sign()},this.signHex=function(E){return this.updateHex(E),this.sign()},this.verify=function(E){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&c.crypto.ECDSA!==void 0&&(this.pubKey=new c.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof me&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,E,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof me&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,E);if(c.crypto.ECDSA!==void 0&&this.pubKey instanceof c.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,E);if(c.crypto.DSA!==void 0&&this.pubKey instanceof c.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,E);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(m,b){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(m){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(m){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(m){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(m){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,e!==void 0&&(e.alg!==void 0&&(this.algName=e.alg,e.prov===void 0?this.provName=c.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),e.psssaltlen!==void 0&&(this.pssSaltLen=e.psssaltlen),e.prvkeypem!==void 0)){if(e.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=Oe.getKey(e.prvkeypem);this.init(t)}catch(m){throw"fatal error to load pem private key: "+m}}};c.crypto.Cipher=function(e){};c.crypto.Cipher.encrypt=function(e,t,i,n){if(st(n,"enclag")!=null&&(i=n.encalg),typeof i=="string"&&i.substr(-4)=="-CBC"){var r=t,s=e;st(n,"key")!=null&&(r=n.key),st(n,"enc")!=null&&(hEnc=n.enc);var o=Y.enc.Hex.parse(r),a=Y.enc.Hex.parse(s),u=Y.enc.Hex.parse(n.iv),l;if(i=="des-EDE3-CBC")l=Y.TripleDES.encrypt(a,o,{iv:u});else if(i=="aes128-CBC"||i=="aes256-CBC")l=Y.AES.encrypt(a,o,{iv:u});else throw new Error("unsupported algorithm: "+i);return l+""}else throw new Error("Cipher.encrypt: unsupported key or algorithm")};c.crypto.Cipher.decrypt=function(e,t,i,n){if(st(n,"enclag")!=null&&(i=n.encalg),typeof i=="string"&&i.substr(-4)=="-CBC"){var r=t,s=e;st(n,"key")!=null&&(r=n.key),st(n,"enc")!=null&&(s=n.enc);var o=Y.enc.Hex.parse(r),a=Y.enc.Hex.parse(s),u=Y.enc.Hex.parse(n.iv),l;if(i=="des-EDE3-CBC")l=Y.TripleDES.decrypt({ciphertext:a},o,{iv:u});else if(i=="aes128-CBC"||i=="aes256-CBC")l=Y.AES.decrypt({ciphertext:a},o,{iv:u});else throw new Error("unsupported algorithm: "+i);return Y.enc.Hex.stringify(l)}else throw new Error("Cipher.decrypt: unsupported key or algorithm")};c.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.ECDSA=function(e){var t="secp256r1",i=null,n=null,r=null,s=Error,o=B,a=ze,u=c.crypto.ECDSA,l=c.crypto.ECParameterDB,h=u.getName,g=G,d=g.getVbyListEx,f=g.isASN1HEX,v=new Zo,p=null;this.type="EC",this.isPrivate=!1,this.isPublic=!1;function y(m,b,E,D){for(var C=Math.max(b.bitLength(),D.bitLength()),O=m.add2D(E),k=m.curve.getInfinity(),_=C-1;_>=0;--_)k=k.twice2D(),k.z=o.ONE,b.testBit(_)?D.testBit(_)?k=k.add2D(O):k=k.add2D(m):D.testBit(_)&&(k=k.add2D(E));return k}this.getBigRandom=function(m){return new o(m.bitLength(),v).mod(m.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(m){this.ecparams=l.getByName(m),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=m},this.setPrivateKeyHex=function(m){this.isPrivate=!0,this.prvKeyHex=m},this.setPublicKeyHex=function(m){this.isPublic=!0,this.pubKeyHex=m},this.getPublicKeyXYHex=function(){var m=this.pubKeyHex;if(m.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var b=this.ecparams.keycharlen;if(m.length!==2+b*2)throw"malformed public key hex length";var E={};return E.x=m.substr(2,b),E.y=m.substr(2+b),E},this.getShortNISTPCurveName=function(){var m=this.curveName;return m==="secp256r1"||m==="NIST P-256"||m==="P-256"||m==="prime256v1"?"P-256":m==="secp384r1"||m==="NIST P-384"||m==="P-384"?"P-384":m==="secp521r1"||m==="NIST P-521"||m==="P-521"?"P-521":null},this.generateKeyPairHex=function(){var m=this.ecparams.n,b=this.getBigRandom(m),E=this.ecparams.keycharlen,D=("0000000000"+b.toString(16)).slice(-E);this.setPrivateKeyHex(D);var C=this.generatePublicKeyHex();return{ecprvhex:D,ecpubhex:C}},this.generatePublicKeyHex=function(){var m=new o(this.prvKeyHex,16),b=this.ecparams.G.multiply(m),E=b.getX().toBigInteger(),D=b.getY().toBigInteger(),C=this.ecparams.keycharlen,O=("0000000000"+E.toString(16)).slice(-C),k=("0000000000"+D.toString(16)).slice(-C),_="04"+O+k;return this.setPublicKeyHex(_),_},this.signWithMessageHash=function(m){return this.signHex(m,this.prvKeyHex)},this.signHex=function(m,b){var E=new o(b,16),D=this.ecparams.n,C=new o(m.substring(0,this.ecparams.keycharlen),16);do var O=this.getBigRandom(D),k=this.ecparams.G,_=k.multiply(O),w=_.getX().toBigInteger().mod(D);while(w.compareTo(o.ZERO)<=0);var S=O.modInverse(D).multiply(C.add(E.multiply(w))).mod(D);return u.biRSSigToASN1Sig(w,S)},this.sign=function(m,b){var E=b,D=this.ecparams.n,C=o.fromByteArrayUnsigned(m);do var O=this.getBigRandom(D),k=this.ecparams.G,_=k.multiply(O),w=_.getX().toBigInteger().mod(D);while(w.compareTo(B.ZERO)<=0);var S=O.modInverse(D).multiply(C.add(E.multiply(w))).mod(D);return this.serializeSig(w,S)},this.verifyWithMessageHash=function(m,b){return this.verifyHex(m,b,this.pubKeyHex)},this.verifyHex=function(m,b,E){try{var D,C,O=u.parseSigHex(b);D=O.r,C=O.s;var k=a.decodeFromHex(this.ecparams.curve,E),_=new o(m.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(_,D,C,k)}catch{return!1}},this.verify=function(m,b,E){var D,C;if(Bitcoin.Util.isArray(b)){var O=this.parseSig(b);D=O.r,C=O.s}else if(typeof b=="object"&&b.r&&b.s)D=b.r,C=b.s;else throw"Invalid value for signature";var k;if(E instanceof ze)k=E;else if(Bitcoin.Util.isArray(E))k=a.decodeFrom(this.ecparams.curve,E);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";var _=o.fromByteArrayUnsigned(m);return this.verifyRaw(_,D,C,k)},this.verifyRaw=function(m,b,E,D){var C=this.ecparams.n,O=this.ecparams.G;if(b.compareTo(o.ONE)<0||b.compareTo(C)>=0||E.compareTo(o.ONE)<0||E.compareTo(C)>=0)return!1;var k=E.modInverse(C),_=m.multiply(k).mod(C),w=b.multiply(k).mod(C),S=O.multiply(_).add(D.multiply(w)),x=S.getX().toBigInteger().mod(C);return x.equals(b)},this.serializeSig=function(m,b){var E=m.toByteArraySigned(),D=b.toByteArraySigned(),C=[];return C.push(2),C.push(E.length),C=C.concat(E),C.push(2),C.push(D.length),C=C.concat(D),C.unshift(C.length),C.unshift(48),C},this.parseSig=function(m){var b;if(m[0]!=48)throw new Error("Signature not a valid DERSequence");if(b=2,m[b]!=2)throw new Error("First element in signature must be a DERInteger");var E=m.slice(b+2,b+2+m[b+1]);if(b+=2+m[b+1],m[b]!=2)throw new Error("Second element in signature must be a DERInteger");var D=m.slice(b+2,b+2+m[b+1]);b+=2+m[b+1];var C=o.fromByteArrayUnsigned(E),O=o.fromByteArrayUnsigned(D);return{r:C,s:O}},this.parseSigCompact=function(m){if(m.length!==65)throw"Signature has the wrong length";var b=m[0]-27;if(b<0||b>7)throw"Invalid signature type";var E=this.ecparams.n,D=o.fromByteArrayUnsigned(m.slice(1,33)).mod(E),C=o.fromByteArrayUnsigned(m.slice(33,65)).mod(E);return{r:D,s:C,i:b}},this.readPKCS5PrvKeyHex=function(m){if(f(m)===!1)throw new Error("not ASN.1 hex string");var b,E,D;try{b=d(m,0,["[0]",0],"06"),E=d(m,0,[1],"04");try{D=d(m,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=h(b),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(D),this.setPrivateKeyHex(E),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(m){if(f(m)===!1)throw new s("not ASN.1 hex string");var b,E,D,C;try{b=d(m,0,[1,0],"06"),E=d(m,0,[1,1],"06"),D=d(m,0,[2,0,1],"04");try{C=d(m,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new s("malformed PKCS#8 plain ECC private key")}if(this.curveName=h(E),this.curveName===void 0)throw new s("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(C),this.setPrivateKeyHex(D),this.isPublic=!1},this.readPKCS8PubKeyHex=function(m){if(f(m)===!1)throw new s("not ASN.1 hex string");var b,E,D;try{b=d(m,0,[0,0],"06"),E=d(m,0,[0,1],"06"),D=d(m,0,[1],"03")}catch{throw new s("malformed PKCS#8 ECC public key")}if(this.curveName=h(E),this.curveName===null)throw new s("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(D)},this.readCertPubKeyHex=function(m,b){if(f(m)===!1)throw new s("not ASN.1 hex string");var E,D;try{E=d(m,0,[0,5,0,1],"06"),D=d(m,0,[0,5,1],"03")}catch{throw new s("malformed X.509 certificate ECC public key")}if(this.curveName=h(E),this.curveName===null)throw new s("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(D)},e!==void 0&&e.curve!==void 0&&(this.curveName=e.curve),this.curveName===void 0&&(this.curveName=t),this.setNamedCurve(this.curveName),e!==void 0&&(e.prv!==void 0&&this.setPrivateKeyHex(e.prv),e.pub!==void 0&&this.setPublicKeyHex(e.pub))};c.crypto.ECDSA.parseSigHex=function(e){var t=c.crypto.ECDSA.parseSigHexInHexRS(e),i=new B(t.r,16),n=new B(t.s,16);return{r:i,s:n}};c.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=G,i=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),e.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var r=i(e,0);if(r.length!=2)throw new Error("signature shall have two elements");var s=r[0],o=r[1];if(e.substr(s,2)!="02")throw new Error("1st item not ASN.1 integer");if(e.substr(o,2)!="02")throw new Error("2nd item not ASN.1 integer");var a=n(e,s),u=n(e,o);return{r:a,s:u}};c.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=c.crypto.ECDSA.parseSigHexInHexRS(e),i=t.r,n=t.s;if(i.length>=130&&i.length<=134){if(i.length%2!=0)throw Error("unknown ECDSA sig r length error");if(n.length%2!=0)throw Error("unknown ECDSA sig s length error");i.substr(0,2)=="00"&&(i=i.substr(2)),n.substr(0,2)=="00"&&(n=n.substr(2));var r=Math.max(i.length,n.length);return i=("000000"+i).slice(-r),n=("000000"+n).slice(-r),i+n}if(i.substr(0,2)=="00"&&i.length%32==2&&(i=i.substr(2)),n.substr(0,2)=="00"&&n.length%32==2&&(n=n.substr(2)),i.length%32==30&&(i="00"+i),n.length%32==30&&(n="00"+n),i.length%32!=0)throw Error("unknown ECDSA sig r length error");if(n.length%32!=0)throw Error("unknown ECDSA sig s length error");return i+n};c.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),i=e.substr(e.length/2);return c.crypto.ECDSA.hexRSSigToASN1Sig(t,i)};c.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var i=new B(e,16),n=new B(t,16);return c.crypto.ECDSA.biRSSigToASN1Sig(i,n)};c.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var i=c.asn1,n=new i.DERInteger({bigint:e}),r=new i.DERInteger({bigint:t}),s=new i.DERSequence({array:[n,r]});return s.tohex()};c.crypto.ECDSA.getName=function(e){return e==="2b8104001f"?"secp192k1":e==="2a8648ce3d030107"?"secp256r1":e==="2b8104000a"?"secp256k1":e==="2b81040021"?"secp224r1":e==="2b81040022"?"secp384r1":e==="2b81040023"?"secp521r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)!==-1?"secp256r1":"|secp256k1|".indexOf(e)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(e)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(e)!==-1?"secp384r1":"|secp521r1|NIST P-521|P-521|".indexOf(e)!==-1?"secp521r1":null};(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.ECParameterDB=new function(){var e={},t={};function i(n){return new B(n,16)}this.getByName=function(n){var r=n;if(typeof t[r]<"u"&&(r=t[n]),typeof e[r]<"u")return e[r];throw"unregistered EC curve name: "+r},this.regist=function(n,r,s,o,a,u,l,h,g,d,f,v){e[n]={};var p=i(s),y=i(o),m=i(a),b=i(u),E=i(l),D=new Er(p,y,m),C=D.decodePointHex("04"+h+g);e[n].name=n,e[n].keylen=r,e[n].keycharlen=Math.ceil(r/8)*2,e[n].curve=D,e[n].G=C,e[n].n=b,e[n].h=E,e[n].oid=f,e[n].info=v;for(var O=0;O<d.length;O++)t[d[O]]=n}};c.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");c.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");c.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");c.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);c.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);c.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);c.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);c.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);c.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);c.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);(typeof c>"u"||!c)&&(c={});(typeof c.crypto>"u"||!c.crypto)&&(c.crypto={});c.crypto.DSA=function(){var e=G,t=e.getVbyList,i=e.getVbyListEx,n=e.isASN1HEX,r=B;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(s,o,a,u,l){this.isPrivate=!0,this.p=s,this.q=o,this.g=a,this.y=u,this.x=l},this.setPrivateHex=function(s,o,a,u,l){var h,g,d,f,v;h=new B(s,16),g=new B(o,16),d=new B(a,16),typeof u=="string"&&u.length>1?f=new B(u,16):f=null,v=new B(l,16),this.setPrivate(h,g,d,f,v)},this.setPublic=function(s,o,a,u){this.isPublic=!0,this.p=s,this.q=o,this.g=a,this.y=u,this.x=null},this.setPublicHex=function(s,o,a,u){var l,h,g,d;l=new B(s,16),h=new B(o,16),g=new B(a,16),d=new B(u,16),this.setPublic(l,h,g,d)},this.signWithMessageHash=function(s){var o=this.p,a=this.q,u=this.g,l=this.y,h=this.x,g=c.crypto.Util.getRandomBigIntegerMinToMax(B.ONE.add(B.ONE),a.subtract(B.ONE)),d=s.substr(0,a.bitLength()/4),f=new B(d,16),v=u.modPow(g,o).mod(a),p=g.modInverse(a).multiply(f.add(h.multiply(v))).mod(a),y=c.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:v}},{int:{bigint:p}}]});return y},this.verifyWithMessageHash=function(s,o){var a=this.p,u=this.q,l=this.g,h=this.y,g=this.parseASN1Signature(o),d=g[0],f=g[1],v=s.substr(0,u.bitLength()/4),p=new B(v,16);if(B.ZERO.compareTo(d)>0||d.compareTo(u)>0||B.ZERO.compareTo(f)>=0||f.compareTo(u)>0)throw"invalid DSA signature";var y=f.modInverse(u),m=p.multiply(y).mod(u),b=d.multiply(y).mod(u),E=l.modPow(m,a).multiply(h.modPow(b,a)).mod(a).mod(u);return E.compareTo(d)==0},this.parseASN1Signature=function(s){try{var o=new r(i(s,0,[0],"02"),16),a=new r(i(s,0,[1],"02"),16);return[o,a]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(s){var o,a,u,l,h;if(n(s)===!1)throw new Error("not ASN.1 hex string");try{o=i(s,0,[1],"02"),a=i(s,0,[2],"02"),u=i(s,0,[3],"02"),l=i(s,0,[4],"02"),h=i(s,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(o,a,u,l,h)},this.readPKCS8PrvKeyHex=function(s){var o,a,u,l;if(n(s)===!1)throw new Error("not ASN.1 hex string");try{o=i(s,0,[1,1,0],"02"),a=i(s,0,[1,1,1],"02"),u=i(s,0,[1,1,2],"02"),l=i(s,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(o,a,u,null,l)},this.readPKCS8PubKeyHex=function(s){var o,a,u,l;if(n(s)===!1)throw new Error("not ASN.1 hex string");try{o=i(s,0,[0,1,0],"02"),a=i(s,0,[0,1,1],"02"),u=i(s,0,[0,1,2],"02"),l=i(s,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(o,a,u,l)},this.readCertPubKeyHex=function(s,o){var a,u,l,h;if(n(s)===!1)throw new Error("not ASN.1 hex string");try{a=i(s,0,[0,5,0,1,0],"02"),u=i(s,0,[0,5,0,1,1],"02"),l=i(s,0,[0,5,0,1,2],"02"),h=i(s,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(a,u,l,h)}};var Oe=function(){var e=function(p,y,m){return n(Y.AES,p,y,m)},t=function(p,y,m){return n(Y.TripleDES,p,y,m)},i=function(p,y,m){return n(Y.DES,p,y,m)},n=function(p,y,m,b){var E=Y.enc.Hex.parse(y),D=Y.enc.Hex.parse(m),C=Y.enc.Hex.parse(b),O={};O.key=D,O.iv=C,O.ciphertext=E;var k=p.decrypt(O,D,{iv:C});return Y.enc.Hex.stringify(k)},r=function(p,y,m){return a(Y.AES,p,y,m)},s=function(p,y,m){return a(Y.TripleDES,p,y,m)},o=function(p,y,m){return a(Y.DES,p,y,m)},a=function(p,y,m,b){var E=Y.enc.Hex.parse(y),D=Y.enc.Hex.parse(m),C=Y.enc.Hex.parse(b),O=p.encrypt(E,D,{iv:C}),k=Y.enc.Hex.parse(O.toString()),_=Y.enc.Base64.stringify(k);return _},u={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:s,keylen:24,ivlen:8},"DES-CBC":{proc:i,eproc:o,keylen:8,ivlen:8}},l=function(p){return u[p].proc},h=function(p){var y=Y.lib.WordArray.random(p),m=Y.enc.Hex.stringify(y);return m},g=function(p){var y={},m=p.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));m&&(y.cipher=m[1],y.ivsalt=m[2]);var b=p.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));b&&(y.type=b[1]);var E=-1,D=0;p.indexOf(`\r
\r
`)!=-1&&(E=p.indexOf(`\r
\r
`),D=2),p.indexOf(`

`)!=-1&&(E=p.indexOf(`

`),D=1);var C=p.indexOf("-----END");if(E!=-1&&C!=-1){var O=p.substring(E+D*2,C-D);O=O.replace(/\s+/g,""),y.data=O}return y},d=function(p,y,m){for(var b=m.substring(0,16),E=Y.enc.Hex.parse(b),D=Y.enc.Utf8.parse(y),C=u[p].keylen+u[p].ivlen,O="",k=null;;){var _=Y.algo.MD5.create();if(k!=null&&_.update(k),_.update(D),_.update(E),k=_.finalize(),O=O+Y.enc.Hex.stringify(k),O.length>=C*2)break}var w={};return w.keyhex=O.substr(0,u[p].keylen*2),w.ivhex=O.substr(u[p].keylen*2,u[p].ivlen*2),w},f=function(p,y,m,b){var E=Y.enc.Base64.parse(p),D=Y.enc.Hex.stringify(E),C=u[y].proc,O=C(D,m,b);return O},v=function(p,y,m,b){var E=u[y].eproc,D=E(p,m,b);return D};return{version:"1.0.0",parsePKCS5PEM:function(p){return g(p)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(p,y,m){return d(p,y,m)},decryptKeyB64:function(p,y,m,b){return f(p,y,m,b)},getDecryptedKeyHex:function(p,y){var m=g(p),b=m.type,E=m.cipher,D=m.ivsalt,C=m.data,O=d(E,y,D),k=O.keyhex,_=f(C,E,k,D);return _},getEncryptedPKCS5PEMFromPrvKeyHex:function(p,y,m,b,E){var S="";if((typeof b>"u"||b==null)&&(b="AES-256-CBC"),typeof u[b]>"u")throw new Error("KEYUTIL unsupported algorithm: "+b);if(typeof E>"u"||E==null){var D=u[b].ivlen,C=h(D);E=C.toUpperCase()}var O=d(b,m,E),k=O.keyhex,_=v(y,b,k,E),w=_.replace(/(.{64})/g,`$1\r
`),S="-----BEGIN "+p+` PRIVATE KEY-----\r
`;return S+=`Proc-Type: 4,ENCRYPTED\r
`,S+="DEK-Info: "+b+","+E+`\r
`,S+=`\r
`,S+=w,S+=`\r
-----END `+p+` PRIVATE KEY-----\r
`,S},getEncryptedPKCS8PEM:function(p,y,m){var b=this.getEncryptedPKCS8Hex(p,y,m);return Dn(b,"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(p,y,m){var b;m==null||m==null?b={}:b=JSON.parse(JSON.stringify(m)),b.plain=p,this.initPBES2Param(b),this.encryptPBES2Param(b,y);var E=this.generatePBES2ASN1Param(b);return c.asn1.ASN1Util.newObject(E).tohex()},initPBES2Param:function(p){if(st(p,"encalg")==null&&(p.encalg="aes256-CBC"),st(p,"iter")==null&&(p.iter=2048),st(p,"prf")==null&&(p.prf="hmacWithSHA256"),st(p,"salt")==null&&(p.salt=Y.enc.Hex.stringify(Y.lib.WordArray.random(8))),st(p,"enciv")==null){var y;p.encalg=="des-EDE3-CBC"&&(y=8),p.encalg=="aes128-CBC"&&(y=16),p.encalg=="aes256-CBC"&&(y=16),p.enciv=Y.enc.Hex.stringify(Y.lib.WordArray.random(y))}},encryptPBES2Param:function(p,y){var m=Oe.getDKFromPBES2Param(p,y);try{var b=c.crypto.Cipher.encrypt(p.plain,m,p.encalg,{iv:p.enciv})}catch{throw new Error("encrypt error: "+p.plain+" "+m+" "+p.encalg+" "+p.enciv)}p.enc=b},generatePBES2ASN1Param:function(p){var y={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:p.salt}},{int:{hex:AE(p.iter)}}]}]},{seq:[{oid:p.encalg},{octstr:{hex:p.enciv}}]}]}]},{octstr:{hex:p.enc}}]};return p.prf!="hmacWithSHA1"&&y.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:p.prf},{null:""}]}),y},parseHexOfEncryptedPKCS8:function(p){var y=G,m=y.getChildIdx,b=y.getV,E={},D=m(p,0);if(D.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+D.length);E.ciphertext=b(p,D[1]);var C=m(p,D[0]);if(C.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+C.length);if(b(p,C[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var O=m(p,C[1]);if(C.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+O.length);var k=m(p,O[1]);if(k.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+k.length);if(b(p,k[0])!="2a864886f70d0307")throw"this only supports TripleDES";E.encryptionSchemeAlg="TripleDES",E.encryptionSchemeIV=b(p,k[1]);var _=m(p,O[0]);if(_.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+_.length);if(b(p,_[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var w=m(p,_[1]);if(w.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+w.length);E.pbkdf2Salt=b(p,w[0]);var S=b(p,w[1]);try{E.pbkdf2Iter=parseInt(S,16)}catch{throw new Error("malformed format pbkdf2Iter: "+S)}return E},getPBKDF2KeyHexFromParam:function(p,y){var m=Y.enc.Hex.parse(p.pbkdf2Salt),b=p.pbkdf2Iter,E=Y.PBKDF2(y,m,{keySize:192/32,iterations:b}),D=Y.enc.Hex.stringify(E);return D},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(p,y){var m=Dt(p,"ENCRYPTED PRIVATE KEY"),b=this.parseHexOfEncryptedPKCS8(m),E=Oe.getPBKDF2KeyHexFromParam(b,y),D={};D.ciphertext=Y.enc.Hex.parse(b.ciphertext);var C=Y.enc.Hex.parse(E),O=Y.enc.Hex.parse(b.encryptionSchemeIV),k=Y.TripleDES.decrypt(D,C,{iv:O}),_=Y.enc.Hex.stringify(k);return _},parsePBES2:function(p){var y=G.parse(p);if(st(y,"seq.0.seq.0.oid")!="pkcs5PBES2"||st(y,"seq.0.seq.1.seq.0.seq.0.oid")!="pkcs5PBKDF2")throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var m=st(y,"seq.0.seq.1.seq.0.seq.1.seq");if(m==null)throw new Error("PBKDF2 parameter not found");var b=st(m,"0.octstr.hex"),E=st(m,"1.int.hex"),D=st(m,"2.seq.0.oid","hmacWithSHA1"),C=-1;try{C=parseInt(E,16)}catch{throw new Error("iter not proper value")}var O=st(y,"seq.0.seq.1.seq.1.seq.0.oid"),k=st(y,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),_=st(y,"seq.1.octstr.hex");if(O==null||k==null||_==null)throw new Error("encalg, enciv or enc is undefined");var w={salt:b,iter:C,prf:D,encalg:O,enciv:k,enc:_};return w},getDKFromPBES2Param:function(p,y){var m={hmacWithSHA1:Y.algo.SHA1,hmacWithSHA224:Y.algo.SHA224,hmacWithSHA256:Y.algo.SHA256,hmacWithSHA384:Y.algo.SHA384,hmacWithSHA512:Y.algo.SHA512},b={"des-EDE3-CBC":192/32,"aes128-CBC":128/32,"aes256-CBC":256/32},E=m[p.prf];if(E==null)throw new Error("unsupported prf");var D=b[p.encalg];if(D==null)throw new Error("unsupported encalg");var C=Y.enc.Hex.parse(p.salt),O=p.iter;try{var k=Y.PBKDF2(y,C,{keySize:D,iterations:O,hasher:E});return Y.enc.Hex.stringify(k)}catch(_){throw new Error("PBKDF2 error: "+_+" "+JSON.stringify(p)+" "+y)}},getPlainHexFromEncryptedPKCS8PEM:function(p,y){if(p.indexOf("BEGIN ENCRYPTED PRIVATE KEY")==-1)throw new Error("not Encrypted PKCS#8 PEM string");var m=Dt(p),b;try{b=Oe.parsePBES2(m)}catch(D){throw new Error("malformed PBES2 format: "+D.message)}var E=Oe.getDKFromPBES2Param(b,y);return c.crypto.Cipher.decrypt(b.enc,E,b.encalg,{iv:b.enciv})},getKeyFromEncryptedPKCS8PEM:function(p,y){var m=this.getPlainHexFromEncryptedPKCS8PEM(p,y),b=this.getKeyFromPlainPrivatePKCS8Hex(m);return b},parsePlainPrivatePKCS8Hex:function(p){var y=G,m=y.getChildIdx,b=y.getV,E={};if(E.algparam=null,p.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var D=m(p,0);if(D.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(p.substr(D[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var C=m(p,D[1]);if(C.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(p.substr(C[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(E.algoid=b(p,C[0]),p.substr(C[1],2)=="06"&&(E.algparam=b(p,C[1])),p.substr(D[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return E.keyidx=y.getVidx(p,D[2]),E},getKeyFromPlainPrivatePKCS8PEM:function(p){var y=Dt(p,"PRIVATE KEY"),m=this.getKeyFromPlainPrivatePKCS8Hex(y);return m},getKeyFromPlainPrivatePKCS8Hex:function(p){var y=this.parsePlainPrivatePKCS8Hex(p),m;if(y.algoid=="2a864886f70d010101")m=new me;else if(y.algoid=="2a8648ce380401")m=new c.crypto.DSA;else if(y.algoid=="2a8648ce3d0201")m=new c.crypto.ECDSA;else throw new Error("unsupported private key algorithm");return m.readPKCS8PrvKeyHex(p),m},_getKeyFromPublicPKCS8Hex:function(p){var y,m=G.getVbyList(p,0,[0,0],"06");if(m==="2a864886f70d010101")y=new me;else if(m==="2a8648ce380401")y=new c.crypto.DSA;else if(m==="2a8648ce3d0201")y=new c.crypto.ECDSA;else throw new Error("unsupported PKCS#8 public key hex");return y.readPKCS8PubKeyHex(p),y},parsePublicRawRSAKeyHex:function(p){var y=G,m=y.getChildIdx,b=y.getV,E={};if(p.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var D=m(p,0);if(D.length!=2)throw new Error("malformed RSA key(code:002)");if(p.substr(D[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(E.n=b(p,D[0]),p.substr(D[1],2)!="02")throw new Error("malformed RSA key(code:004)");return E.e=b(p,D[1]),E},parsePublicPKCS8Hex:function(p){var y=G,m=y.getChildIdx,b=y.getV,E={};E.algparam=null;var D=m(p,0);if(D.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+D.length);var C=D[0];if(p.substr(C,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var O=m(p,C);if(O.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(p.substr(O[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(E.algoid=b(p,O[0]),p.substr(O[1],2)=="06"?E.algparam=b(p,O[1]):p.substr(O[1],2)=="30"&&(E.algparam={},E.algparam.p=y.getVbyList(p,O[1],[0],"02"),E.algparam.q=y.getVbyList(p,O[1],[1],"02"),E.algparam.g=y.getVbyList(p,O[1],[2],"02")),p.substr(D[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return E.key=b(p,D[1]).substr(2),E}}}();Oe.getKey=function(e,t,i){var n=G,r=n.getChildIdx,s=n.getV,o=n.getVbyList,a=c.crypto,u=a.ECDSA,l=a.DSA,h=me,g=Dt,d=Oe;if(typeof h<"u"&&e instanceof h||typeof u<"u"&&e instanceof u||typeof l<"u"&&e instanceof l)return e;if(e.curve!==void 0&&e.xy!==void 0&&e.d===void 0)return new u({pub:e.xy,curve:e.curve});if(e.curve!==void 0&&e.d!==void 0)return new u({prv:e.d,curve:e.curve});if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d===void 0){var f=new h;return f.setPublic(e.n,e.e),f}if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.co!==void 0&&e.qi===void 0){var f=new h;return f.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),f}if(e.kty===void 0&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p===void 0){var f=new h;return f.setPrivate(e.n,e.e,e.d),f}if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x===void 0){var f=new l;return f.setPublic(e.p,e.q,e.g,e.y),f}if(e.p!==void 0&&e.q!==void 0&&e.g!==void 0&&e.y!==void 0&&e.x!==void 0){var f=new l;return f.setPrivate(e.p,e.q,e.g,e.y,e.x),f}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d===void 0){var f=new h;return f.setPublic(pt(e.n),pt(e.e)),f}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0&&e.p!==void 0&&e.q!==void 0&&e.dp!==void 0&&e.dq!==void 0&&e.qi!==void 0){var f=new h;return f.setPrivateEx(pt(e.n),pt(e.e),pt(e.d),pt(e.p),pt(e.q),pt(e.dp),pt(e.dq),pt(e.qi)),f}if(e.kty==="RSA"&&e.n!==void 0&&e.e!==void 0&&e.d!==void 0){var f=new h;return f.setPrivate(pt(e.n),pt(e.e),pt(e.d)),f}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d===void 0){var v=new u({curve:e.crv}),p=v.ecparams.keycharlen,y=("0000000000"+pt(e.x)).slice(-p),m=("0000000000"+pt(e.y)).slice(-p),b="04"+y+m;return v.setPublicKeyHex(b),v}if(e.kty==="EC"&&e.crv!==void 0&&e.x!==void 0&&e.y!==void 0&&e.d!==void 0){var v=new u({curve:e.crv}),p=v.ecparams.keycharlen,y=("0000000000"+pt(e.x)).slice(-p),m=("0000000000"+pt(e.y)).slice(-p),b="04"+y+m,E=("0000000000"+pt(e.d)).slice(-p);return v.setPublicKeyHex(b),v.setPrivateKeyHex(E),v}if(i==="pkcs5prv"){var D=e,n=G,C,f;if(C=r(D,0),C.length===9)f=new h,f.readPKCS5PrvKeyHex(D);else if(C.length===6)f=new l,f.readPKCS5PrvKeyHex(D);else if(C.length>2&&D.substr(C[1],2)==="04")f=new u,f.readPKCS5PrvKeyHex(D);else throw new Error("unsupported PKCS#1/5 hexadecimal key");return f}if(i==="pkcs8prv"){var f=d.getKeyFromPlainPrivatePKCS8Hex(e);return f}if(i==="pkcs8pub")return d._getKeyFromPublicPKCS8Hex(e);if(i==="x509pub")return ae.getPublicKeyFromCertHex(e);if(e.indexOf("-END CERTIFICATE-",0)!=-1||e.indexOf("-END X509 CERTIFICATE-",0)!=-1||e.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return ae.getPublicKeyFromCertPEM(e);if(e.indexOf("-END PUBLIC KEY-")!=-1){var O=Dt(e,"PUBLIC KEY");return d._getKeyFromPublicPKCS8Hex(O)}if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var k=g(e,"RSA PRIVATE KEY");return d.getKey(k,null,"pkcs5prv")}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var _=g(e,"DSA PRIVATE KEY"),w=o(_,0,[1],"02"),S=o(_,0,[2],"02"),x=o(_,0,[3],"02"),T=o(_,0,[4],"02"),N=o(_,0,[5],"02"),f=new l;return f.setPrivate(new B(w,16),new B(S,16),new B(x,16),new B(T,16),new B(N,16)),f}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")==-1){var k=g(e,"EC PRIVATE KEY");return d.getKey(k,null,"pkcs5prv")}if(e.indexOf("-END PRIVATE KEY-")!=-1)return d.getKeyFromPlainPrivatePKCS8PEM(e);if(e.indexOf("-END RSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var I=d.getDecryptedKeyHex(e,t),A=new me;return A.readPKCS5PrvKeyHex(I),A}if(e.indexOf("-END EC PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var _=d.getDecryptedKeyHex(e,t),f=o(_,0,[1],"04"),R=o(_,0,[2,0],"06"),V=o(_,0,[3,0],"03").substr(2),ie="";if(c.crypto.OID.oidhex2name[R]!==void 0)ie=c.crypto.OID.oidhex2name[R];else throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+R);var v=new u({curve:ie});return v.setPublicKeyHex(V),v.setPrivateKeyHex(f),v.isPublic=!1,v}if(e.indexOf("-END DSA PRIVATE KEY-")!=-1&&e.indexOf("4,ENCRYPTED")!=-1){var _=d.getDecryptedKeyHex(e,t),w=o(_,0,[1],"02"),S=o(_,0,[2],"02"),x=o(_,0,[3],"02"),T=o(_,0,[4],"02"),N=o(_,0,[5],"02"),f=new l;return f.setPrivate(new B(w,16),new B(S,16),new B(x,16),new B(T,16),new B(N,16)),f}if(e.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return d.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")};Oe.generateKeypair=function(e,t){if(e=="RSA"){var i=t,n=new me;n.generate(i,"10001"),n.isPrivate=!0,n.isPublic=!0;var r=new me,s=n.n.toString(16),o=n.e.toString(16);r.setPublic(s,o),r.isPrivate=!1,r.isPublic=!0;var a={};return a.prvKeyObj=n,a.pubKeyObj=r,a}else if(e=="EC"){var u=t,l=new c.crypto.ECDSA({curve:u}),h=l.generateKeyPairHex(),n=new c.crypto.ECDSA({curve:u});n.setPublicKeyHex(h.ecpubhex),n.setPrivateKeyHex(h.ecprvhex),n.isPrivate=!0,n.isPublic=!1;var r=new c.crypto.ECDSA({curve:u});r.setPublicKeyHex(h.ecpubhex),r.isPrivate=!1,r.isPublic=!0;var a={};return a.prvKeyObj=n,a.pubKeyObj=r,a}else throw new Error("unknown algorithm: "+e)};Oe.getPEM=function(e,t,i,n,r,s){var o=c,a=o.asn1,u=a.DERObjectIdentifier,l=a.DERInteger,h=a.ASN1Util.newObject,g=a.x509,d=g.SubjectPublicKeyInfo,f=o.crypto,v=f.DSA,p=f.ECDSA,y=me;function m(A){var R=h({seq:[{int:0},{int:{bigint:A.n}},{int:A.e},{int:{bigint:A.d}},{int:{bigint:A.p}},{int:{bigint:A.q}},{int:{bigint:A.dmp1}},{int:{bigint:A.dmq1}},{int:{bigint:A.coeff}}]});return R}function b(A){var R=h({seq:[{int:1},{octstr:{hex:A.prvKeyHex}},{tag:["a0",!0,{oid:{name:A.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+A.pubKeyHex}}]}]});return R}function E(A){var R=h({seq:[{int:0},{int:{bigint:A.p}},{int:{bigint:A.q}},{int:{bigint:A.g}},{int:{bigint:A.y}},{int:{bigint:A.x}}]});return R}if((y!==void 0&&e instanceof y||v!==void 0&&e instanceof v||p!==void 0&&e instanceof p)&&e.isPublic==!0&&(t===void 0||t=="PKCS8PUB")){var D=new d(e),C=D.tohex();return Dn(C,"PUBLIC KEY")}if(t=="PKCS1PRV"&&y!==void 0&&e instanceof y&&(i===void 0||i==null)&&e.isPrivate==!0){var D=m(e),C=D.tohex();return Dn(C,"RSA PRIVATE KEY")}if(t=="PKCS1PRV"&&p!==void 0&&e instanceof p&&(i===void 0||i==null)&&e.isPrivate==!0){var O=new u({name:e.curveName}),k=O.tohex(),_=b(e),w=_.tohex(),S="";return S+=Dn(k,"EC PARAMETERS"),S+=Dn(w,"EC PRIVATE KEY"),S}if(t=="PKCS1PRV"&&v!==void 0&&e instanceof v&&(i===void 0||i==null)&&e.isPrivate==!0){var D=E(e),C=D.tohex();return Dn(C,"DSA PRIVATE KEY")}if(t=="PKCS5PRV"&&y!==void 0&&e instanceof y&&i!==void 0&&i!=null&&e.isPrivate==!0){var D=m(e),C=D.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",C,i,n,s)}if(t=="PKCS5PRV"&&p!==void 0&&e instanceof p&&i!==void 0&&i!=null&&e.isPrivate==!0){var D=b(e),C=D.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",C,i,n,s)}if(t=="PKCS5PRV"&&v!==void 0&&e instanceof v&&i!==void 0&&i!=null&&e.isPrivate==!0){var D=E(e),C=D.tohex();return n===void 0&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",C,i,n,s)}var x=function(A,R){if(typeof R=="string")return Oe.getEncryptedPKCS8PEM(A,R);if(typeof R=="object"&&st(R,"passcode")!=null){var V=JSON.parse(JSON.stringify(R)),ie=V.passcode;return delete V.passcode,Oe.getEncryptedPKCS8PEM(A,ie,V)}};if(t=="PKCS8PRV"&&y!=null&&e instanceof y&&e.isPrivate==!0){var T=m(e),N=T.tohex(),D=h({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:N}}]}),C=D.tohex();return i===void 0||i==null?Dn(C,"PRIVATE KEY"):x(C,i)}if(t=="PKCS8PRV"&&p!==void 0&&e instanceof p&&e.isPrivate==!0){var I={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};typeof e.pubKeyHex=="string"&&I.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]});var T=new h(I),N=T.tohex(),D=h({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:N}}]}),C=D.tohex();return i===void 0||i==null?Dn(C,"PRIVATE KEY"):x(C,i)}if(t=="PKCS8PRV"&&v!==void 0&&e instanceof v&&e.isPrivate==!0){var T=new l({bigint:e.x}),N=T.tohex(),D=h({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:N}}]}),C=D.tohex();return i===void 0||i==null?Dn(C,"PRIVATE KEY"):x(C,i)}throw new Error("unsupported object nor format")};Oe.getKeyFromCSRPEM=function(e){var t=Dt(e,"CERTIFICATE REQUEST"),i=Oe.getKeyFromCSRHex(t);return i};Oe.getKeyFromCSRHex=function(e){var t=Oe.parseCSRHex(e),i=Oe.getKey(t.p8pubkeyhex,null,"pkcs8pub");return i};Oe.parseCSRHex=function(e){var t=G,i=t.getChildIdx,n=t.getTLV,r={},s=e;if(s.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var o=i(s,0);if(o.length<1)throw new Error("malformed CSR(code:002)");if(s.substr(o[0],2)!="30")throw new Error("malformed CSR(code:003)");var a=i(s,o[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return r.p8pubkeyhex=n(s,a[2]),r};Oe.getKeyID=function(e){var t=Oe,i=G;typeof e=="string"&&e.indexOf("BEGIN ")!=-1&&(e=t.getKey(e));var n=Dt(t.getPEM(e)),r=i.getIdxbyList(n,0,[1]),s=i.getV(n,r).substring(2);return c.crypto.Util.hashHex(s,"sha1")};Oe.getJWK=function(e,t,i,n,r){var s,o={},a,u=c.crypto.Util.hashHex;if(typeof e=="string")s=Oe.getKey(e),e.indexOf("CERTIFICATE")!=-1&&(a=Dt(e));else if(typeof e=="object")e instanceof ae?(s=e.getPublicKey(),a=e.hex):s=e;else throw new Error("unsupported keyinfo type");if(s instanceof me&&s.isPrivate)o.kty="RSA",o.n=Ut(s.n.toString(16)),o.e=Ut(s.e.toString(16)),o.d=Ut(s.d.toString(16)),o.p=Ut(s.p.toString(16)),o.q=Ut(s.q.toString(16)),o.dp=Ut(s.dmp1.toString(16)),o.dq=Ut(s.dmq1.toString(16)),o.qi=Ut(s.coeff.toString(16));else if(s instanceof me&&s.isPublic)o.kty="RSA",o.n=Ut(s.n.toString(16)),o.e=Ut(s.e.toString(16));else if(s instanceof c.crypto.ECDSA&&s.isPrivate){var l=s.getShortNISTPCurveName();if(l!=="P-256"&&l!=="P-384"&&l!=="P-521")throw new Error("unsupported curve name for JWT: "+l);var h=s.getPublicKeyXYHex();o.kty="EC",o.crv=l,o.x=Ut(h.x),o.y=Ut(h.y),o.d=Ut(s.prvKeyHex)}else if(s instanceof c.crypto.ECDSA&&s.isPublic){var l=s.getShortNISTPCurveName();if(l!=="P-256"&&l!=="P-384"&&l!=="P-521")throw new Error("unsupported curve name for JWT: "+l);var h=s.getPublicKeyXYHex();o.kty="EC",o.crv=l,o.x=Ut(h.x),o.y=Ut(h.y)}if(o.kty==null)throw new Error("unsupported keyinfo");return!s.isPrivate&&t!=!0&&(o.kid=c.jws.JWS.getJWKthumbprint(o)),a!=null&&i!=!0&&(o.x5c=[wr(a)]),a!=null&&n!=!0&&(o.x5t=zo(wr(u(a,"sha1")))),a!=null&&r!=!0&&(o["x5t#S256"]=zo(wr(u(a,"sha256")))),o};Oe.getJWKFromKey=function(e){return Oe.getJWK(e,!0,!0,!0,!0)};me.getPosArrayOfChildrenFromHex=function(e){return G.getChildIdx(e,0)};me.getHexValueArrayOfChildrenFromHex=function(e){var t=G,i=t.getV,d=me.getPosArrayOfChildrenFromHex(e),n=i(e,d[0]),r=i(e,d[1]),s=i(e,d[2]),o=i(e,d[3]),a=i(e,d[4]),u=i(e,d[5]),l=i(e,d[6]),h=i(e,d[7]),g=i(e,d[8]),d=new Array;return d.push(n,r,s,o,a,u,l,h,g),d};me.prototype.readPrivateKeyFromPEMString=function(e){var t=Dt(e),i=me.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])};me.prototype.readPKCS5PrvKeyHex=function(e){var t=me.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])};me.prototype.readPKCS8PrvKeyHex=function(e){var t,i,n,r,s,o,a,u,l=G,h=l.getVbyListEx;if(l.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");try{t=h(e,0,[2,0,1],"02"),i=h(e,0,[2,0,2],"02"),n=h(e,0,[2,0,3],"02"),r=h(e,0,[2,0,4],"02"),s=h(e,0,[2,0,5],"02"),o=h(e,0,[2,0,6],"02"),a=h(e,0,[2,0,7],"02"),u=h(e,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,i,n,r,s,o,a,u)};me.prototype.readPKCS5PubKeyHex=function(e){var t=G,i=t.getV;if(t.isASN1HEX(e)===!1)throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(n.length!==2||e.substr(n[0],2)!=="02"||e.substr(n[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var r=i(e,n[0]),s=i(e,n[1]);this.setPublic(r,s)};me.prototype.readPKCS8PubKeyHex=function(e){var t=G;if(t.isASN1HEX(e)===!1)throw new Error("not ASN.1 hex string");if(t.getTLVbyListEx(e,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var i=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(i)};me.prototype.readCertPubKeyHex=function(e,t){var i,n;i=new ae,i.readCertHex(e),n=i.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var Rq=new RegExp("[^0-9a-f]","gi");function NE(e,t){for(var i="",n=t/4-e.length,r=0;r<n;r++)i=i+"0";return i+e}me.prototype.sign=function(e,t){var i=function(r){return c.crypto.Util.hashString(r,t)},n=i(e);return this.signWithMessageHash(n,t)};me.prototype.signWithMessageHash=function(e,t){var i=c.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),n=jn(i,16),r=this.doPrivate(n),s=r.toString(16);return NE(s,this.n.bitLength())};function PE(e,t,i){for(var n="",r=0;n.length<t;)n+=Un(i(Qi(e+String.fromCharCode.apply(String,[(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255])))),r+=1;return n}me.prototype.signPSS=function(e,t,i){var n=function(s){return c.crypto.Util.hashHex(s,t)},r=n(Qi(e));return i===void 0&&(i=-1),this.signWithMessageHashPSS(r,t,i)};me.prototype.signWithMessageHashPSS=function(e,t,i){var n=Un(e),r=n.length,s=this.n.bitLength()-1,o=Math.ceil(s/8),a,u=function(y){return c.crypto.Util.hashHex(y,t)};if(i===-1||i===void 0)i=r;else if(i===-2)i=o-r-2;else if(i<-2)throw new Error("invalid salt length");if(o<r+i+2)throw new Error("data too long");var l="";i>0&&(l=new Array(i),new Zo().nextBytes(l),l=String.fromCharCode.apply(String,l));var h=Un(u(Qi("\0\0\0\0\0\0\0\0"+n+l))),g=[];for(a=0;a<o-i-r-2;a+=1)g[a]=0;var d=String.fromCharCode.apply(String,g)+""+l,f=PE(h,d.length,u),v=[];for(a=0;a<d.length;a+=1)v[a]=d.charCodeAt(a)^f.charCodeAt(a);var p=65280>>8*o-s&255;for(v[0]&=~p,a=0;a<r;a++)v.push(h.charCodeAt(a));return v.push(188),NE(this.doPrivate(new B(v)).toString(16),this.n.bitLength())};function kE(e){for(var t in c.crypto.Util.DIGESTINFOHEAD){var i=c.crypto.Util.DIGESTINFOHEAD[t],n=i.length;if(e.substring(0,n)==i){var r=[t,e.substring(n)];return r}}return[]}me.prototype.verify=function(e,t){if(t=t.toLowerCase(),t.match(/^[0-9a-f]+$/)==null)return!1;var i=jn(t,16),n=this.n.bitLength();if(i.bitLength()>n)return!1;var r=this.doPublic(i),s=r.toString(16);if(s.length+3!=n/4)return!1;var o=s.replace(/^1f+00/,""),a=kE(o);if(a.length==0)return!1;var u=a[0],l=a[1],h=function(d){return c.crypto.Util.hashString(d,u)},g=h(e);return l==g};me.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i=jn(t,16);if(i.bitLength()>this.n.bitLength())return 0;var n=this.doPublic(i),r=n.toString(16).replace(/^1f+00/,""),s=kE(r);if(s.length==0)return!1;var o=s[0],a=s[1];return a==e};me.prototype.verifyPSS=function(e,t,i,n){var r=function(o){return c.crypto.Util.hashHex(o,i)},s=r(Qi(e));return n===void 0&&(n=-1),this.verifyWithMessageHashPSS(s,t,i,n)};me.prototype.verifyWithMessageHashPSS=function(e,t,i,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=new B(t,16),s=function(b){return c.crypto.Util.hashHex(b,i)},o=Un(e),a=o.length,u=this.n.bitLength()-1,l=Math.ceil(u/8),h;if(n===-1||n===void 0)n=a;else if(n===-2)n=l-a-2;else if(n<-2)throw new Error("invalid salt length");if(l<a+n+2)throw new Error("data too long");var g=this.doPublic(r).toByteArray();for(h=0;h<g.length;h+=1)g[h]&=255;for(;g.length<l;)g.unshift(0);if(g[l-1]!==188)throw new Error("encoded message does not end in 0xbc");g=String.fromCharCode.apply(String,g);var d=g.substr(0,l-a-1),f=g.substr(d.length,a),v=65280>>8*l-u&255;if(d.charCodeAt(0)&v)throw new Error("bits beyond keysize not zero");var p=PE(f,d.length,s),y=[];for(h=0;h<d.length;h+=1)y[h]=d.charCodeAt(h)^p.charCodeAt(h);y[0]&=~v;var m=l-a-n-2;for(h=0;h<m;h+=1)if(y[h]!==0)throw new Error("leftmost octets not zero");if(y[m]!==1)throw new Error("0x01 marker not found");return f===Un(s(Qi("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,y.slice(-n)))))};me.SALT_LEN_HLEN=-1;me.SALT_LEN_MAX=-2;me.SALT_LEN_RECOVER=-2;function ae(e){var t=G,i=t.getChildIdx,n=t.getV,r=t.dump,s=t.parse,o=t.getTLV,a=t.getVbyList,u=t.getVbyListEx,l=t.getTLVbyList,h=t.getTLVbyListEx,g=t.getIdxbyList,d=t.getIdxbyListEx,f=t.getVidx,v=t.getInt,p=t.oidname,y=t.hextooidstr,m=ae,b=Dt,E,D=Error;try{E=c.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var _=l(this.hex,0,[0,0]);if(_.substr(0,2)=="a0"){var w=l(_,0,[0]),S=v(w,0);if(S<0||2<S)throw new Error("malformed version field");return this.version=S+1,this.version}else return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return u(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var _=h(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(_)},this.getAlgorithmIdentifierName=function(_){for(var w in E)if(_===E[w])return w;return p(u(_,0,[0],"06"))},this.getIssuer=function(_,w){return this.getX500Name(this.getIssuerHex(),_,w)},this.getIssuerHex=function(){return l(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){var _=this.getIssuer();return _.str},this.getSubject=function(_,w){return this.getX500Name(this.getSubjectHex(),_,w)},this.getSubjectHex=function(){return l(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){var _=this.getSubject();return _.str},this.getNotBefore=function(){var _=a(this.hex,0,[0,4+this.foffset,0]);return _=_.replace(/(..)/g,"%$1"),_=decodeURIComponent(_),_},this.getNotAfter=function(){var _=a(this.hex,0,[0,4+this.foffset,1]);return _=_.replace(/(..)/g,"%$1"),_=decodeURIComponent(_),_},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var _=this.getSPKI();return _==null?null:a(_,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return g(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var _=this.getPublicKeyIdx();return g(this.hex,_,[1,0],"30")},this.getPublicKey=function(){return Oe.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var _=l(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(_)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(_){var w=this.getSignatureAlgorithmField(),S=this.getSignatureValueHex(),x=l(this.hex,0,[0],"30"),T=new c.crypto.Signature({alg:w});return T.init(_),T.updateHex(x),T.verify(S)},this.parseExt=function(_){var w,S,x;if(_===void 0){if(x=this.hex,this.version!==3)return-1;w=g(x,0,[0,7,0],"30"),S=i(x,w)}else{x=Dt(_);var T=g(x,0,[0,3,0,0],"06");if(n(x,T)!="2a864886f70d01090e"){this.aExtInfo=new Array;return}w=g(x,0,[0,3,0,1,0],"30"),S=i(x,w),this.hex=x}this.aExtInfo=new Array;for(var N=0;N<S.length;N++){var I={};I.critical=!1;var A=i(x,S[N]),R=0;A.length===3&&(I.critical=!0,R=1),I.oid=t.hextooidstr(a(x,S[N],[0],"06"));var V=g(x,S[N],[1+R]);I.vidx=f(x,V),this.aExtInfo.push(I)}},this.getExtInfo=function(_){var w=this.aExtInfo,S=_;if(_.match(/^[0-9.]+$/)||(S=c.asn1.x509.OID.name2oid(_)),S!==""){for(var x=0;x<w.length;x++)if(w[x].oid===S)return w[x]}},this.getCriticalExtV=function(_,w,S){if(w!=null)return[w,S];var x=this.getExtInfo(_);return x==null?[null,null]:[o(this.hex,x.vidx),x.critical]},this.getExtBasicConstraints=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("basicConstraints");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"basicConstraints"};if(w&&(x.critical=!0),_==="3000")return x;if(_==="30030101ff")return x.cA=!0,x;if(_.substr(0,12)==="30060101ff02"){var T=n(_,10),N=parseInt(T,16);return x.cA=!0,x.pathLen=N,x}throw new Error("hExtV parse error: "+_)},this.getExtNameConstraints=function(_,w){var S=this.getCriticalExtV("nameConstraints",_,w);if(_=S[0],w=S[1],_!=null){var x={extname:"nameConstraints"};w&&(x.critical=!0);for(var T=i(_,0),N=0;N<T.length;N++){for(var I=[],A=i(_,T[N]),R=0;R<A.length;R++){var V=o(_,A[R]),ie=this.getGeneralSubtree(V);I.push(ie)}var re=_.substr(T[N],2);re=="a0"?x.permit=I:re=="a1"&&(x.exclude=I)}return x}},this.getGeneralSubtree=function(_){var w=i(_,0),S=w.length;if(S<1||2<S)throw new Error("wrong num elements");for(var x=this.getGeneralName(o(_,w[0])),T=1;T<S;T++){var N=_.substr(w[T],2),I=n(_,w[T]),A=parseInt(I,16);N=="80"&&(x.min=A),N=="81"&&(x.max=A)}return x},this.getExtKeyUsage=function(_,w){var S=this.getCriticalExtV("keyUsage",_,w);if(_=S[0],w=S[1],_!=null){var x={extname:"keyUsage"};return w&&(x.critical=!0),x.names=this.getExtKeyUsageString(_).split(","),x}},this.getExtKeyUsageBin=function(_){if(_===void 0){var w=this.getExtInfo("keyUsage");if(w===void 0)return"";_=o(this.hex,w.vidx)}if(_.length!=8&&_.length!=10)throw new Error("malformed key usage value: "+_);var S="000000000000000"+parseInt(_.substr(6),16).toString(2);return _.length==8&&(S=S.slice(-8)),_.length==10&&(S=S.slice(-16)),S=S.replace(/0+$/,""),S==""&&(S="0"),S},this.getExtKeyUsageString=function(_){for(var w=this.getExtKeyUsageBin(_),S=new Array,x=0;x<w.length;x++)w.substr(x,1)=="1"&&S.push(ae.KEYUSAGE_NAME[x]);return S.join(",")},this.getExtSubjectKeyIdentifier=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("subjectKeyIdentifier");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"subjectKeyIdentifier"};w&&(x.critical=!0);var T=n(_,0);return x.kid={hex:T},x},this.getExtAuthorityKeyIdentifier=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("authorityKeyIdentifier");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"authorityKeyIdentifier"};w&&(x.critical=!0);for(var T=i(_,0),N=0;N<T.length;N++){var I=_.substr(T[N],2);if(I==="80"&&(x.kid={hex:n(_,T[N])}),I==="a1"){var A=o(_,T[N]),R=this.getGeneralNames(A);x.issuer=R[0].dn}I==="82"&&(x.sn={hex:n(_,T[N])})}return x},this.getExtExtKeyUsage=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("extKeyUsage");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"extKeyUsage",array:[]};w&&(x.critical=!0);for(var T=i(_,0),N=0;N<T.length;N++)x.array.push(p(n(_,T[N])));return x},this.getExtExtKeyUsageName=function(){var _=this.getExtInfo("extKeyUsage");if(_===void 0)return _;var w=new Array,S=o(this.hex,_.vidx);if(S==="")return w;for(var x=i(S,0),T=0;T<x.length;T++)w.push(p(n(S,x[T])));return w},this.getExtSubjectAltName=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("subjectAltName");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"subjectAltName",array:[]};return w&&(x.critical=!0),x.array=this.getGeneralNames(_),x},this.getExtIssuerAltName=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("issuerAltName");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"issuerAltName",array:[]};return w&&(x.critical=!0),x.array=this.getGeneralNames(_),x},this.getGeneralNames=function(_){for(var w=i(_,0),S=[],x=0;x<w.length;x++){var T=this.getGeneralName(o(_,w[x]));T!==void 0&&S.push(T)}return S},this.getGeneralName=function(_){var w=_.substr(0,2),S=n(_,0),x=Un(S);if(w=="81")return{rfc822:x};if(w=="82")return{dns:x};if(w=="86")return{uri:x};if(w=="87")return{ip:Fd(S)};if(w=="a4")return{dn:this.getX500Name(S)};if(w=="a0")return{other:this.getOtherName(_)}},this.getExtSubjectAltName2=function(){var _,w,S,x=this.getExtInfo("subjectAltName");if(x===void 0)return x;for(var T=new Array,N=o(this.hex,x.vidx),I=i(N,0),A=0;A<I.length;A++)S=N.substr(I[A],2),_=n(N,I[A]),S==="81"&&(w=et(_),T.push(["MAIL",w])),S==="82"&&(w=et(_),T.push(["DNS",w])),S==="84"&&(w=ae.hex2dn(_,0),T.push(["DN",w])),S==="86"&&(w=et(_),T.push(["URI",w])),S==="87"&&(w=Fd(_),T.push(["IP",w]));return T},this.getExtCRLDistributionPoints=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("cRLDistributionPoints");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"cRLDistributionPoints",array:[]};w&&(x.critical=!0);for(var T=i(_,0),N=0;N<T.length;N++){var I=o(_,T[N]);x.array.push(this.getDistributionPoint(I))}return x},this.getDistributionPoint=function(_){for(var w={},S=i(_,0),x=0;x<S.length;x++){var T=_.substr(S[x],2),N=o(_,S[x]);T=="a0"&&(w.dpname=this.getDistributionPointName(N))}return w},this.getDistributionPointName=function(_){for(var w={},S=i(_,0),x=0;x<S.length;x++){var T=_.substr(S[x],2),N=o(_,S[x]);T=="a0"&&(w.full=this.getGeneralNames(N))}return w},this.getExtCRLDistributionPointsURI=function(){var _=this.getExtCRLDistributionPoints();if(_==null)return _;for(var w=_.array,S=[],x=0;x<w.length;x++)try{w[x].dpname.full[0].uri!=null&&S.push(w[x].dpname.full[0].uri)}catch{}return S},this.getExtAIAInfo=function(){var _=this.getExtInfo("authorityInfoAccess");if(_===void 0)return _;for(var w={ocsp:[],caissuer:[]},S=i(this.hex,_.vidx),x=0;x<S.length;x++){var T=a(this.hex,S[x],[0],"06"),N=a(this.hex,S[x],[1],"86");T==="2b06010505073001"&&w.ocsp.push(et(N)),T==="2b06010505073002"&&w.caissuer.push(et(N))}return w},this.getExtAuthorityInfoAccess=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("authorityInfoAccess");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"authorityInfoAccess",array:[]};w&&(x.critical=!0);for(var T=i(_,0),N=0;N<T.length;N++){var I=u(_,T[N],[0],"06"),A=a(_,T[N],[1],"86"),R=et(A);if(I=="2b06010505073001")x.array.push({ocsp:R});else if(I=="2b06010505073002")x.array.push({caissuer:R});else throw new Error("unknown method: "+I)}return x},this.getExtCertificatePolicies=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("certificatePolicies");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"certificatePolicies",array:[]};w&&(x.critical=!0);for(var T=i(_,0),N=0;N<T.length;N++){var I=o(_,T[N]),A=this.getPolicyInformation(I);x.array.push(A)}return x},this.getPolicyInformation=function(_){var w={},S=a(_,0,[0],"06");w.policyoid=p(S);var x=d(_,0,[1],"30");if(x!=-1){w.array=[];for(var T=i(_,x),N=0;N<T.length;N++){var I=o(_,T[N]),A=this.getPolicyQualifierInfo(I);w.array.push(A)}}return w},this.getOtherName=function(_){var w={},S=i(_,0),x=a(_,S[0],[],"06"),T=a(_,S[1],[]);return w.oid=p(x),w.value=s(T),w},this.getPolicyQualifierInfo=function(_){var w={},S=a(_,0,[0],"06");if(S==="2b06010505070201"){var x=u(_,0,[1],"16");w.cps=Un(x)}else if(S==="2b06010505070202"){var T=l(_,0,[1],"30");w.unotice=this.getUserNotice(T)}return w},this.getUserNotice=function(_){var w=null,S={};try{w=t.parse(_);var x=this._asn1ToUnotice(w);return x}catch{return}},this._asn1ToUnotice=function(_){try{for(var w={},S=st(_,"seq"),x=0;x<S.length;x++){var T=this._asn1ToNoticeRef(S[x]);T!=null&&(w.noticeref=T);var N=this.asn1ToDisplayText(S[x]);N!=null&&(w.exptext=N)}return Object.keys(w).length>0?w:void 0}catch{return}},this._asn1ToNoticeRef=function(_){try{for(var w={},S=st(_,"seq"),x=0;x<S.length;x++){var T=this._asn1ToNoticeNum(S[x]);T!=null&&(w.noticenum=T);var N=this.asn1ToDisplayText(S[x]);N!=null&&(w.org=N)}return Object.keys(w).length>0?w:void 0}catch{return}},this._asn1ToNoticeNum=function(_){try{for(var w=st(_,"seq"),S=[],x=0;x<w.length;x++){var T=w[x];S.push(parseInt(st(T,"int.hex"),16))}return S}catch{return}},this.getDisplayText=function(_){var w={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"},S={};return S.type=w[_.substr(0,2)],S.str=Un(n(_,0)),S},this.asn1ToDisplayText=function(_){if(_.utf8str!=null)return{type:"utf8",str:_.utf8str.str};if(_.ia5str!=null)return{type:"ia5",str:_.ia5str.str};if(_.visstr!=null)return{type:"vis",str:_.visstr.str};if(_.bmpstr!=null)return{type:"bmp",str:_.bmpstr.str};if(_.prnstr!=null)return{type:"prn",str:_.prnstr.str}},this.getExtPolicyMappings=function(_,w){var S=this.getCriticalExtV("policyMappings",_,w);if(_=S[0],w=S[1],_!=null){var x={extname:"policyMappings"};w&&(x.critical=!0);try{for(var T=s(_),N=T.seq,I=[],A=0;A<N.length;A++){var R=N[A].seq;I.push([R[0].oid,R[1].oid])}x.array=I}catch{throw new D("malformed policyMappings")}return x}},this.getExtPolicyConstraints=function(_,w){var S=this.getCriticalExtV("policyConstraints",_,w);if(_=S[0],w=S[1],_!=null){var x={extname:"policyConstraints"};w&&(x.critical=!0);var T=s(_);try{for(var N=T.seq,I=0;I<N.length;I++){var A=N[I].tag;A.explicit==!1&&(A.tag=="80"&&(x.reqexp=parseInt(A.hex,16)),A.tag=="81"&&(x.inhibit=parseInt(A.hex,16)))}}catch{return new D("malformed policyConstraints value")}return x}},this.getExtInhibitAnyPolicy=function(_,w){var S=this.getCriticalExtV("inhibitAnyPolicy",_,w);if(_=S[0],w=S[1],_!=null){var x={extname:"inhibitAnyPolicy"};w&&(x.critical=!0);var T=v(_,0);return T==-1?new D("wrong value"):(x.skip=T,x)}},this.getExtCRLNumber=function(_,w){var S={extname:"cRLNumber"};if(w&&(S.critical=!0),_.substr(0,2)=="02")return S.num={hex:n(_,0)},S;throw new D("hExtV parse error: "+_)},this.getExtCRLReason=function(_,w){var S={extname:"cRLReason"};if(w&&(S.critical=!0),_.substr(0,2)=="0a")return S.code=parseInt(n(_,0),16),S;throw new Error("hExtV parse error: "+_)},this.getExtOcspNonce=function(_,w){var S={extname:"ocspNonce"};w&&(S.critical=!0);var x=n(_,0);return S.hex=x,S},this.getExtOcspNoCheck=function(_,w){var S={extname:"ocspNoCheck"};return w&&(S.critical=!0),S},this.getExtAdobeTimeStamp=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("adobeTimeStamp");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"adobeTimeStamp"};w&&(x.critical=!0);var T=i(_,0);if(T.length>1){var N=o(_,T[1]),I=this.getGeneralName(N);I.uri!=null&&(x.uri=I.uri)}if(T.length>2){var A=o(_,T[2]);A=="0101ff"&&(x.reqauth=!0),A=="010100"&&(x.reqauth=!1)}return x},this.getExtSubjectDirectoryAttributes=function(_,w){if(_===void 0&&w===void 0){var S=this.getExtInfo("subjectDirectoryAttributes");if(S===void 0)return;_=o(this.hex,S.vidx),w=S.critical}var x={extname:"subjectDirectoryAttributes"};w&&(x.critical=!0);try{for(var T=s(_),N=[],I=0;I<T.seq.length;I++){var A=T.seq[I],R=st(A,"seq.0.oid"),V=st(A,"seq.1.set");if(R==null||V==null)throw"error";N.push({attr:R,array:V})}return x.array=N,x}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var C=function(_){var w={};try{var S=_.seq[0].oid,x=c.asn1.x509.OID.name2oid(S);w.type=c.asn1.x509.OID.oid2atype(x);var T=_.seq[1];if(T.utf8str!=null)w.ds="utf8",w.value=T.utf8str.str;else if(T.numstr!=null)w.ds="num",w.value=T.numstr.str;else if(T.telstr!=null)w.ds="tel",w.value=T.telstr.str;else if(T.prnstr!=null)w.ds="prn",w.value=T.prnstr.str;else if(T.ia5str!=null)w.ds="ia5",w.value=T.ia5str.str;else if(T.visstr!=null)w.ds="vis",w.value=T.visstr.str;else if(T.bmpstr!=null)w.ds="bmp",w.value=T.bmpstr.str;else throw"error";return w}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},O=function(_){try{return _.set.map(function(w){return C(w)})}catch(w){throw new Error("improper ASN.1 parsed RDN: "+w)}},k=function(_){try{return _.seq.map(function(w){return O(w)})}catch(w){throw new Error("improper ASN.1 parsed X500Name: "+w)}};this.getX500NameRule=function(_){for(var w=!0,S=!0,x=!1,T="",N="",I=null,A=[],R=0;R<_.length;R++)for(var V=_[R],ie=0;ie<V.length;ie++)A.push(V[ie]);for(var R=0;R<A.length;R++){var re=A[R],se=re.ds,Se=re.value,be=re.type;if(T+=":"+se,se!="prn"&&se!="utf8"&&se!="ia5")return"mixed";if(se=="ia5"){if(be!="CN")return"mixed";if(c.lang.String.isMail(Se))continue;return"mixed"}if(be=="C"){if(se=="prn")continue;return"mixed"}if(N+=":"+se,I==null)I=se;else if(I!==se)return"mixed"}return I??"prn"},this.getAttrTypeAndValue=function(_){var w=s(_);return C(w)},this.getRDN=function(_){var w=s(_);return O(w)},this.getX500NameArray=function(_){var w=s(_);return k(w)},this.getX500Name=function(_,w,S){var x=this.getX500NameArray(_),T=this.dnarraytostr(x),N={str:T};return N.array=x,S==!0&&(N.hex=_),w==!0&&(N.canon=this.c14nRDNArray(x)),N},this.readCertPEM=function(_){this.readCertHex(b(_))},this.readCertHex=function(_){this.hex=_,this.getVersion();try{g(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(_){var w={};return _==null&&(_={}),w.version=this.getVersion(),w.serial={hex:this.getSerialNumberHex()},w.sigalg=this.getSignatureAlgorithmField(),w.issuer=this.getIssuer(_.dncanon,_.dnhex),w.notbefore=this.getNotBefore(),w.notafter=this.getNotAfter(),w.subject=this.getSubject(_.dncanon,_.dnhex),w.sbjpubkey=Dn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo!=null&&this.aExtInfo.length>0&&(w.ext=this.getExtParamArray()),w.sighex=this.getSignatureValueHex(),_.tbshex==!0&&(w.tbshex=l(this.hex,0,[0])),_.nodnarray==!0&&(delete w.issuer.array,delete w.subject.array),w},this.getExtParamArray=function(_){if(_==null){var w=d(this.hex,0,[0,"[3]"]);w!=-1&&(_=h(this.hex,0,[0,"[3]",0],"30"))}for(var S=[],x=i(_,0),T=0;T<x.length;T++){var N=o(_,x[T]),I=this.getExtParam(N);I!=null&&S.push(I)}return S},this.getExtParam=function(_){var w={},S=i(_,0),x=S.length;if(x!=2&&x!=3)throw new Error("wrong number elements in Extension: "+x+" "+_);var T=y(a(_,0,[0],"06")),N=!1;x==3&&l(_,0,[1])=="0101ff"&&(N=!0);var I=l(_,0,[x-1,0]),A=void 0;if(T=="2.5.29.14"?A=this.getExtSubjectKeyIdentifier(I,N):T=="2.5.29.15"?A=this.getExtKeyUsage(I,N):T=="2.5.29.17"?A=this.getExtSubjectAltName(I,N):T=="2.5.29.18"?A=this.getExtIssuerAltName(I,N):T=="2.5.29.19"?A=this.getExtBasicConstraints(I,N):T=="2.5.29.30"?A=this.getExtNameConstraints(I,N):T=="2.5.29.31"?A=this.getExtCRLDistributionPoints(I,N):T=="2.5.29.32"?A=this.getExtCertificatePolicies(I,N):T=="2.5.29.33"?A=this.getExtPolicyMappings(I,N):T=="2.5.29.35"?A=this.getExtAuthorityKeyIdentifier(I,N):T=="2.5.29.36"?A=this.getExtPolicyConstraints(I,N):T=="2.5.29.37"?A=this.getExtExtKeyUsage(I,N):T=="2.5.29.54"?A=this.getExtInhibitAnyPolicy(I,N):T=="1.3.6.1.5.5.7.1.1"?A=this.getExtAuthorityInfoAccess(I,N):T=="2.5.29.20"?A=this.getExtCRLNumber(I,N):T=="2.5.29.21"?A=this.getExtCRLReason(I,N):T=="2.5.29.9"?A=this.getExtSubjectDirectoryAttributes(I,N):T=="1.3.6.1.5.5.7.48.1.2"?A=this.getExtOcspNonce(I,N):T=="1.3.6.1.5.5.7.48.1.5"?A=this.getExtOcspNoCheck(I,N):T=="1.2.840.113583.1.1.9.1"?A=this.getExtAdobeTimeStamp(I,N):ae.EXT_PARSER[T]!=null&&(A=ae.EXT_PARSER[T](T,N,I)),A!=null)return A;var R={extname:T,extn:I};try{R.extn=s(I)}catch{}return N&&(R.critical=!0),R},this.findExt=function(_,w){for(var S=0;S<_.length;S++)if(_[S].extname==w)return _[S];return null},this.updateExtCDPFullURI=function(_,w){var S=this.findExt(_,"cRLDistributionPoints");if(S!=null&&S.array!=null){for(var x=S.array,T=0;T<x.length;T++)if(x[T].dpname!=null&&x[T].dpname.full!=null)for(var N=x[T].dpname.full,I=0;I<N.length;I++){var A=N[T];A.uri!=null&&(A.uri=w)}}},this.updateExtAIAOCSP=function(_,w){var S=this.findExt(_,"authorityInfoAccess");if(S!=null&&S.array!=null)for(var x=S.array,T=0;T<x.length;T++)x[T].ocsp!=null&&(x[T].ocsp=w)},this.updateExtAIACAIssuer=function(_,w){var S=this.findExt(_,"authorityInfoAccess");if(S!=null&&S.array!=null)for(var x=S.array,T=0;T<x.length;T++)x[T].caissuer!=null&&(x[T].caissuer=w)},this.dnarraytostr=function(_){function w(x){return x.map(function(T){return S(T).replace(/\+/,"\\+")}).join("+")}function S(x){return x.type+"="+x.value}return"/"+_.map(function(x){return w(x).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(_){var w;if(_.str!=null&&_.array==null){var S=new c.asn1.x509.X500Name({str:_.str}),x=S.tohex();w=this.getX500NameArray(x)}else w=_.array;_.canon==null&&(_.canon=this.c14nRDNArray(w))},this.c14nRDNArray=function(_){for(var w=[],S=0;S<_.length;S++){for(var x=_[S],T=[],N=0;N<x.length;N++){var I=x[N],A=I.value;A=A.replace(/^\s*/,""),A=A.replace(/\s*$/,""),A=A.replace(/\s+/g," "),A=A.toLowerCase(),T.push(I.type.toLowerCase()+"="+A)}w.push(T.join("+"))}return"/"+w.join("/")},this.getInfo=function(){var _=function(Wt){for(var We="",gt="    ",ut=`
`,mt=Wt.array,on=0;on<mt.length;on++){var Ze=mt[on];if(Ze.dn!=null&&(We+=gt+"dn: "+Ze.dn.str+ut),Ze.ip!=null&&(We+=gt+"ip: "+Ze.ip+ut),Ze.rfc822!=null&&(We+=gt+"rfc822: "+Ze.rfc822+ut),Ze.dns!=null&&(We+=gt+"dns: "+Ze.dns+ut),Ze.uri!=null&&(We+=gt+"uri: "+Ze.uri+ut),Ze.other!=null){var an=Ze.other.oid,Dr=JSON.stringify(Ze.other.value).replace(/\"/g,"");We+=gt+"other: "+an+"="+Dr+ut}}return We=We.replace(/\n$/,""),We},w=function(Wt){for(var We="",gt=Wt.array,ut=0;ut<gt.length;ut++){var mt=gt[ut];if(We+="    policy oid: "+mt.policyoid+`
`,mt.array!==void 0)for(var on=0;on<mt.array.length;on++){var Ze=mt.array[on];Ze.cps!==void 0&&(We+="    cps: "+Ze.cps+`
`)}}return We},S=function(Wt){for(var We="",gt=Wt.array,ut=0;ut<gt.length;ut++){var mt=gt[ut];try{mt.dpname.full[0].uri!==void 0&&(We+="    "+mt.dpname.full[0].uri+`
`)}catch{}try{mt.dname.full[0].dn.hex!==void 0&&(We+="    "+ae.hex2dn(mt.dpname.full[0].dn.hex)+`
`)}catch{}}return We},x=function(Wt){for(var We="",gt=Wt.array,ut=0;ut<gt.length;ut++){var mt=gt[ut];mt.caissuer!==void 0&&(We+="    caissuer: "+mt.caissuer+`
`),mt.ocsp!==void 0&&(We+="    ocsp: "+mt.ocsp+`
`)}return We},T=ae,N,I,A;if(N=`Basic Fields
`,N+="  serial number: "+this.getSerialNumberHex()+`
`,N+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,N+="  issuer: "+this.getIssuerString()+`
`,N+="  notBefore: "+this.getNotBefore()+`
`,N+="  notAfter: "+this.getNotAfter()+`
`,N+="  subject: "+this.getSubjectString()+`
`,N+=`  subject public key info: 
`,I=this.getPublicKey(),N+="    key algorithm: "+I.type+`
`,I.type==="RSA"&&(N+="    n="+Um(I.n.toString(16)).substr(0,16)+`...
`,N+="    e="+Um(I.e.toString(16))+`
`),A=this.aExtInfo,A!=null){N+=`X509v3 Extensions:
`;for(var R=0;R<A.length;R++){var V=A[R],ie=c.asn1.x509.OID.oid2name(V.oid);ie===""&&(ie=V.oid);var re="";if(V.critical===!0&&(re="CRITICAL"),N+="  "+ie+" "+re+`:
`,ie==="basicConstraints"){var se=this.getExtBasicConstraints();se.cA===void 0?N+=`    {}
`:(N+="    cA=true",se.pathLen!==void 0&&(N+=", pathLen="+se.pathLen),N+=`
`)}else if(ie=="policyMappings"){var Se=this.getExtPolicyMappings().array,be=Se.map(function(Wt){var We=Wt;return We[0]+":"+We[1]}).join(", ");N+="    "+be+`
`}else if(ie=="policyConstraints"){var Ke=this.getExtPolicyConstraints();N+="    ",Ke.reqexp!=null&&(N+=" reqexp="+Ke.reqexp),Ke.inhibit!=null&&(N+=" inhibit="+Ke.inhibit),N+=`
`}else if(ie=="inhibitAnyPolicy"){var Ke=this.getExtInhibitAnyPolicy();N+="    skip="+Ke.skip+`
`}else if(ie=="keyUsage")N+="    "+this.getExtKeyUsageString()+`
`;else if(ie=="subjectKeyIdentifier")N+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(ie=="authorityKeyIdentifier"){var Be=this.getExtAuthorityKeyIdentifier();Be.kid!==void 0&&(N+="    kid="+Be.kid.hex+`
`)}else if(ie=="extKeyUsage"){var Gt=this.getExtExtKeyUsage().array;N+="    "+Gt.join(", ")+`
`}else if(ie=="subjectAltName"){var Rt=_(this.getExtSubjectAltName());N+=Rt+`
`}else if(ie=="cRLDistributionPoints"){var St=this.getExtCRLDistributionPoints();N+=S(St)}else if(ie=="authorityInfoAccess"){var _t=this.getExtAuthorityInfoAccess();N+=x(_t)}else ie=="certificatePolicies"&&(N+=w(this.getExtCertificatePolicies()))}}return N+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,N+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`,N},typeof e=="string"&&(e.indexOf("-----BEGIN")!=-1?this.readCertPEM(e):c.lang.String.isHex(e)&&this.readCertHex(e))}ae.EXT_PARSER={};ae.registExtParser=function(e,t){ae.EXT_PARSER[e]=t};ae.hex2dn=function(e,t){t===void 0&&(t=0);var i=new ae,n=G.getTLV(e,t),r=i.getX500Name(e);return r.str};ae.hex2rdn=function(e,t){if(t===void 0&&(t=0),e.substr(t,2)!=="31")throw new Error("malformed RDN");for(var i=new Array,n=G.getChildIdx(e,t),r=0;r<n.length;r++)i.push(ae.hex2attrTypeValue(e,n[r]));return i=i.map(function(s){return s.replace("+","\\+")}),i.join("+")};ae.hex2attrTypeValue=function(e,t){var i=G,n=i.getV;if(t===void 0&&(t=0),e.substr(t,2)!=="30")throw new Error("malformed attribute type and value");var r=i.getChildIdx(e,t);r.length!==2||e.substr(r[0],2);var s=n(e,r[0]),o=c.asn1.ASN1Util.oidHexToInt(s),a=c.asn1.x509.OID.oid2atype(o),u=n(e,r[1]),l=Un(u);return a+"="+l};ae.getPublicKeyFromCertHex=function(e){var t=new ae;return t.readCertHex(e),t.getPublicKey()};ae.getPublicKeyFromCertPEM=function(e){var t=new ae;return t.readCertPEM(e),t.getPublicKey()};ae.getPublicKeyInfoPropOfCertPEM=function(e){var t=G,i=t.getVbyList,n={},r,s,o;return n.algparam=null,r=new ae,r.readCertPEM(e),s=r.getPublicKeyHex(),n.keyhex=i(s,0,[1],"03").substr(2),n.algoid=i(s,0,[0,0],"06"),n.algoid==="2a8648ce3d0201"&&(n.algparam=i(s,0,[0,1],"06")),n};ae.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];var t5=function(e){var t=c,i=t.lang.String.isHex,n=G,r=n.getV,s=n.getTLV,o=n.getVbyList,a=n.getTLVbyList,u=n.getTLVbyListEx,l=n.getIdxbyList,h=n.getIdxbyListEx,g=n.getChildIdx,d=new ae;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var f=l(this.hex,0,[0,0]),v=this.hex.substr(f,2);if(v=="02")this.posSigAlg=1;else if(v=="30")this.posSigAlg=0;else throw new Error("malformed 1st item of TBSCertList: "+v);var p=l(this.hex,0,[0,this.posSigAlg+3]),y=this.hex.substr(p,2);if(y=="17"||y=="18"){var m,b;m=l(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,m!=-1&&(b=this.hex.substr(m,2),b=="30"&&(this.posRevCert=this.posSigAlg+4))}else if(y=="30")this.posRevCert=this.posSigAlg+3;else if(y=="a0")this.posRevCert=null;else throw new Error("malformed nextUpdate or revCert tag: "+y)},this.getVersion=function(){return this.posSigAlg==0?null:parseInt(o(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var f=a(this.hex,0,[0,this.posSigAlg],"30");return d.getAlgorithmIdentifierName(f)},this.getIssuer=function(){return d.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return a(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var f=o(this.hex,0,[0,this.posSigAlg+2]);return result=Un(f)},this.getNextUpdate=function(){var f=l(this.hex,0,[0,this.posSigAlg+3]),v=this.hex.substr(f,2);return v!="17"&&v!="18"?null:Un(r(this.hex,f))},this.getRevCertArray=function(){if(this.posRevCert==null)return null;for(var f=[],v=l(this.hex,0,[0,this.posRevCert]),p=g(this.hex,v),y=0;y<p.length;y++){var m=s(this.hex,p[y]);f.push(this.getRevCert(m))}return f},this.getRevCert=function(f){var v={},p=g(f,0);return v.sn={hex:o(f,0,[0],"02")},v.date=Un(o(f,0,[1])),p.length==3&&(v.ext=d.getExtParamArray(a(f,0,[2]))),v},this.findRevCert=function(f){var v=new ae(f),p=v.getSerialNumberHex();return this.findRevCertBySN(p)},this.findRevCertBySN=function(f){if(this.parsed==null&&this.getParam(),this.parsed.revcert==null)return null;for(var v=this.parsed.revcert,p=0;p<v.length;p++)if(f==v[p].sn.hex)return v[p];return null},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(f){var v=this.getSignatureAlgorithmField(),p=this.getSignatureValueHex(),y=a(this.hex,0,[0],"30"),m=new c.crypto.Signature({alg:v});return m.init(f),m.updateHex(y),m.verify(p)},this.getParam=function(f){var v={},p=this.getVersion();p!=null&&(v.version=p),v.sigalg=this.getSignatureAlgorithmField(),v.issuer=this.getIssuer(),v.thisupdate=this.getThisUpdate();var y=this.getNextUpdate();y!=null&&(v.nextupdate=y);var m=this.getRevCertArray();m!=null&&(v.revcert=m);var b=h(this.hex,0,[0,"[0]"]);if(b!=-1){var E=u(this.hex,0,[0,"[0]",0]);v.ext=d.getExtParamArray(E)}return v.sighex=this.getSignatureValueHex(),this.parsed=v,typeof f=="object"&&(f.tbshex==!0&&(v.tbshex=a(this.hex,0,[0])),f.nodnarray==!0&&delete v.issuer.array),v},typeof e=="string"&&(i(e)?this.hex=e:e.match(/-----BEGIN X509 CRL/)&&(this.hex=Dt(e)),this._setPos())};(typeof c>"u"||!c)&&(c={});(typeof c.jws>"u"||!c.jws)&&(c.jws={});c.jws.JWS=function(){var e=c,t=e.jws.JWS,i=t.isSafeJSONString;this.parseJWS=function(n,r){if(!(this.parsedJWS!==void 0&&(r||this.parsedJWS.sigvalH!==void 0))){var s=n.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(s==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var o=s[1],a=s[2],u=s[3],l=o+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=o,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=u,this.parsedJWS.si=l,!r){var h=pt(u),g=jn(h,16);this.parsedJWS.sigvalH=h,this.parsedJWS.sigvalBI=g}var d=Ni(o),f=Ni(a);if(this.parsedJWS.headS=d,this.parsedJWS.payloadS=f,!i(d,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+d}}};c.jws.JWS.sign=function(e,t,i,n,r){var s=c,o=s.jws,a=o.JWS,u=a.readSafeJSONString,l=a.isSafeJSONString,h=s.crypto,g=h.ECDSA,d=h.Mac,f=h.Signature,v=JSON,p,y,m;if(typeof t!="string"&&typeof t!="object")throw"spHeader must be JSON string or object: "+t;if(typeof t=="object"&&(y=t,p=v.stringify(y)),typeof t=="string"){if(p=t,!l(p))throw"JWS Head is not safe JSON string: "+p;y=u(p)}if(m=i,typeof i=="object"&&(m=v.stringify(i)),(e==""||e==null)&&y.alg!==void 0&&(e=y.alg),e!=""&&e!=null&&y.alg===void 0&&(y.alg=e,p=v.stringify(y)),e!==y.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+y.alg;var b=null;if(a.jwsalg2sigalg[e]===void 0)throw"unsupported alg name: "+e;b=a.jwsalg2sigalg[e];var E=_u(p),D=_u(m),C=E+"."+D,O="";if(b.substr(0,4)=="Hmac"){if(n===void 0)throw"mac key shall be specified for HS* alg";var k=new d({alg:b,prov:"cryptojs",pass:n});k.updateString(C),O=k.doFinal()}else if(b.indexOf("withECDSA")!=-1){var _=new f({alg:b});_.init(n,r),_.updateString(C);var w=_.sign();O=c.crypto.ECDSA.asn1SigToConcatSig(w)}else if(b!="none"){var _=new f({alg:b});_.init(n,r),_.updateString(C),O=_.sign()}var S=Ut(O);return C+"."+S};c.jws.JWS.verify=function(e,t,i){var n=c,r=n.jws,s=r.JWS,o=s.readSafeJSONString,a=n.crypto,u=a.ECDSA,l=a.Mac,h=a.Signature,g;if(typeof me!==void 0&&(g=me),!Zm(e))return!1;var d=e.split(".");if(d.length!==3)return!1;var f=d[0],v=d[1],p=f+"."+v,y=pt(d[2]),m=o(Ni(d[0])),b=null,E=null;if(m.alg===void 0)throw"algorithm not specified in header";if(b=m.alg,E=b.substr(0,2),i!=null&&Object.prototype.toString.call(i)==="[object Array]"&&i.length>0){var D=":"+i.join(":")+":";if(D.indexOf(":"+b+":")==-1)throw"algorithm '"+b+"' not accepted in the list"}if(b!="none"&&t===null)throw"key shall be specified to verify.";if(typeof t=="string"&&t.indexOf("-----BEGIN ")!=-1&&(t=Oe.getKey(t)),(E=="RS"||E=="PS")&&!(t instanceof g))throw"key shall be a RSAKey obj for RS* and PS* algs";if(E=="ES"&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";b=="none";var C=null;if(s.jwsalg2sigalg[m.alg]===void 0)throw"unsupported alg name: "+b;if(C=s.jwsalg2sigalg[b],C=="none")throw"not supported";if(C.substr(0,4)=="Hmac"){var O=null;if(t===void 0)throw"hexadecimal key shall be specified for HMAC";var k=new l({alg:C,pass:t});return k.updateString(p),O=k.doFinal(),y==O}else if(C.indexOf("withECDSA")!=-1){var _=null;try{_=u.concatSigToASN1Sig(y)}catch{return!1}var w=new h({alg:C});return w.init(t),w.updateString(p),w.verify(_)}else{var w=new h({alg:C});return w.init(t),w.updateString(p),w.verify(y)}};c.jws.JWS.parse=function(e){var t=e.split("."),i={},n,r,s;if(t.length!=2&&t.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return n=t[0],r=t[1],t.length==3&&(s=t[2]),i.headerObj=c.jws.JWS.readSafeJSONString(Ni(n)),i.payloadObj=c.jws.JWS.readSafeJSONString(Ni(r)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadObj==null?i.payloadPP=Ni(r):i.payloadPP=JSON.stringify(i.payloadObj,null,"  "),s!==void 0&&(i.sigHex=pt(s)),i};c.jws.JWS.verifyJWT=function(e,t,i){var n=c,r=n.jws,s=r.JWS,o=s.readSafeJSONString,a=s.inArray,u=s.includedArray;if(!Zm(e))return!1;var l=e.split(".");if(l.length!=3)return!1;var h=l[0],g=l[1],d=h+"."+g,f=pt(l[2]),v=o(Ni(h)),p=o(Ni(g));if(v.alg===void 0)return!1;if(i.alg===void 0)throw"acceptField.alg shall be specified";if(!a(v.alg,i.alg)||p.iss!==void 0&&typeof i.iss=="object"&&!a(p.iss,i.iss)||p.sub!==void 0&&typeof i.sub=="object"&&!a(p.sub,i.sub))return!1;if(p.aud!==void 0&&typeof i.aud=="object"){if(typeof p.aud=="string"){if(!a(p.aud,i.aud))return!1}else if(typeof p.aud=="object"&&!u(p.aud,i.aud))return!1}var y=r.IntDate.getNow();return i.verifyAt!==void 0&&typeof i.verifyAt=="number"&&(y=i.verifyAt),(i.gracePeriod===void 0||typeof i.gracePeriod!="number")&&(i.gracePeriod=0),!(p.exp!==void 0&&typeof p.exp=="number"&&p.exp+i.gracePeriod<y||p.nbf!==void 0&&typeof p.nbf=="number"&&y<p.nbf-i.gracePeriod||p.iat!==void 0&&typeof p.iat=="number"&&y<p.iat-i.gracePeriod||p.jti!==void 0&&i.jti!==void 0&&p.jti!==i.jti||!s.verify(e,t,i.alg))};c.jws.JWS.includedArray=function(e,t){var i=c.jws.JWS.inArray;if(e===null||typeof e!="object"||typeof e.length!="number")return!1;for(var n=0;n<e.length;n++)if(!i(e[n],t))return!1;return!0};c.jws.JWS.inArray=function(e,t){if(t===null||typeof t!="object"||typeof t.length!="number")return!1;for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1};c.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};c.jws.JWS.isSafeJSONString=function(e,t,i){var n=null;try{return n=EE(e),typeof n!="object"||n.constructor===Array?0:(t&&(t[i]=n),1)}catch{return 0}};c.jws.JWS.readSafeJSONString=function(e){var t=null;try{return t=EE(e),typeof t!="object"||t.constructor===Array?null:t}catch{return null}};c.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(t==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]};c.jws.JWS.getJWKthumbprint=function(e){if(e.kty!=="RSA"&&e.kty!=="EC"&&e.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var t="{";if(e.kty==="RSA"){if(typeof e.n!="string"||typeof e.e!="string")throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if(e.kty==="EC"){if(typeof e.crv!="string"||typeof e.x!="string"||typeof e.y!="string")throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if(e.kty==="oct"){if(typeof e.k!="string")throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var i=Qi(t),n=c.crypto.Util.hashHex(i,"sha256"),r=Ut(n);return r};c.jws.IntDate={};c.jws.IntDate.get=function(e){var t=c.jws.IntDate,i=t.getNow,n=t.getZulu;if(e=="now")return i();if(e=="now + 1hour")return i()+60*60;if(e=="now + 1day")return i()+60*60*24;if(e=="now + 1month")return i()+60*60*24*30;if(e=="now + 1year")return i()+60*60*24*365;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e};c.jws.IntDate.getZulu=function(e){return xE(e)};c.jws.IntDate.getNow=function(){var e=~~(new Date/1e3);return e};c.jws.IntDate.intDate2UTCString=function(e){var t=new Date(e*1e3);return t.toUTCString()};c.jws.IntDate.intDate2Zulu=function(e){var t=new Date(e*1e3),i=("0000"+t.getUTCFullYear()).slice(-4),n=("00"+(t.getUTCMonth()+1)).slice(-2),r=("00"+t.getUTCDate()).slice(-2),s=("00"+t.getUTCHours()).slice(-2),o=("00"+t.getUTCMinutes()).slice(-2),a=("00"+t.getUTCSeconds()).slice(-2);return i+n+r+s+o+a+"Z"};(typeof c>"u"||!c)&&(c={});(typeof c.jws>"u"||!c.jws)&&(c.jws={});c.jws.JWSJS=function(){var e=c,t=e.jws,i=t.JWS,n=i.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(r){this.init();var s=r.split(".");if(s.length!=3)throw"malformed input JWS";this.aHeader.push(s[0]),this.sPayload=s[1],this.aSignature.push(s[2])},this.addSignature=function(r,s,o,a){if(this.sPayload===void 0||this.sPayload===null)throw"there's no JSON-JS signature to add.";var u=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var l=c.jws.JWS.sign(r,s,this.sPayload,o,a),h=l.split("."),g=h[0],d=h[2];this.aHeader.push(h[0]),this.aSignature.push(h[2])}catch(f){throw this.aHeader.length>u&&this.aHeader.pop(),this.aSignature.length>u&&this.aSignature.pop(),"addSignature failed: "+f}},this.verifyAll=function(r){if(this.aHeader.length!==r.length||this.aSignature.length!==r.length)return!1;for(var s=0;s<r.length;s++){var o=r[s];if(o.length!==2)return!1;var a=this.verifyNth(s,o[0],o[1]);if(a===!1)return!1}return!0},this.verifyNth=function(r,s,o){if(this.aHeader.length<=r||this.aSignature.length<=r)return!1;var a=this.aHeader[r],u=this.aSignature[r],l=a+"."+this.sPayload+"."+u,h=!1;try{h=i.verify(l,s,o)}catch{return!1}return h},this.readJWSJS=function(r){if(typeof r=="string"){var s=n(r);if(s==null)throw"argument is not safe JSON object string";this.aHeader=s.headers,this.sPayload=s.payload,this.aSignature=s.signatures}else try{if(r.headers.length>0)this.aHeader=r.headers;else throw"malformed header";if(typeof r.payload=="string")this.sPayload=r.payload;else throw"malformed signatures";if(r.signatures.length>0)this.aSignature=r.signatures;else throw"malformed signatures"}catch(o){throw"malformed JWS-JS JSON object: "+o}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return this.aHeader.length==0?1:0}};K.SecureRandom=Zo;K.rng_seed_time=qm;K.BigInteger=B;K.RSAKey=me;K.ECDSA=c.crypto.ECDSA;K.DSA=c.crypto.DSA;K.Signature=c.crypto.Signature;K.MessageDigest=c.crypto.MessageDigest;K.Mac=c.crypto.Mac;K.KEYUTIL=Oe;K.ASN1HEX=G;K.X509=ae;K.X509CRL=t5;K.CryptoJS=Y;K.b64tohex=Ko;K.b64toBA=vE;K.ECFieldElementFp=$t;K.ECPointFp=ze;K.ECCurveFp=Er;K.stoBA=DE;K.BAtos=CE;K.BAtohex=kd;K.stohex=Hn;K.stob64=Pk;K.stob64u=kk;K.b64utos=Bk;K.b64tob64u=zo;K.b64utob64=wu;K.hex2b64=wr;K.hextob64u=Ut;K.b64utohex=pt;K.utf8tob64u=_u;K.b64utoutf8=Ni;K.utf8tob64=Vk;K.b64toutf8=Lk;K.utf8tohex=Bd;K.hextoutf8=et;K.hextorstr=Un;K.rstrtohex=Qi;K.hextob64=zm;K.hextob64nl=Uk;K.b64nltohex=SE;K.hextopem=Dn;K.pemtohex=Dt;K.hextoArrayBuffer=Wk;K.ArrayBuffertohex=qk;K.zulutomsec=Km;K.msectozulu=zk;K.zulutosec=xE;K.zulutodate=Kk;K.datetozulu=Yk;K.uricmptohex=Ld;K.hextouricmp=jd;K.ipv6tohex=jm;K.hextoipv6=Hm;K.hextoip=Fd;K.iptohex=Ym;K.ucs2hextoutf8=Jm;K.encodeURIComponentAll=Hd;K.newline_toUnix=Jk;K.newline_toDos=Zk;K.hextoposhex=Um;K.intarystrtohex=Qk;K.strdiffidx=Xk;K.oidtohex=ME;K.hextooid=Ud;K.strpad=Od;K.bitstrtoint=FE;K.inttobitstr=OE;K.bitstrtobinstr=RE;K.binstrtobitstr=e5;K.isBase64URLDot=Zm;K.namearraytobinstr=Rd;K.extendClass=H;K.foldnl=Vd;K.b64topem=$k;K.pemtob64=Gk;K.timeogen=IE;K.aryval=st;K.inttohex=AE;K.twoscompl=Eu;K.KJUR=c;K.crypto=c.crypto;K.asn1=c.asn1;K.jws=c.jws;K.lang=c.lang;K.VERSION=c3;K.VERSION_FULL=d3});var i0=null;var Wd=1,qd=Symbol("SIGNAL");function Ve(e){let t=i0;return i0=e,t}var r0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function XE(e){if(!(Yd(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Wd)){if(!e.producerMustRecompute(e)&&!zd(e)){e.dirty=!1,e.lastCleanEpoch=Wd;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Wd}}function s0(e){return e&&(e.nextProducerIndex=0),Ve(e)}function o0(e,t){if(Ve(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Yd(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Kd(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function zd(e){Cu(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(XE(i),n!==i.version))return!0}return!1}function a0(e){if(Cu(e),Yd(e))for(let t=0;t<e.producerNode.length;t++)Kd(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Kd(e,t){if(eD(e),Cu(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)Kd(e.producerNode[n],e.producerIndexOfThis[n]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Cu(r),r.producerIndexOfThis[n]=t}}function Yd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Cu(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function eD(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function tD(){throw new Error}var nD=tD;function u0(e){nD=e}function ue(e){return typeof e=="function"}function Hs(e){let i=e(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Su=Hs(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function ts(e,t){if(e){let i=e.indexOf(t);0<=i&&e.splice(i,1)}}var xt=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(ue(n))try{n()}catch(s){t=s instanceof Su?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{l0(s)}catch(o){t=t??[],o instanceof Su?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Su(t)}}add(t){var i;if(t&&t!==this)if(this.closed)l0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}}_hasParent(t){let{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){let{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&ts(i,t)}remove(t){let{_finalizers:i}=this;i&&ts(i,t),t instanceof e&&t._removeParent(this)}};xt.EMPTY=(()=>{let e=new xt;return e.closed=!0,e})();var Jd=xt.EMPTY;function xu(e){return e instanceof xt||e&&"closed"in e&&ue(e.remove)&&ue(e.add)&&ue(e.unsubscribe)}function l0(e){ue(e)?e():e.unsubscribe()}var _i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Us={setTimeout(e,t,...i){let{delegate:n}=Us;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=Us;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Iu(e){Us.setTimeout(()=>{let{onUnhandledError:t}=_i;if(t)t(e);else throw e})}function Xi(){}var c0=Zd("C",void 0,void 0);function d0(e){return Zd("E",void 0,e)}function f0(e){return Zd("N",e,void 0)}function Zd(e,t,i){return{kind:e,value:t,error:i}}var ns=null;function $s(e){if(_i.useDeprecatedSynchronousErrorHandling){let t=!ns;if(t&&(ns={errorThrown:!1,error:null}),e(),t){let{errorThrown:i,error:n}=ns;if(ns=null,i)throw n}}else e()}function h0(e){_i.useDeprecatedSynchronousErrorHandling&&ns&&(ns.errorThrown=!0,ns.error=e)}var is=class extends xt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,xu(t)&&t.add(this)):this.destination=sD}static create(t,i,n){return new Gs(t,i,n)}next(t){this.isStopped?Xd(f0(t),this):this._next(t)}error(t){this.isStopped?Xd(d0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xd(c0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iD=Function.prototype.bind;function Qd(e,t){return iD.call(e,t)}var ef=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){Tu(n)}}error(t){let{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){Tu(n)}else Tu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Tu(i)}}},Gs=class extends is{constructor(t,i,n){super();let r;if(ue(t)||!t)r={next:t??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&_i.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Qd(t.next,s),error:t.error&&Qd(t.error,s),complete:t.complete&&Qd(t.complete,s)}):r=t}this.destination=new ef(r)}};function Tu(e){_i.useDeprecatedSynchronousErrorHandling?h0(e):Iu(e)}function rD(e){throw e}function Xd(e,t){let{onStoppedNotification:i}=_i;i&&Us.setTimeout(()=>i(e,t))}var sD={closed:!0,next:Xi,error:rD,complete:Xi};var Ws=typeof Symbol=="function"&&Symbol.observable||"@@observable";function un(e){return e}function tf(...e){return nf(e)}function nf(e){return e.length===0?un:e.length===1?e[0]:function(i){return e.reduce((n,r)=>r(n),i)}}var _e=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=aD(i)?i:new Gs(i,n,r);return $s(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=p0(n),new n((r,s)=>{let o=new Gs({next:a=>{try{i(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[Ws](){return this}pipe(...i){return nf(i)(this)}toPromise(i){return i=p0(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return e.create=t=>new e(t),e})();function p0(e){var t;return(t=e??_i.Promise)!==null&&t!==void 0?t:Promise}function oD(e){return e&&ue(e.next)&&ue(e.error)&&ue(e.complete)}function aD(e){return e&&e instanceof is||oD(e)&&xu(e)}function rf(e){return ue(e?.lift)}function xe(e){return t=>{if(rf(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(e,t,i,n,r){return new sf(e,t,i,n,r)}var sf=class extends is{constructor(t,i,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(u){t.error(u)}}:super._next,this._error=r?function(a){try{r(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function qs(){return xe((e,t)=>{let i=null;e._refCount++;let n=he(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){i=null;return}let r=e._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}var zs=class extends _e{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,rf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xt;let i=this.getSubject();t.add(this.source.subscribe(he(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xt.EMPTY)}return t}refCount(){return qs()(this)}};var g0=Hs(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class e extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new Mu(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new g0}next(i){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){$s(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?Jd:(this.currentObservers=null,s.push(i),new xt(()=>{this.currentObservers=null,ts(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new _e;return i.source=this,i}}return e.create=(t,i)=>new Mu(t,i),e})(),Mu=class extends Qe{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,t)}error(t){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,t)}complete(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)}_subscribe(t){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&n!==void 0?n:Jd}};var zt=class extends Qe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){let{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var of={now(){return(of.delegate||Date).now()},delegate:void 0};var Au=class extends xt{constructor(t,i){super()}schedule(t,i=0){return this}};var Xo={setInterval(e,t,...i){let{delegate:n}=Xo;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){let{delegate:t}=Xo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Fu=class extends Au{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var n;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(t,i,n=0){return Xo.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Xo.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let n=!1,r;try{this.work(t)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,ts(n,this),t!=null&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}};var Ks=class e{constructor(t,i=e.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,n){return new this.schedulerActionCtor(this,t).schedule(n,i)}};Ks.now=of.now;var Ou=class extends Ks{constructor(t,i=Ks.now){super(t,i),this.actions=[],this._active=!1}flush(t){let{actions:i}=this;if(this._active){i.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}};var ea=new Ou(Fu),m0=ea;var Nt=new _e(e=>e.complete());function Ru(e){return e&&ue(e.schedule)}function af(e){return e[e.length-1]}function Cr(e){return ue(af(e))?e.pop():void 0}function ki(e){return Ru(af(e))?e.pop():void 0}function v0(e,t){return typeof af(e)=="number"?e.pop():t}function _0(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(g){o(g)}}function u(h){try{l(n.throw(h))}catch(g){o(g)}}function l(h){h.done?s(h.value):r(h.value).then(a,u)}l((n=n.apply(e,t||[])).next())})}function y0(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rs(e){return this instanceof rs?(this.v=e,this):new rs(e)}function b0(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(e,t||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(d){n[d]&&(r[d]=function(f){return new Promise(function(v,p){s.push([d,f,v,p])>1||a(d,f)})})}function a(d,f){try{u(n[d](f))}catch(v){g(s[0][3],v)}}function u(d){d.value instanceof rs?Promise.resolve(d.value.v).then(l,h):g(s[0][2],d)}function l(d){a("next",d)}function h(d){a("throw",d)}function g(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof y0=="function"?y0(e):e[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),r(a,u,o.done,o.value)})}}function r(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Ys=e=>e&&typeof e.length=="number"&&typeof e!="function";function Nu(e){return ue(e?.then)}function Pu(e){return ue(e[Ws])}function ku(e){return Symbol.asyncIterator&&ue(e?.[Symbol.asyncIterator])}function Bu(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vu=uD();function Lu(e){return ue(e?.[Vu])}function ju(e){return b0(this,arguments,function*(){let i=e.getReader();try{for(;;){let{value:n,done:r}=yield rs(i.read());if(r)return yield rs(void 0);yield yield rs(n)}}finally{i.releaseLock()}})}function Hu(e){return ue(e?.getReader)}function Ge(e){if(e instanceof _e)return e;if(e!=null){if(Pu(e))return lD(e);if(Ys(e))return cD(e);if(Nu(e))return dD(e);if(ku(e))return E0(e);if(Lu(e))return fD(e);if(Hu(e))return hD(e)}throw Bu(e)}function lD(e){return new _e(t=>{let i=e[Ws]();if(ue(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cD(e){return new _e(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function dD(e){return new _e(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,Iu)})}function fD(e){return new _e(t=>{for(let i of e)if(t.next(i),t.closed)return;t.complete()})}function E0(e){return new _e(t=>{pD(e,t).catch(i=>t.error(i))})}function hD(e){return E0(ju(e))}function pD(e,t){var i,n,r,s;return _0(this,void 0,void 0,function*(){try{for(i=w0(e);n=yield i.next(),!n.done;){let o=n.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}t.complete()})}function An(e,t,i,n=0,r=!1){let s=t.schedule(function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!r)return s}function Uu(e,t=0){return xe((i,n)=>{i.subscribe(he(n,r=>An(n,e,()=>n.next(r),t),()=>An(n,e,()=>n.complete(),t),r=>An(n,e,()=>n.error(r),t)))})}function $u(e,t=0){return xe((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function D0(e,t){return Ge(e).pipe($u(t),Uu(t))}function C0(e,t){return Ge(e).pipe($u(t),Uu(t))}function S0(e,t){return new _e(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}function x0(e,t){return new _e(i=>{let n;return An(i,t,()=>{n=e[Vu](),An(i,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>ue(n?.return)&&n.return()})}function Gu(e,t){if(!e)throw new Error("Iterable cannot be null");return new _e(i=>{An(i,t,()=>{let n=e[Symbol.asyncIterator]();An(i,t,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function I0(e,t){return Gu(ju(e),t)}function T0(e,t){if(e!=null){if(Pu(e))return D0(e,t);if(Ys(e))return S0(e,t);if(Nu(e))return C0(e,t);if(ku(e))return Gu(e,t);if(Lu(e))return x0(e,t);if(Hu(e))return I0(e,t)}throw Bu(e)}function ot(e,t){return t?T0(e,t):Ge(e)}function oe(...e){let t=ki(e);return ot(e,t)}function Js(e,t){let i=ue(e)?e:()=>e,n=r=>r.error(i());return new _e(t?r=>t.schedule(n,0,r):n)}function uf(e){return!!e&&(e instanceof _e||ue(e.lift)&&ue(e.subscribe))}var er=Hs(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function M0(e){return e instanceof Date&&!isNaN(e)}function pe(e,t){return xe((i,n)=>{let r=0;i.subscribe(he(n,s=>{n.next(e.call(t,s,r++))}))})}var{isArray:gD}=Array;function mD(e,t){return gD(t)?e(...t):e(t)}function Zs(e){return pe(t=>mD(e,t))}var{isArray:vD}=Array,{getPrototypeOf:yD,prototype:_D,keys:bD}=Object;function Wu(e){if(e.length===1){let t=e[0];if(vD(t))return{args:t,keys:null};if(wD(t)){let i=bD(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}function wD(e){return e&&typeof e=="object"&&yD(e)===_D}function qu(e,t){return e.reduce((i,n,r)=>(i[n]=t[r],i),{})}function Qs(...e){let t=ki(e),i=Cr(e),{args:n,keys:r}=Wu(e);if(n.length===0)return ot([],t);let s=new _e(ED(n,t,r?o=>qu(r,o):un));return i?s.pipe(Zs(i)):s}function ED(e,t,i=un){return n=>{A0(t,()=>{let{length:r}=e,s=new Array(r),o=r,a=r;for(let u=0;u<r;u++)A0(t,()=>{let l=ot(e[u],t),h=!1;l.subscribe(he(n,g=>{s[u]=g,h||(h=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function A0(e,t,i){e?An(i,e,t):t()}function F0(e,t,i,n,r,s,o,a){let u=[],l=0,h=0,g=!1,d=()=>{g&&!u.length&&!l&&t.complete()},f=p=>l<n?v(p):u.push(p),v=p=>{s&&t.next(p),l++;let y=!1;Ge(i(p,h++)).subscribe(he(t,m=>{r?.(m),s?f(m):t.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<n;){let m=u.shift();o?An(t,o,()=>v(m)):v(m)}d()}catch(m){t.error(m)}}))};return e.subscribe(he(t,f,()=>{g=!0,d()})),()=>{a?.()}}function ft(e,t,i=1/0){return ue(t)?ft((n,r)=>pe((s,o)=>t(n,s,r,o))(Ge(e(n,r))),i):(typeof t=="number"&&(i=t),xe((n,r)=>F0(n,r,e,i)))}function Sr(e=1/0){return ft(un,e)}function O0(){return Sr(1)}function Bi(...e){return O0()(ot(e,ki(e)))}function zu(e){return new _e(t=>{Ge(e()).subscribe(t)})}function lf(...e){let t=Cr(e),{args:i,keys:n}=Wu(e),r=new _e(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let g=!1;Ge(i[h]).subscribe(he(s,d=>{g||(g=!0,l--),a[h]=d},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(n?qu(n,a):a),s.complete())}))}});return t?r.pipe(Zs(t)):r}var DD=["addListener","removeListener"],CD=["addEventListener","removeEventListener"],SD=["on","off"];function ln(e,t,i,n){if(ue(i)&&(n=i,i=void 0),n)return ln(e,t,i).pipe(Zs(n));let[r,s]=TD(e)?CD.map(o=>a=>e[o](t,a,i)):xD(e)?DD.map(R0(e,t)):ID(e)?SD.map(R0(e,t)):[];if(!r&&Ys(e))return ft(o=>ln(o,t,i))(Ge(e));if(!r)throw new TypeError("Invalid event target");return new _e(o=>{let a=(...u)=>o.next(1<u.length?u:u[0]);return r(a),()=>s(a)})}function R0(e,t){return i=>n=>e[i](t,n)}function xD(e){return ue(e.addListener)&&ue(e.removeListener)}function ID(e){return ue(e.on)&&ue(e.off)}function TD(e){return ue(e.addEventListener)&&ue(e.removeEventListener)}function ss(e=0,t,i=m0){let n=-1;return t!=null&&(Ru(t)?i=t:n=t),new _e(r=>{let s=M0(e)?+e-i.now():e;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function cf(e=0,t=ea){return e<0&&(e=0),ss(e,e,t)}function df(...e){let t=ki(e),i=v0(e,1/0),n=e;return n.length?n.length===1?Ge(n[0]):Sr(i)(ot(n,t)):Nt}var{isArray:MD}=Array;function Ku(e){return e.length===1&&MD(e[0])?e[0]:e}function lt(e,t){return xe((i,n)=>{let r=0;i.subscribe(he(n,s=>e.call(t,s,r++)&&n.next(s)))})}function Yu(...e){return e=Ku(e),e.length===1?Ge(e[0]):new _e(AD(e))}function AD(e){return t=>{let i=[];for(let n=0;i&&!t.closed&&n<e.length;n++)i.push(Ge(e[n]).subscribe(he(t,r=>{if(i){for(let s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}t.next(r)})))}}function ta(...e){let t=Cr(e),i=Ku(e);return i.length?new _e(n=>{let r=i.map(()=>[]),s=i.map(()=>!1);n.add(()=>{r=s=null});for(let o=0;!n.closed&&o<i.length;o++)Ge(i[o]).subscribe(he(n,a=>{if(r[o].push(a),r.every(u=>u.length)){let u=r.map(l=>l.shift());n.next(t?t(...u):u),r.some((l,h)=>!l.length&&s[h])&&n.complete()}},()=>{s[o]=!0,!r[o].length&&n.complete()}));return()=>{r=s=null}}):Nt}function xr(e){return xe((t,i)=>{let n=null,r=!1,s;n=t.subscribe(he(i,void 0,void 0,o=>{s=Ge(e(o,xr(e)(t))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function N0(e,t,i,n,r){return(s,o)=>{let a=i,u=t,l=0;s.subscribe(he(o,h=>{let g=l++;u=a?e(u,h,g):(a=!0,h),n&&o.next(u)},r&&(()=>{a&&o.next(u),o.complete()})))}}function tr(e,t){return ue(t)?ft(e,t,1):ft(e,1)}function Ir(e){return xe((t,i)=>{let n=!1;t.subscribe(he(i,r=>{n=!0,i.next(r)},()=>{n||i.next(e),i.complete()}))})}function Kt(e){return e<=0?()=>Nt:xe((t,i)=>{let n=0;t.subscribe(he(i,r=>{++n<=e&&(i.next(r),e<=n&&i.complete())}))})}function P0(){return xe((e,t)=>{e.subscribe(he(t,Xi))})}function na(e){return pe(()=>e)}function ff(e,t){return t?i=>Bi(t.pipe(Kt(1),P0()),i.pipe(ff(e))):ft((i,n)=>Ge(e(i,n)).pipe(Kt(1),na(i)))}function hf(e,t=ea){let i=ss(e,t);return ff(()=>i)}function pf(e,t=un){return e=e??FD,xe((i,n)=>{let r,s=!0;i.subscribe(he(n,o=>{let a=t(o);(s||!e(r,a))&&(s=!1,r=a,n.next(o))}))})}function FD(e,t){return e===t}function Ju(e=OD){return xe((t,i)=>{let n=!1;t.subscribe(he(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(e())))})}function OD(){return new er}function gf(...e){return t=>Bi(t,oe(...e))}function nr(e){return xe((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}function Vi(e,t){let i=arguments.length>=2;return n=>n.pipe(e?lt((r,s)=>e(r,s,n)):un,Kt(1),i?Ir(t):Ju(()=>new er))}function Xs(e){return e<=0?()=>Nt:xe((t,i)=>{let n=[];t.subscribe(he(i,r=>{n.push(r),e<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function mf(e,t){let i=arguments.length>=2;return n=>n.pipe(e?lt((r,s)=>e(r,s,n)):un,Xs(1),i?Ir(t):Ju(()=>new er))}function vf(e,t){return xe(N0(e,t,arguments.length>=2,!0))}function yf(e){return lt((t,i)=>e<=i)}function ia(...e){let t=ki(e);return xe((i,n)=>{(t?Bi(e,i,t):Bi(e,i)).subscribe(n)})}function mn(e,t){return xe((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(he(n,u=>{r?.unsubscribe();let l=0,h=s++;Ge(e(u,h)).subscribe(r=he(n,g=>n.next(t?t(u,g,h,l++):g),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function It(e){return xe((t,i)=>{Ge(e).subscribe(he(i,()=>i.complete(),Xi)),!i.closed&&t.subscribe(i)})}function Tt(e,t,i){let n=ue(e)||t||i?{next:e,error:t,complete:i}:e;return n?xe((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(he(s,u=>{var l;(l=n.next)===null||l===void 0||l.call(n,u),s.next(u)},()=>{var u;a=!1,(u=n.complete)===null||u===void 0||u.call(n),s.complete()},u=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,u),s.error(u)},()=>{var u,l;a&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):un}function ra(...e){let t=Cr(e);return xe((i,n)=>{let r=e.length,s=new Array(r),o=e.map(()=>!1),a=!1;for(let u=0;u<r;u++)Ge(e[u]).subscribe(he(n,l=>{s[u]=l,!a&&!o[u]&&(o[u]=!0,(a=o.every(un))&&(o=null))},Xi));i.subscribe(he(n,u=>{if(a){let l=[u,...s];n.next(t?t(...l):l)}}))})}var b1="https://g.co/ng/security#xss",ee=class extends Error{constructor(t,i){super(Rl(t,i)),this.code=t}};function Rl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function wa(e){return{toString:e}.toString()}var Zu="__parameters__";function RD(e){return function(...i){if(e){let n=e(...i);for(let r in n)this[r]=n[r]}}}function w1(e,t,i){return wa(()=>{let n=RD(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(u,l,h){let g=u.hasOwnProperty(Zu)?u[Zu]:Object.defineProperty(u,Zu,{value:[]})[Zu];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),u}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Mt=globalThis;function at(e){for(let t in e)if(e[t]===at)return t;throw Error("Could not find renamed property on target object.")}function ND(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Sn(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Sn).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i===-1?t:t.substring(0,i)}function Nf(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var PD=at({__forward_ref__:at});function dn(e){return e.__forward_ref__=dn,e.toString=function(){return Sn(this())},e}function Cn(e){return E1(e)?e():e}function E1(e){return typeof e=="function"&&e.hasOwnProperty(PD)&&e.__forward_ref__===dn}function W(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Nl(e){return k0(e,C1)||k0(e,S1)}function D1(e){return Nl(e)!==null}function k0(e,t){return e.hasOwnProperty(t)?e[t]:null}function kD(e){let t=e&&(e[C1]||e[S1]);return t||null}function B0(e){return e&&(e.hasOwnProperty(V0)||e.hasOwnProperty(BD))?e[V0]:null}var C1=at({\u0275prov:at}),V0=at({\u0275inj:at}),S1=at({ngInjectableDef:at}),BD=at({ngInjectorDef:at}),ne=class{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=W({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function x1(e){return e&&!!e.\u0275providers}var VD=at({\u0275cmp:at}),LD=at({\u0275dir:at}),jD=at({\u0275pipe:at}),HD=at({\u0275mod:at}),ll=at({\u0275fac:at}),sa=at({__NG_ELEMENT_ID__:at}),L0=at({__NG_ENV_ID__:at});function as(e){return typeof e=="string"?e:e==null?"":String(e)}function UD(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():as(e)}function $D(e,t){let i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ee(-200,e)}function Bh(e,t){throw new ee(-201,!1)}var Ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ae||{}),Pf;function I1(){return Pf}function Fn(e){let t=Pf;return Pf=e,t}function T1(e,t,i){let n=Nl(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&Ae.Optional)return null;if(t!==void 0)return t;Bh(e,"Injector")}var GD={},ua=GD,kf="__NG_DI_FLAG__",cl="ngTempTokenPath",WD="ngTokenPath",qD=/\n/gm,zD="\u0275",j0="__source",ro;function KD(){return ro}function Tr(e){let t=ro;return ro=e,t}function YD(e,t=Ae.Default){if(ro===void 0)throw new ee(-203,!1);return ro===null?T1(e,void 0,t):ro.get(e,t&Ae.Optional?null:void 0,t)}function X(e,t=Ae.Default){return(I1()||YD)(Cn(e),t)}function j(e,t=Ae.Default){return X(e,Pl(t))}function Pl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bf(e){let t=[];for(let i=0;i<e.length;i++){let n=Cn(e[i]);if(Array.isArray(n)){if(n.length===0)throw new ee(900,!1);let r,s=Ae.Default;for(let o=0;o<n.length;o++){let a=n[o],u=JD(a);typeof u=="number"?u===-1?r=a.token:s|=u:r=a}t.push(X(r,s))}else t.push(X(n))}return t}function M1(e,t){return e[kf]=t,e.prototype[kf]=t,e}function JD(e){return e[kf]}function ZD(e,t,i,n){let r=e[cl];throw t[j0]&&r.unshift(t[j0]),e.message=QD(`
`+e.message,r,i,n),e[WD]=r,e[cl]=null,e}function QD(e,t,i,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==zD?e.slice(2):e;let r=Sn(t);if(Array.isArray(t))r=t.map(Sn).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Sn(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(qD,`
  `)}`}var Ea=M1(w1("Optional"),8);var kl=M1(w1("SkipSelf"),4);function cs(e,t){let i=e.hasOwnProperty(ll);return i?e[ll]:null}function XD(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function eC(e){return e.flat(Number.POSITIVE_INFINITY)}function Vh(e,t){e.forEach(i=>Array.isArray(i)?Vh(i,t):t(i))}function A1(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function dl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tC(e,t){let i=[];for(let n=0;n<e;n++)i.push(t);return i}function nC(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(r===1)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;){let s=r-2;e[r]=e[s],r--}e[t]=i,e[t+1]=n}}function Lh(e,t,i){let n=Da(e,t);return n>=0?e[n|1]=i:(n=~n,nC(e,n,t,i)),n}function _f(e,t){let i=Da(e,t);if(i>=0)return e[i|1]}function Da(e,t){return iC(e,t,1)}function iC(e,t,i){let n=0,r=e.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=e[s<<i];if(t===o)return s<<i;o>t?r=s:n=s+1}return~(r<<i)}var oo={},On=[],ao=new ne(""),F1=new ne("",-1),O1=new ne(""),fl=class{get(t,i=ua){if(i===ua){let n=new Error(`NullInjectorError: No provider for ${Sn(t)}!`);throw n.name="NullInjectorError",n}return i}},R1=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(R1||{}),Hi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Hi||{}),Pt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Pt||{});function rC(e,t,i){let n=e.length;for(;;){let r=e.indexOf(t,i);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=t.length;if(r+s===n||e.charCodeAt(r+s)<=32)return r}i=r+1}}function Vf(e,t,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{let s=r,o=i[++n];sC(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function N1(e){return e===3||e===4||e===6}function sC(e){return e.charCodeAt(0)===64}function la(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let r=t[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?H0(e,i,r,null,t[++n]):H0(e,i,r,null,null))}}return e}function H0(e,t,i,n,r){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(e[s+1]=r);return}else if(n===e[s+1]){e[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),n!==null&&e.splice(s++,0,n),r!==null&&e.splice(s++,0,r)}var P1="ng-template";function oC(e,t,i,n){let r=0;if(n){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&rC(t[r+1].toLowerCase(),i,0)!==-1)return!0}else if(jh(e))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function jh(e){return e.type===4&&e.value!==P1}function aC(e,t,i){let n=e.type===4&&!i?P1:e.value;return t===n}function uC(e,t,i){let n=4,r=e.attrs,s=r!==null?dC(r):0,o=!1;for(let a=0;a<t.length;a++){let u=t[a];if(typeof u=="number"){if(!o&&!bi(n)&&!bi(u))return!1;if(o&&bi(u))continue;o=!1,n=u|n&1;continue}if(!o)if(n&4){if(n=2|n&1,u!==""&&!aC(e,u,i)||u===""&&t.length===1){if(bi(n))return!1;o=!0}}else if(n&8){if(r===null||!oC(e,r,u,i)){if(bi(n))return!1;o=!0}}else{let l=t[++a],h=lC(u,r,jh(e),i);if(h===-1){if(bi(n))return!1;o=!0;continue}if(l!==""){let g;if(h>s?g="":g=r[h+1].toLowerCase(),n&2&&l!==g){if(bi(n))return!1;o=!0}}}}return bi(n)||o}function bi(e){return(e&1)===0}function lC(e,t,i,n){if(t===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<t.length;){let o=t[r];if(o===e)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return fC(t,e)}function k1(e,t,i=!1){for(let n=0;n<t.length;n++)if(uC(e,t[n],i))return!0;return!1}function cC(e){let t=e.attrs;if(t!=null){let i=t.indexOf(5);if(!(i&1))return t[i+1]}return null}function dC(e){for(let t=0;t<e.length;t++){let i=e[t];if(N1(i))return t}return e.length}function fC(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if(typeof n=="number")return-1;if(n===t)return i;i++}return-1}function hC(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let r=0;r<e.length;r++)if(e[r]!==n[r])continue e;return!0}}return!1}function U0(e,t){return e?":not("+t.trim()+")":t}function pC(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if(typeof o=="string")if(n&2){let a=e[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!bi(o)&&(t+=U0(s,r),r=""),n=o,s=s||!bi(n);i++}return r!==""&&(t+=U0(s,r)),t}function gC(e){return e.map(pC).join(",")}function mC(e){let t=[],i=[],n=1,r=2;for(;n<e.length;){let s=e[n];if(typeof s=="string")r===2?s!==""&&t.push(s,e[++n]):r===8&&i.push(s);else{if(!bi(r))break;r=s}n++}return{attrs:t,classes:i}}function Re(e){return wa(()=>{let t=U1(e),i=nt(Q({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===R1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Hi.Emulated,styles:e.styles||On,_:null,schemas:e.schemas||null,tView:null,id:""});$1(i);let n=e.dependencies;return i.directiveDefs=G0(n,!1),i.pipeDefs=G0(n,!0),i.id=_C(i),i})}function vC(e){return ir(e)||V1(e)}function yC(e){return e!==null}function ke(e){return wa(()=>({type:e.type,bootstrap:e.bootstrap||On,declarations:e.declarations||On,imports:e.imports||On,exports:e.exports||On,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $0(e,t){if(e==null)return oo;let i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s,o,a=Pt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(i[s]=a!==Pt.None?[n,a]:n,t[s]=o):i[s]=n}return i}function Ne(e){return wa(()=>{let t=U1(e);return $1(t),t})}function B1(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ir(e){return e[VD]||null}function V1(e){return e[LD]||null}function L1(e){return e[jD]||null}function j1(e){let t=ir(e)||V1(e)||L1(e);return t!==null?t.standalone:!1}function H1(e,t){let i=e[HD]||null;if(!i&&t===!0)throw new Error(`Type ${Sn(e)} does not have '\u0275mod' property.`);return i}function U1(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||oo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||On,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$0(e.inputs,t),outputs:$0(e.outputs),debugInfo:null}}function $1(e){e.features?.forEach(t=>t(e))}function G0(e,t){if(!e)return null;let i=t?L1:vC;return()=>(typeof e=="function"?e():e).map(n=>i(n)).filter(yC)}function _C(e){let t=0,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of i)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Bl(e){return{\u0275providers:e}}function bC(...e){return{\u0275providers:G1(!0,e),\u0275fromNgModule:!0}}function G1(e,...t){let i=[],n=new Set,r,s=o=>{i.push(o)};return Vh(t,o=>{let a=o;Lf(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&W1(r,s),i}function W1(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:r}=e[i];Hh(r,s=>{t(s,n)})}}function Lf(e,t,i,n){if(e=Cn(e),!e)return!1;let r=null,s=B0(e),o=!s&&ir(e);if(!s&&!o){let u=e.ngModule;if(s=B0(u),s)r=u;else return!1}else{if(o&&!o.standalone)return!1;r=e}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Lf(l,t,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let l;try{Vh(s.imports,h=>{Lf(h,t,i,n)&&(l||=[],l.push(h))})}finally{}l!==void 0&&W1(l,t)}if(!a){let l=cs(r)||(()=>new r);t({provide:r,useFactory:l,deps:On},r),t({provide:O1,useValue:r,multi:!0},r),t({provide:ao,useValue:()=>X(r),multi:!0},r)}let u=s.providers;if(u!=null&&!a){let l=e;Hh(u,h=>{t(h,l)})}}else return!1;return r!==e&&e.providers!==void 0}function Hh(e,t){for(let i of e)x1(i)&&(i=i.\u0275providers),Array.isArray(i)?Hh(i,t):t(i)}var wC=at({provide:String,useValue:at});function q1(e){return e!==null&&typeof e=="object"&&wC in e}function EC(e){return!!(e&&e.useExisting)}function DC(e){return!!(e&&e.useFactory)}function uo(e){return typeof e=="function"}function CC(e){return!!e.useClass}var Vl=new ne(""),il={},SC={},bf;function Ll(){return bf===void 0&&(bf=new fl),bf}var Yt=class{},ca=class extends Yt{get destroyed(){return this._destroyed}constructor(t,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hf(t,o=>this.processProvider(o)),this.records.set(F1,eo(void 0,this)),r.has("environment")&&this.records.set(Yt,eo(void 0,this));let s=this.records.get(Vl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(O1,On,Ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let i=Tr(this),n=Fn(void 0),r;try{return t()}finally{Tr(i),Fn(n)}}get(t,i=ua,n=Ae.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(L0))return t[L0](this);n=Pl(n);let r,s=Tr(this),o=Fn(void 0);try{if(!(n&Ae.SkipSelf)){let u=this.records.get(t);if(u===void 0){let l=AC(t)&&Nl(t);l&&this.injectableDefInScope(l)?u=eo(jf(t),il):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u)}let a=n&Ae.Self?Ll():this.parent;return i=n&Ae.Optional&&i===ua?null:i,a.get(t,i)}catch(a){if(a.name==="NullInjectorError"){if((a[cl]=a[cl]||[]).unshift(Sn(t)),s)throw a;return ZD(a,t,"R3InjectorError",this.source)}else throw a}finally{Fn(o),Tr(s)}}resolveInjectorInitializers(){let t=Ve(null),i=Tr(this),n=Fn(void 0),r;try{let s=this.get(ao,On,Ae.Self);for(let o of s)o()}finally{Tr(i),Fn(n),Ve(t)}}toString(){let t=[],i=this.records;for(let n of i.keys())t.push(Sn(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(t){t=Cn(t);let i=uo(t)?t:Cn(t&&t.provide),n=IC(t);if(!uo(t)&&t.multi===!0){let r=this.records.get(i);r||(r=eo(void 0,il,!0),r.factory=()=>Bf(r.multi),this.records.set(i,r)),i=t,r.multi.push(t)}this.records.set(i,n)}hydrate(t,i){let n=Ve(null);try{return i.value===il&&(i.value=SC,i.value=i.factory()),typeof i.value=="object"&&i.value&&MC(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Ve(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let i=Cn(t.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){let i=this._onDestroyHooks.indexOf(t);i!==-1&&this._onDestroyHooks.splice(i,1)}};function jf(e){let t=Nl(e),i=t!==null?t.factory:cs(e);if(i!==null)return i;if(e instanceof ne)throw new ee(204,!1);if(e instanceof Function)return xC(e);throw new ee(204,!1)}function xC(e){if(e.length>0)throw new ee(204,!1);let i=kD(e);return i!==null?()=>i.factory(e):()=>new e}function IC(e){if(q1(e))return eo(void 0,e.useValue);{let t=z1(e);return eo(t,il)}}function z1(e,t,i){let n;if(uo(e)){let r=Cn(e);return cs(r)||jf(r)}else if(q1(e))n=()=>Cn(e.useValue);else if(DC(e))n=()=>e.useFactory(...Bf(e.deps||[]));else if(EC(e))n=()=>X(Cn(e.useExisting));else{let r=Cn(e&&(e.useClass||e.provide));if(TC(e))n=()=>new r(...Bf(e.deps));else return cs(r)||jf(r)}return n}function eo(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function TC(e){return!!e.deps}function MC(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function AC(e){return typeof e=="function"||typeof e=="object"&&e instanceof ne}function Hf(e,t){for(let i of e)Array.isArray(i)?Hf(i,t):i&&x1(i)?Hf(i.\u0275providers,t):t(i)}function Si(e,t){e instanceof ca&&e.assertNotDestroyed();let i,n=Tr(e),r=Fn(void 0);try{return t()}finally{Tr(n),Fn(r)}}function K1(){return I1()!==void 0||KD()!=null}function Uh(e){if(!K1())throw new ee(-203,!1)}function FC(e){let t=Mt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function OC(e){return typeof e=="function"}var sr=0,we=1,ge=2,cn=3,Ei=4,Wn=5,lo=6,da=7,vn=8,co=9,Di=10,vt=11,fa=12,W0=13,go=14,ni=15,Ca=16,to=17,rr=18,jl=19,Y1=20,Mr=21,wf=22,ds=23,_n=25,J1=1;var fs=7,hl=8,fo=9,yn=10,$h=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}($h||{});function us(e){return Array.isArray(e)&&typeof e[J1]=="object"}function or(e){return Array.isArray(e)&&e[J1]===!0}function Gh(e){return(e.flags&4)!==0}function Hl(e){return e.componentOffset>-1}function Ul(e){return(e.flags&1)===1}function Ar(e){return!!e.template}function RC(e){return(e[ge]&512)!==0}var Uf=class{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function Z1(e,t,i,n){t!==null?t.applyValueToInputSignal(t,n):e[i]=n}function qn(){return Q1}function Q1(e){return e.type.prototype.ngOnChanges&&(e.setInput=PC),NC}qn.ngInherit=!0;function NC(){let e=ev(this),t=e?.current;if(t){let i=e.previous;if(i===oo)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function PC(e,t,i,n,r){let s=this.declaredInputs[n],o=ev(e)||kC(e,{previous:oo,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Uf(l&&l.currentValue,i,u===oo),Z1(e,t,r,i)}var X1="__ngSimpleChanges__";function ev(e){return e[X1]||null}function kC(e,t){return e[X1]=t}var q0=null;var Li=function(e,t,i){q0?.(e,t,i)},BC="svg",VC="math",LC=!1;function jC(){return LC}function Ui(e){for(;Array.isArray(e);)e=e[sr];return e}function tv(e,t){return Ui(t[e])}function ri(e,t){return Ui(t[e.index])}function Wh(e,t){return e.data[t]}function nv(e,t){return e[t]}function Rr(e,t){let i=t[e];return us(i)?i:i[sr]}function HC(e){return(e[ge]&4)===4}function qh(e){return(e[ge]&128)===128}function UC(e){return or(e[cn])}function ho(e,t){return t==null?null:e[t]}function iv(e){e[to]=0}function $C(e){e[ge]&1024||(e[ge]|=1024,qh(e)&&ha(e))}function GC(e,t){for(;e>0;)t=t[go],e--;return t}function zh(e){return!!(e[ge]&9216||e[ds]?.dirty)}function $f(e){e[Di].changeDetectionScheduler?.notify(1),zh(e)?ha(e):e[ge]&64&&(jC()?(e[ge]|=1024,ha(e)):e[Di].changeDetectionScheduler?.notify())}function ha(e){e[Di].changeDetectionScheduler?.notify();let t=pa(e);for(;t!==null&&!(t[ge]&8192||(t[ge]|=8192,!qh(t)));)t=pa(t)}function rv(e,t){if((e[ge]&256)===256)throw new ee(911,!1);e[Mr]===null&&(e[Mr]=[]),e[Mr].push(t)}function WC(e,t){if(e[Mr]===null)return;let i=e[Mr].indexOf(t);i!==-1&&e[Mr].splice(i,1)}function pa(e){let t=e[cn];return or(t)?t[cn]:t}var Ie={lFrame:dv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qC(){return Ie.lFrame.elementDepthCount}function zC(){Ie.lFrame.elementDepthCount++}function KC(){Ie.lFrame.elementDepthCount--}function sv(){return Ie.bindingsEnabled}function ov(){return Ie.skipHydrationRootTNode!==null}function YC(e){return Ie.skipHydrationRootTNode===e}function JC(){Ie.skipHydrationRootTNode=null}function Ee(){return Ie.lFrame.lView}function wt(){return Ie.lFrame.tView}function q(e){return Ie.lFrame.contextLView=e,e[vn]}function z(e){return Ie.lFrame.contextLView=null,e}function bn(){let e=av();for(;e!==null&&e.type===64;)e=e.parent;return e}function av(){return Ie.lFrame.currentTNode}function ZC(){let e=Ie.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function _s(e,t){let i=Ie.lFrame;i.currentTNode=e,i.isParent=t}function Kh(){return Ie.lFrame.isParent}function Yh(){Ie.lFrame.isParent=!1}function QC(){return Ie.lFrame.contextLView}function Jh(){let e=Ie.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function XC(){return Ie.lFrame.bindingIndex}function eS(e){return Ie.lFrame.bindingIndex=e}function bs(){return Ie.lFrame.bindingIndex++}function Zh(e){let t=Ie.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function tS(){return Ie.lFrame.inI18n}function nS(e,t){let i=Ie.lFrame;i.bindingIndex=i.bindingRootIndex=e,Gf(t)}function iS(){return Ie.lFrame.currentDirectiveIndex}function Gf(e){Ie.lFrame.currentDirectiveIndex=e}function rS(e){let t=Ie.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function uv(){return Ie.lFrame.currentQueryIndex}function Qh(e){Ie.lFrame.currentQueryIndex=e}function sS(e){let t=e[we];return t.type===2?t.declTNode:t.type===1?e[Wn]:null}function lv(e,t,i){if(i&Ae.SkipSelf){let r=t,s=e;for(;r=r.parent,r===null&&!(i&Ae.Host);)if(r=sS(s),r===null||(s=s[go],r.type&10))break;if(r===null)return!1;t=r,e=s}let n=Ie.lFrame=cv();return n.currentTNode=t,n.lView=e,!0}function Xh(e){let t=cv(),i=e[we];Ie.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function cv(){let e=Ie.lFrame,t=e===null?null:e.child;return t===null?dv(e):t}function dv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function fv(){let e=Ie.lFrame;return Ie.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var hv=fv;function ep(){let e=fv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oS(e){return(Ie.lFrame.contextLView=GC(e,Ie.lFrame.contextLView))[vn]}function ar(){return Ie.lFrame.selectedIndex}function hs(e){Ie.lFrame.selectedIndex=e}function Sa(){let e=Ie.lFrame;return Wh(e.tView,e.selectedIndex)}function aS(){return Ie.lFrame.currentNamespace}var pv=!0;function $l(){return pv}function Gl(e){pv=e}function uS(e,t,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let o=Q1(t);(i.preOrderHooks??=[]).push(e,o),(i.preOrderCheckHooks??=[]).push(e,o)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}function Wl(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let s=e.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(e.contentHooks??=[]).push(-i,o),a&&((e.contentHooks??=[]).push(i,a),(e.contentCheckHooks??=[]).push(i,a)),u&&(e.viewHooks??=[]).push(-i,u),l&&((e.viewHooks??=[]).push(i,l),(e.viewCheckHooks??=[]).push(i,l)),h!=null&&(e.destroyHooks??=[]).push(i,h)}}function rl(e,t,i){gv(e,t,3,i)}function sl(e,t,i,n){(e[ge]&3)===i&&gv(e,t,i,n)}function Ef(e,t){let i=e[ge];(i&3)===t&&(i&=16383,i+=1,e[ge]=i)}function gv(e,t,i,n){let r=n!==void 0?e[to]&65535:0,s=n??-1,o=t.length-1,a=0;for(let u=r;u<o;u++)if(typeof t[u+1]=="number"){if(a=t[u],n!=null&&a>=n)break}else t[u]<0&&(e[to]+=65536),(a<s||s==-1)&&(lS(e,i,t,u),e[to]=(e[to]&4294901760)+u+2),u++}function z0(e,t){Li(4,e,t);let i=Ve(null);try{t.call(e)}finally{Ve(i),Li(5,e,t)}}function lS(e,t,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=e[o];r?e[ge]>>14<e[to]>>16&&(e[ge]&3)===t&&(e[ge]+=16384,z0(a,s)):z0(a,s)}var so=-1,ps=class{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function cS(e){return e instanceof ps}function dS(e){return(e.flags&8)!==0}function fS(e){return(e.flags&16)!==0}function mv(e){return e!==so}function pl(e){return e&32767}function hS(e){return e>>16}function gl(e,t){let i=hS(e),n=t;for(;i>0;)n=n[go],i--;return n}var Wf=!0;function ml(e){let t=Wf;return Wf=e,t}var pS=256,vv=pS-1,yv=5,gS=0,ji={};function mS(e,t,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(sa)&&(n=i[sa]),n==null&&(n=i[sa]=gS++);let r=n&vv,s=1<<r;t.data[e+(r>>yv)]|=s}function vl(e,t){let i=_v(e,t);if(i!==-1)return i;let n=t[we];n.firstCreatePass&&(e.injectorIndex=t.length,Df(n.data,e),Df(t,null),Df(n.blueprint,null));let r=tp(e,t),s=e.injectorIndex;if(mv(r)){let o=pl(r),a=gl(r,t),u=a[we].data;for(let l=0;l<8;l++)t[s+l]=a[o+l]|u[o+l]}return t[s+8]=r,s}function Df(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _v(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function tp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;r!==null;){if(n=Cv(r),n===null)return so;if(i++,r=r[go],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return so}function qf(e,t,i){mS(e,t,i)}function vS(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let i=e.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(N1(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===t)return i[r+1];r=r+2}}}return null}function bv(e,t,i){if(i&Ae.Optional||e!==void 0)return e;Bh(t,"NodeInjector")}function wv(e,t,i,n){if(i&Ae.Optional&&n===void 0&&(n=null),!(i&(Ae.Self|Ae.Host))){let r=e[co],s=Fn(void 0);try{return r?r.get(t,n,i&Ae.Optional):T1(t,n,i&Ae.Optional)}finally{Fn(s)}}return bv(n,t,i)}function Ev(e,t,i,n=Ae.Default,r){if(e!==null){if(t[ge]&2048&&!(n&Ae.Self)){let o=wS(e,t,i,n,ji);if(o!==ji)return o}let s=Dv(e,t,i,n,ji);if(s!==ji)return s}return wv(t,i,n,r)}function Dv(e,t,i,n,r){let s=_S(i);if(typeof s=="function"){if(!lv(t,e,n))return n&Ae.Host?bv(r,i,n):wv(t,i,n,r);try{let o;if(o=s(n),o==null&&!(n&Ae.Optional))Bh(i);else return o}finally{hv()}}else if(typeof s=="number"){let o=null,a=_v(e,t),u=so,l=n&Ae.Host?t[ni][Wn]:null;for((a===-1||n&Ae.SkipSelf)&&(u=a===-1?tp(e,t):t[a+8],u===so||!Y0(n,!1)?a=-1:(o=t[we],a=pl(u),t=gl(u,t)));a!==-1;){let h=t[we];if(K0(s,a,h.data)){let g=yS(a,t,i,o,n,l);if(g!==ji)return g}u=t[a+8],u!==so&&Y0(n,t[we].data[a+8]===l)&&K0(s,a,t)?(o=h,a=pl(u),t=gl(u,t)):a=-1}}return r}function yS(e,t,i,n,r,s){let o=t[we],a=o.data[e+8],u=n==null?Hl(a)&&Wf:n!=o&&(a.type&3)!==0,l=r&Ae.Host&&s===a,h=ol(a,o,i,u,l);return h!==null?gs(t,o,h,a):ji}function ol(e,t,i,n,r){let s=e.providerIndexes,o=t.data,a=s&1048575,u=e.directiveStart,l=e.directiveEnd,h=s>>20,g=n?a:a+h,d=r?a+h:l;for(let f=g;f<d;f++){let v=o[f];if(f<u&&i===v||f>=u&&v.type===i)return f}if(r){let f=o[u];if(f&&Ar(f)&&f.type===i)return u}return null}function gs(e,t,i,n){let r=e[i],s=t.data;if(cS(r)){let o=r;o.resolving&&$D(UD(s[i]));let a=ml(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Fn(o.injectImpl):null,h=lv(e,n,Ae.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&uS(i,s[i],t)}finally{l!==null&&Fn(l),ml(a),o.resolving=!1,hv()}}return r}function _S(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(sa)?e[sa]:void 0;return typeof t=="number"?t>=0?t&vv:bS:t}function K0(e,t,i){let n=1<<e;return!!(i[t+(e>>yv)]&n)}function Y0(e,t){return!(e&Ae.Self)&&!(e&Ae.Host&&t)}var ls=class{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return Ev(this._tNode,this._lView,t,Pl(n),i)}};function bS(){return new ls(bn(),Ee())}function kt(e){return wa(()=>{let t=e.prototype.constructor,i=t[ll]||zf(t),n=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){let s=r[ll]||zf(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function zf(e){return E1(e)?()=>{let t=zf(Cn(e));return t&&t()}:cs(e)}function wS(e,t,i,n,r){let s=e,o=t;for(;s!==null&&o!==null&&o[ge]&2048&&!(o[ge]&512);){let a=Dv(s,o,i,n|Ae.Self,ji);if(a!==ji)return a;let u=s.parent;if(!u){let l=o[Y1];if(l){let h=l.get(i,ji,n);if(h!==ji)return h}u=Cv(o),o=o[go]}s=u}return r}function Cv(e){let t=e[we],i=t.type;return i===2?t.declTNode:i===1?e[Wn]:null}function ws(e){return vS(bn(),e)}function J0(e,t=null,i=null,n){let r=Sv(e,t,i,n);return r.resolveInjectorInitializers(),r}function Sv(e,t=null,i=null,n,r=new Set){let s=[i||On,bC(e)];return n=n||(typeof e=="object"?void 0:Sn(e)),new ca(s,t||Ll(),n||null,r)}var Bt=(()=>{let t=class t{static create(n,r){if(Array.isArray(n))return J0({name:""},r,n,"");{let s=n.name??"";return J0({name:s},n.parent,n.providers,s)}}};t.THROW_IF_NOT_FOUND=ua,t.NULL=new fl,t.\u0275prov=W({token:t,providedIn:"any",factory:()=>X(F1)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var ES="ngOriginalError";function Cf(e){return e[ES]}var ii=class{constructor(){this._console=console}handleError(t){let i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&Cf(t);for(;i&&Cf(i);)i=Cf(i);return i||null}},xv=new ne("",{providedIn:"root",factory:()=>j(ii).handleError.bind(void 0)}),Nr=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=DS,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),Kf=class extends Nr{constructor(t){super(),this._lView=t}onDestroy(t){return rv(this._lView,t),()=>WC(this._lView,t)}};function DS(){return new Kf(Ee())}function CS(){return mo(bn(),Ee())}function mo(e,t){return new ht(ri(e,t))}var ht=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=CS;let e=t;return e})();function SS(e){return e instanceof ht?e.nativeElement:e}var Yf=class extends Qe{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,K1()&&(this.destroyRef=j(Nr,{optional:!0})??void 0)}emit(t){let i=Ve(null);try{super.next(t)}finally{Ve(i)}}subscribe(t,i,n){let r=t,s=i||(()=>null),o=n;if(t&&typeof t=="object"){let u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Sf(s),r&&(r=Sf(r)),o&&(o=Sf(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof xt&&t.add(a),a}};function Sf(e){return t=>{setTimeout(e,void 0,t)}}var Fe=Yf;function xS(){return this._results[Symbol.iterator]()}var Jf=class e{get changes(){return this._changes??=new Fe}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=e.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=xS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;let n=eC(t);(this._changesDetected=!XD(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Iv(e){return(e.flags&128)===128}var Tv=new Map,IS=0;function TS(){return IS++}function MS(e){Tv.set(e[jl],e)}function AS(e){Tv.delete(e[jl])}var Z0="__ngContext__";function Fr(e,t){us(t)?(e[Z0]=t[jl],MS(t)):e[Z0]=t}function Mv(e){return Fv(e[fa])}function Av(e){return Fv(e[Ei])}function Fv(e){for(;e!==null&&!or(e);)e=e[Ei];return e}var Zf;function Ov(e){Zf=e}function FS(){if(Zf!==void 0)return Zf;if(typeof document<"u")return document;throw new ee(210,!1)}var ql=new ne("",{providedIn:"root",factory:()=>OS}),OS="ng",np=new ne(""),xi=new ne("",{providedIn:"platform",factory:()=>"unknown"});var ip=new ne("",{providedIn:"root",factory:()=>FS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var RS="h",NS="b";var PS=()=>null;function rp(e,t,i=!1){return PS(e,t,i)}var Rv=!1,kS=new ne("",{providedIn:"root",factory:()=>Rv});var Qu;function BS(){if(Qu===void 0&&(Qu=null,Mt.trustedTypes))try{Qu=Mt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Qu}function VS(e){return BS()?.createScriptURL(e)||e}var Xu;function LS(){if(Xu===void 0&&(Xu=null,Mt.trustedTypes))try{Xu=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xu}function Q0(e){return LS()?.createScriptURL(e)||e}var yl=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${b1})`}};function vo(e){return e instanceof yl?e.changingThisBreaksApplicationSecurity:e}function sp(e,t){let i=jS(e);if(i!=null&&i!==t){if(i==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${b1})`)}return i===t}function jS(e){return e instanceof yl&&e.getTypeName()||null}var HS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nv(e){return e=String(e),e.match(HS)?e:"unsafe:"+e}var zl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(zl||{});function Gi(e){let t=Bv();return t?t.sanitize(zl.URL,e)||"":sp(e,"URL")?vo(e):Nv(as(e))}function US(e){let t=Bv();if(t)return Q0(t.sanitize(zl.RESOURCE_URL,e)||"");if(sp(e,"ResourceURL"))return Q0(vo(e));throw new ee(904,!1)}function Pv(e){return VS(e[0])}function $S(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?US:Gi}function kv(e,t,i){return $S(t,i)(e)}function Bv(){let e=Ee();return e&&e[Di].sanitizer}var GS=/^>|^->|<!--|-->|--!>|<!-$/g,WS=/(<|>)/g,qS="\u200B$1\u200B";function zS(e){return e.replace(GS,t=>t.replace(WS,qS))}function Vv(e){return e instanceof Function?e():e}function KS(e){return(e??j(Bt)).get(xi)==="browser"}var $i=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($i||{}),YS;function op(e,t){return YS(e,t)}function no(e,t,i,n,r){if(n!=null){let s,o=!1;or(n)?s=n:us(n)&&(o=!0,n=n[sr]);let a=Ui(n);e===0&&i!==null?r==null?$v(t,i,a):_l(t,i,a,r||null,!0):e===1&&i!==null?_l(t,i,a,r||null,!0):e===2?dx(t,a,o):e===3&&t.destroyNode(a),s!=null&&hx(t,e,s,i,r)}}function JS(e,t){return e.createText(t)}function ZS(e,t,i){e.setValue(t,i)}function QS(e,t){return e.createComment(zS(t))}function Lv(e,t,i){return e.createElement(t,i)}function XS(e,t){jv(e,t),t[sr]=null,t[Wn]=null}function ex(e,t,i,n,r,s){n[sr]=r,n[Wn]=t,Jl(e,n,i,1,r,s)}function jv(e,t){t[Di].changeDetectionScheduler?.notify(1),Jl(e,t,t[vt],2,null,null)}function tx(e){let t=e[fa];if(!t)return xf(e[we],e);for(;t;){let i=null;if(us(t))i=t[fa];else{let n=t[yn];n&&(i=n)}if(!i){for(;t&&!t[Ei]&&t!==e;)us(t)&&xf(t[we],t),t=t[cn];t===null&&(t=e),us(t)&&xf(t[we],t),i=t&&t[Ei]}t=i}}function nx(e,t,i,n){let r=yn+n,s=i.length;n>0&&(i[r-1][Ei]=t),n<s-yn?(t[Ei]=i[r],A1(i,yn+n,t)):(i.push(t),t[Ei]=null),t[cn]=i;let o=t[Ca];o!==null&&i!==o&&ix(o,t);let a=t[rr];a!==null&&a.insertView(e),$f(t),t[ge]|=128}function ix(e,t){let i=e[fo],r=t[cn][cn][ni];t[ni]!==r&&(e[ge]|=$h.HasTransplantedViews),i===null?e[fo]=[t]:i.push(t)}function Hv(e,t){let i=e[fo],n=i.indexOf(t);i.splice(n,1)}function ga(e,t){if(e.length<=yn)return;let i=yn+t,n=e[i];if(n){let r=n[Ca];r!==null&&r!==e&&Hv(r,n),t>0&&(e[i-1][Ei]=n[Ei]);let s=dl(e,yn+t);XS(n[we],n);let o=s[rr];o!==null&&o.detachView(s[we]),n[cn]=null,n[Ei]=null,n[ge]&=-129}return n}function Kl(e,t){if(!(t[ge]&256)){let i=t[vt];i.destroyNode&&Jl(e,t,i,3,null,null),tx(t)}}function xf(e,t){if(t[ge]&256)return;let i=Ve(null);try{t[ge]&=-129,t[ge]|=256,t[ds]&&a0(t[ds]),sx(e,t),rx(e,t),t[we].type===1&&t[vt].destroy();let n=t[Ca];if(n!==null&&or(t[cn])){n!==t[cn]&&Hv(n,t);let r=t[rr];r!==null&&r.detachView(e)}AS(t)}finally{Ve(i)}}function rx(e,t){let i=e.cleanup,n=t[da];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(t[da]=null);let r=t[Mr];if(r!==null){t[Mr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function sx(e,t){let i;if(e!=null&&(i=e.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=t[i[n]];if(!(r instanceof ps)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],u=s[o+1];Li(4,a,u);try{u.call(a)}finally{Li(5,a,u)}}else{Li(4,r,s);try{s.call(r)}finally{Li(5,r,s)}}}}}function Uv(e,t,i){return ox(e,t.parent,i)}function ox(e,t,i){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return i[sr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=e.data[n.directiveStart+r];if(s===Hi.None||s===Hi.Emulated)return null}return ri(n,i)}}function _l(e,t,i,n,r){e.insertBefore(t,i,n,r)}function $v(e,t,i){e.appendChild(t,i)}function X0(e,t,i,n,r){n!==null?_l(e,t,i,n,r):$v(e,t,i)}function ax(e,t,i,n){e.removeChild(t,i,n)}function ap(e,t){return e.parentNode(t)}function ux(e,t){return e.nextSibling(t)}function Gv(e,t,i){return cx(e,t,i)}function lx(e,t,i){return e.type&40?ri(e,i):null}var cx=lx,e1;function Yl(e,t,i,n){let r=Uv(e,n,t),s=t[vt],o=n.parent||t[Wn],a=Gv(o,n,t);if(r!=null)if(Array.isArray(i))for(let u=0;u<i.length;u++)X0(s,r,i[u],a,!1);else X0(s,r,i,a,!1);e1!==void 0&&e1(s,n,t,i,r)}function al(e,t){if(t!==null){let i=t.type;if(i&3)return ri(t,e);if(i&4)return Qf(-1,e[t.index]);if(i&8){let n=t.child;if(n!==null)return al(e,n);{let r=e[t.index];return or(r)?Qf(-1,r):Ui(r)}}else{if(i&32)return op(t,e)()||Ui(e[t.index]);{let n=Wv(e,t);if(n!==null){if(Array.isArray(n))return n[0];let r=pa(e[ni]);return al(r,n)}else return al(e,t.next)}}}return null}function Wv(e,t){if(t!==null){let n=e[ni][Wn],r=t.projection;return n.projection[r]}return null}function Qf(e,t){let i=yn+e+1;if(i<t.length){let n=t[i],r=n[we].firstChild;if(r!==null)return al(n,r)}return t[fs]}function dx(e,t,i){let n=ap(e,t);n&&ax(e,n,t,i)}function up(e,t,i,n,r,s,o){for(;i!=null;){let a=n[i.index],u=i.type;if(o&&t===0&&(a&&Fr(Ui(a),n),i.flags|=2),(i.flags&32)!==32)if(u&8)up(e,t,i.child,n,r,s,!1),no(t,e,r,a,s);else if(u&32){let l=op(i,n),h;for(;h=l();)no(t,e,r,h,s);no(t,e,r,a,s)}else u&16?qv(e,t,n,i,r,s):no(t,e,r,a,s);i=o?i.projectionNext:i.next}}function Jl(e,t,i,n,r,s){up(i,n,e.firstChild,t,r,s,!1)}function fx(e,t,i){let n=t[vt],r=Uv(e,i,t),s=i.parent||t[Wn],o=Gv(s,i,t);qv(n,0,t,i,r,o)}function qv(e,t,i,n,r,s){let o=i[ni],u=o[Wn].projection[n.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];no(t,e,r,h,s)}else{let l=u,h=o[cn];Iv(n)&&(l.flags|=128),up(e,t,l,h,r,s,!0)}}function hx(e,t,i,n,r){let s=i[fs],o=Ui(i);s!==o&&no(t,e,n,s,r);for(let a=yn;a<i.length;a++){let u=i[a];Jl(u[we],u,e,t,n,s)}}function px(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:$i.DashCase;r==null?e.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=$i.Important),e.setStyle(i,n,r,s))}}function gx(e,t,i){e.setAttribute(t,"style",i)}function zv(e,t,i){i===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function Kv(e,t,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&Vf(e,t,n),r!==null&&zv(e,t,r),s!==null&&gx(e,t,s)}var zn={};function P(e=1){Yv(wt(),Ee(),ar()+e,!1)}function Yv(e,t,i,n){if(!n)if((t[ge]&3)===3){let s=e.preOrderCheckHooks;s!==null&&rl(t,s,i)}else{let s=e.preOrderHooks;s!==null&&sl(t,s,0,i)}hs(i)}function J(e,t=Ae.Default){let i=Ee();if(i===null)return X(e,t);let n=bn();return Ev(n,i,Cn(e),t)}function Jv(){let e="invalid";throw new Error(e)}function Zv(e,t,i,n,r,s){let o=Ve(null);try{let a=null;r&Pt.SignalBased&&(a=t[n][qd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Pt.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(t,s)),e.setInput!==null?e.setInput(t,a,s,i,n):Z1(t,a,n,s)}finally{Ve(o)}}function mx(e,t){let i=e.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)hs(~r);else{let s=r,o=i[++n],a=i[++n];nS(o,s);let u=t[s];a(2,u)}}}finally{hs(-1)}}function Zl(e,t,i,n,r,s,o,a,u,l,h){let g=t.blueprint.slice();return g[sr]=r,g[ge]=n|4|128|8|64,(l!==null||e&&e[ge]&2048)&&(g[ge]|=2048),iv(g),g[cn]=g[go]=e,g[vn]=i,g[Di]=o||e&&e[Di],g[vt]=a||e&&e[vt],g[co]=u||e&&e[co]||null,g[Wn]=s,g[jl]=TS(),g[lo]=h,g[Y1]=l,g[ni]=t.type==2?e[ni]:g,g}function yo(e,t,i,n,r){let s=e.data[t];if(s===null)s=vx(e,t,i,n,r),tS()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=ZC();s.injectorIndex=o===null?-1:o.injectorIndex}return _s(s,!0),s}function vx(e,t,i,n,r){let s=av(),o=Kh(),a=o?s:s&&s.parent,u=e.data[t]=Dx(e,a,i,t,n,r);return e.firstChild===null&&(e.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Qv(e,t,i,n){if(i===0)return-1;let r=t.length;for(let s=0;s<i;s++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function Xv(e,t,i,n,r){let s=ar(),o=n&2;try{hs(-1),o&&t.length>_n&&Yv(e,t,_n,!1),Li(o?2:0,r),i(n,r)}finally{hs(s),Li(o?3:1,r)}}function lp(e,t,i){if(Gh(t)){let n=Ve(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=e.data[o];if(a.contentQueries){let u=i[o];a.contentQueries(1,u,o)}}}finally{Ve(n)}}}function cp(e,t,i){sv()&&(Mx(e,t,i,ri(i,t)),(i.flags&64)===64&&ny(e,t,i))}function dp(e,t,i=ri){let n=t.localNames;if(n!==null){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(t,e):e[o];e[r++]=a}}}function ey(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=fp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function fp(e,t,i,n,r,s,o,a,u,l,h){let g=_n+n,d=g+r,f=yx(g,d),v=typeof l=="function"?l():l;return f[we]={type:e,blueprint:f,template:i,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1,ssrId:h}}function yx(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:zn);return i}function _x(e,t,i,n){let s=n.get(kS,Rv)||i===Hi.ShadowDom,o=e.selectRootElement(t,s);return bx(o),o}function bx(e){wx(e)}var wx=()=>null;function Ex(e,t,i,n){let r=sy(t);r.push(i),e.firstCreatePass&&oy(e).push(n,r.length-1)}function Dx(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return ov()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function t1(e,t,i,n,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;n??={};let a,u=Pt.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}e===0?n1(n,i,l,a,u):n1(n,i,l,a)}return n}function n1(e,t,i,n,r){let s;e.hasOwnProperty(i)?(s=e[i]).push(t,n):s=e[i]=[t,n],r!==void 0&&s.push(r)}function Cx(e,t,i){let n=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],u=null,l=null;for(let h=n;h<r;h++){let g=s[h],d=i?i.get(g):null,f=d?d.inputs:null,v=d?d.outputs:null;u=t1(0,g.inputs,h,u,f),l=t1(1,g.outputs,h,l,v);let p=u!==null&&o!==null&&!jh(t)?jx(u,h,o):null;a.push(p)}u!==null&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=l}function Sx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ql(e,t,i,n,r,s,o,a){let u=ri(t,i),l=t.inputs,h;!a&&l!=null&&(h=l[n])?(pp(e,i,h,n,r),Hl(t)&&xx(i,t.index)):t.type&3?(n=Sx(n),r=o!=null?o(r,t.value||"",n):r,s.setProperty(u,n,r)):t.type&12}function xx(e,t){let i=Rr(t,e);i[ge]&16||(i[ge]|=64)}function hp(e,t,i,n){if(sv()){let r=n===null?null:{"":-1},s=Fx(e,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&ty(e,t,i,o,r,a),r&&Ox(i,n,r)}i.mergedAttrs=la(i.mergedAttrs,i.attrs)}function ty(e,t,i,n,r,s){for(let l=0;l<n.length;l++)qf(vl(i,t),e,n[l].type);Nx(i,e.data.length,n.length);for(let l=0;l<n.length;l++){let h=n[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=Qv(e,t,n.length,null);for(let l=0;l<n.length;l++){let h=n[l];i.mergedAttrs=la(i.mergedAttrs,h.hostAttrs),Px(e,i,t,u,h),Rx(u,h,r),h.contentQueries!==null&&(i.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(i.flags|=64);let g=h.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),u++}Cx(e,i,s)}function Ix(e,t,i,n,r){let s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;Tx(o)!=a&&o.push(a),o.push(i,n,s)}}function Tx(e){let t=e.length;for(;t>0;){let i=e[--t];if(typeof i=="number"&&i<0)return i}return 0}function Mx(e,t,i,n){let r=i.directiveStart,s=i.directiveEnd;Hl(i)&&kx(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||vl(i,t),Fr(n,t);let o=i.initialInputs;for(let a=r;a<s;a++){let u=e.data[a],l=gs(t,e,a,i);if(Fr(l,t),o!==null&&Lx(t,a-r,l,u,i,o),Ar(u)){let h=Rr(i.index,t);h[vn]=gs(t,e,a,i)}}}function ny(e,t,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=iS();try{hs(s);for(let a=n;a<r;a++){let u=e.data[a],l=t[a];Gf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Ax(u,l)}}finally{hs(-1),Gf(o)}}function Ax(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Fx(e,t){let i=e.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(k1(t,o.selectors,!1))if(n||(n=[]),Ar(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let u=a.length;Xf(e,t,u)}else n.unshift(o),Xf(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function Xf(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function Ox(e,t,i){if(t){let n=e.localNames=[];for(let r=0;r<t.length;r+=2){let s=i[t[r+1]];if(s==null)throw new ee(-301,!1);n.push(t[r],s)}}}function Rx(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Ar(t)&&(i[""]=e)}}function Nx(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Px(e,t,i,n,r){e.data[n]=r;let s=r.factory||(r.factory=cs(r.type,!0)),o=new ps(s,Ar(r),J);e.blueprint[n]=o,i[n]=o,Ix(e,t,n,Qv(e,i,r.hostVars,zn),r)}function kx(e,t,i){let n=ri(t,e),r=ey(i),s=e[Di].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=Xl(e,Zl(e,r,null,o,n,t,null,s.createRenderer(n,i),null,null,null));e[t.index]=a}function Bx(e,t,i,n,r,s){let o=ri(e,t);Vx(t[vt],o,s,e.value,i,n,r)}function Vx(e,t,i,n,r,s,o){if(s==null)e.removeAttribute(t,r,i);else{let a=o==null?as(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}function Lx(e,t,i,n,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],g=o[a++];Zv(n,i,u,l,h,g)}}function jx(e,t,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){n===null&&(n=[]);let o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function iy(e,t,i,n){return[e,!0,0,t,null,n,null,i,null,null]}function ry(e,t){let i=e.contentQueries;if(i!==null){let n=Ve(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=e.data[o];Qh(s),a.contentQueries(2,t[o],o)}}}finally{Ve(n)}}}function Xl(e,t){return e[fa]?e[W0][Ei]=t:e[fa]=t,e[W0]=t,t}function eh(e,t,i){Qh(0);let n=Ve(null);try{t(e,i)}finally{Ve(n)}}function sy(e){return e[da]||(e[da]=[])}function oy(e){return e.cleanup||(e.cleanup=[])}function ay(e,t){let i=e[co],n=i?i.get(ii,null):null;n&&n.handleError(t)}function pp(e,t,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],u=i[s++],l=t[o],h=e.data[o];Zv(h,l,n,a,u,r)}}function uy(e,t,i){let n=tv(t,e);ZS(e[vt],n,i)}function Hx(e,t){let i=Rr(t,e),n=i[we];Ux(n,i);let r=i[sr];r!==null&&i[lo]===null&&(i[lo]=rp(r,i[co])),gp(n,i,i[vn])}function Ux(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}function gp(e,t,i){Xh(t);try{let n=e.viewQuery;n!==null&&eh(1,n,i);let r=e.template;r!==null&&Xv(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[rr]?.finishViewCreation(e),e.staticContentQueries&&ry(e,t),e.staticViewQueries&&eh(2,e.viewQuery,i);let s=e.components;s!==null&&$x(t,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[ge]&=-5,ep()}}function $x(e,t){for(let i=0;i<t.length;i++)Hx(e,t[i])}function ec(e,t,i,n){let r=Ve(null);try{let s=t.tView,a=e[ge]&4096?4096:16,u=Zl(e,s,i,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=e[t.index];u[Ca]=l;let h=e[rr];return h!==null&&(u[rr]=h.createEmbeddedView(s)),gp(s,u,i),u}finally{Ve(r)}}function ly(e,t){let i=yn+t;if(i<e.length)return e[i]}function ma(e,t){return!t||t.firstChild===null||Iv(e)}function tc(e,t,i,n=!0){let r=t[we];if(nx(r,t,e,i),n){let o=Qf(i,e),a=t[vt],u=ap(a,e[fs]);u!==null&&ex(r,e[Wn],a,t,u,o)}let s=t[lo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cy(e,t){let i=ga(e,t);return i!==void 0&&Kl(i[we],i),i}function bl(e,t,i,n,r=!1){for(;i!==null;){let s=t[i.index];s!==null&&n.push(Ui(s)),or(s)&&Gx(s,n);let o=i.type;if(o&8)bl(e,t,i.child,n);else if(o&32){let a=op(i,t),u;for(;u=a();)n.push(u)}else if(o&16){let a=Wv(t,i);if(Array.isArray(a))n.push(...a);else{let u=pa(t[ni]);bl(u[we],u,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function Gx(e,t){for(let i=yn;i<e.length;i++){let n=e[i],r=n[we].firstChild;r!==null&&bl(n[we],n,r,t)}e[fs]!==e[sr]&&t.push(e[fs])}var dy=[];function Wx(e){return e[ds]??qx(e)}function qx(e){let t=dy.pop()??Object.create(Kx);return t.lView=e,t}function zx(e){e.lView[ds]!==e&&(e.lView=null,dy.push(e))}var Kx=nt(Q({},r0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ha(e.lView)},consumerOnSignalRead(){this.lView[ds]=this}}),fy=100;function hy(e,t=!0,i=0){let n=e[Di],r=n.rendererFactory,s=!1;s||r.begin?.();try{Yx(e,i)}catch(o){throw t&&ay(e,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function Yx(e,t){th(e,t);let i=0;for(;zh(e);){if(i===fy)throw new ee(103,!1);i++,th(e,1)}}function Jx(e,t,i,n){let r=t[ge];if((r&256)===256)return;let s=!1;!s&&t[Di].inlineEffectRunner?.flush(),Xh(t);let o=null,a=null;!s&&Zx(e)&&(a=Wx(t),o=s0(a));try{iv(t),eS(e.bindingStartIndex),i!==null&&Xv(e,t,i,2,n);let u=(r&3)===3;if(!s)if(u){let g=e.preOrderCheckHooks;g!==null&&rl(t,g,null)}else{let g=e.preOrderHooks;g!==null&&sl(t,g,0,null),Ef(t,0)}if(Qx(t),py(t,0),e.contentQueries!==null&&ry(e,t),!s)if(u){let g=e.contentCheckHooks;g!==null&&rl(t,g)}else{let g=e.contentHooks;g!==null&&sl(t,g,1),Ef(t,1)}mx(e,t);let l=e.components;l!==null&&my(t,l,0);let h=e.viewQuery;if(h!==null&&eh(2,h,n),!s)if(u){let g=e.viewCheckHooks;g!==null&&rl(t,g)}else{let g=e.viewHooks;g!==null&&sl(t,g,2),Ef(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[wf]){for(let g of t[wf])g();t[wf]=null}s||(t[ge]&=-73)}catch(u){throw ha(t),u}finally{a!==null&&(o0(a,o),zx(a)),ep()}}function Zx(e){return e.type!==2}function py(e,t){for(let i=Mv(e);i!==null;i=Av(i))for(let n=yn;n<i.length;n++){let r=i[n];gy(r,t)}}function Qx(e){for(let t=Mv(e);t!==null;t=Av(t)){if(!(t[ge]&$h.HasTransplantedViews))continue;let i=t[fo];for(let n=0;n<i.length;n++){let r=i[n],s=r[cn];$C(r)}}}function Xx(e,t,i){let n=Rr(t,e);gy(n,i)}function gy(e,t){qh(e)&&th(e,t)}function th(e,t){let n=e[we],r=e[ge],s=e[ds],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&zd(s)),s&&(s.dirty=!1),e[ge]&=-9217,o)Jx(n,e,n.template,e[vn]);else if(r&8192){py(e,1);let a=n.components;a!==null&&my(e,a,1)}}function my(e,t,i){for(let n=0;n<t.length;n++)Xx(e,t[n],i)}function mp(e){for(e[Di].changeDetectionScheduler?.notify();e;){e[ge]|=64;let t=pa(e);if(RC(e)&&!t)return e;e=t}return null}var ms=class{get rootNodes(){let t=this._lView,i=t[we];return bl(i,t,i.firstChild,[])}constructor(t,i,n=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(t){this._lView[vn]=t}get destroyed(){return(this._lView[ge]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[cn];if(or(t)){let i=t[hl],n=i?i.indexOf(this):-1;n>-1&&(ga(t,n),dl(i,n))}this._attachedToViewContainer=!1}Kl(this._lView[we],this._lView)}onDestroy(t){rv(this._lView,t)}markForCheck(){mp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ge]&=-129}reattach(){$f(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,hy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,jv(this._lView[we],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t,$f(this._lView)}},Ci=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=n2;let e=t;return e})(),e2=Ci,t2=class extends e2{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,n){let r=ec(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:n});return new ms(r)}};function n2(){return nc(bn(),Ee())}function nc(e,t){return e.type&4?new t2(t,e,mo(e,t)):null}var H9=new RegExp(`^(\\d+)*(${NS}|${RS})*(.*)`);var i2=()=>null;function va(e,t){return i2(e,t)}var wl=class{},nh=class{},El=class{};function r2(e){let t=Error(`No component factory found for ${Sn(e)}.`);return t[s2]=e,t}var s2="ngComponent";var ih=class{resolveComponentFactory(t){throw r2(t)}},ic=(()=>{let t=class t{};t.NULL=new ih;let e=t;return e})(),ya=class{},Wi=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>o2();let e=t;return e})();function o2(){let e=Ee(),t=bn(),i=Rr(t.index,e);return(us(i)?i:e)[vt]}var a2=(()=>{let t=class t{};t.\u0275prov=W({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),If={};var i1=new Set;function _o(e){i1.has(e)||(i1.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function r1(...e){}function u2(){let e=typeof Mt.requestAnimationFrame=="function",t=Mt[e?"requestAnimationFrame":"setTimeout"],i=Mt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&i){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}var He=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=u2().nativeRequestAnimationFrame,d2(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ee(909,!1)}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,l2,r1,r1);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}},l2={};function vp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function c2(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Mt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rh(e),e.isCheckStableRunning=!0,vp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rh(e))}function d2(e){let t=()=>{c2(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(f2(a))return i.invokeTask(r,s,o,a);try{return s1(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),o1(e)}},onInvoke:(i,n,r,s,o,a,u)=>{try{return s1(e),i.invoke(r,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),o1(e)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,rh(e),vp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function rh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function s1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function o1(e){e._nesting--,vp(e)}var sh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,r){return t.apply(i,n)}};function f2(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function h2(e="zone.js",t){return e==="noop"?new sh:e==="zone.js"?new He(t):e}var io=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(io||{}),p2={destroy(){}};function yp(e,t){!t&&Uh(yp);let i=t?.injector??j(Bt);if(!KS(i))return p2;_o("NgAfterNextRender");let n=i.get(_p),r=n.handler??=new ah,s=t?.phase??io.MixedReadWrite,o=()=>{r.unregister(u),a()},a=i.get(Nr).onDestroy(o),u=Si(i,()=>new oh(s,()=>{o(),e()}));return r.register(u),{destroy:o}}var oh=class{constructor(t,i){this.phase=t,this.callbackFn=i,this.zone=j(He),this.errorHandler=j(ii,{optional:!0}),j(wl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},ah=class{constructor(){this.executingCallbacks=!1,this.buckets={[io.EarlyRead]:new Set,[io.Write]:new Set,[io.MixedReadWrite]:new Set,[io.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let i of t)i.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},_p=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=W({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function Dl(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=Nf(r,a);else if(s==2){let u=a,l=t[++o];n=Nf(n,u+": "+l+";")}}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}var Cl=class extends ic{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let i=ir(t);return new vs(i,this.ngModule)}};function a1(e){let t=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let n=e[i];n!==void 0&&t.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return t}function g2(e){let t=e.toLowerCase();return t==="svg"?BC:t==="math"?VC:null}var uh=class{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,n){n=Pl(n);let r=this.injector.get(t,If,n);return r!==If||i===If?r:this.parentInjector.get(t,i,n)}},vs=class extends El{get inputs(){let t=this.componentDef,i=t.inputTransforms,n=a1(t.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return a1(this.componentDef.outputs)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=gC(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,n,r){let s=Ve(null);try{r=r||this.ngModule;let o=r instanceof Yt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new uh(t,o):t,u=a.get(ya,null);if(u===null)throw new ee(407,!1);let l=a.get(a2,null),h=a.get(_p,null),g=a.get(wl,null),d={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:g},f=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",p=n?_x(f,n,this.componentDef.encapsulation,a):Lv(f,v,g2(v)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let m=null;p!==null&&(m=rp(p,a,!0));let b=fp(0,null,null,1,0,null,null,null,null,null,null),E=Zl(null,b,null,y,null,null,d,f,a,null,m);Xh(E);let D,C;try{let O=this.componentDef,k,_=null;O.findHostDirectiveDefs?(k=[],_=new Map,O.findHostDirectiveDefs(O,k,_),k.push(O)):k=[O];let w=m2(E,p),S=v2(w,p,O,k,E,d,f);C=Wh(b,_n),p&&b2(f,O,p,n),i!==void 0&&w2(C,this.ngContentSelectors,i),D=_2(S,O,k,_,E,[E2]),gp(b,E,null)}finally{ep()}return new lh(this.componentType,D,mo(C,E),E,C)}finally{Ve(s)}}},lh=class extends nh{constructor(t,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new ms(r,void 0,!1),this.componentType=t}setInput(t,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;let s=this._rootLView;pp(s[we],s,r,t,i),this.previousInputValues.set(t,i);let o=Rr(this._tNode.index,s);mp(o)}}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function m2(e,t){let i=e[we],n=_n;return e[n]=t,yo(i,n,2,"#host",null)}function v2(e,t,i,n,r,s,o){let a=r[we];y2(n,e,t,o);let u=null;t!==null&&(u=rp(t,r[co]));let l=s.rendererFactory.createRenderer(t,i),h=16;i.signals?h=4096:i.onPush&&(h=64);let g=Zl(r,ey(i),null,h,r[e.index],e,s,l,null,null,u);return a.firstCreatePass&&Xf(a,e,n.length-1),Xl(r,g),r[e.index]=g}function y2(e,t,i,n){for(let r of e)t.mergedAttrs=la(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Dl(t,t.mergedAttrs,!0),i!==null&&Kv(n,i,t))}function _2(e,t,i,n,r,s){let o=bn(),a=r[we],u=ri(o,r);ty(a,r,o,i,null,n);for(let h=0;h<i.length;h++){let g=o.directiveStart+h,d=gs(r,a,g,o);Fr(d,r)}ny(a,r,o),u&&Fr(u,r);let l=gs(r,a,o.directiveStart+o.componentOffset,o);if(e[vn]=r[vn]=l,s!==null)for(let h of s)h(l,t);return lp(a,o,r),l}function b2(e,t,i,n){if(n)Vf(e,i,["ng-version","17.3.1"]);else{let{attrs:r,classes:s}=mC(t.selectors[0]);r&&Vf(e,i,r),s&&s.length>0&&zv(e,i,s.join(" "))}}function w2(e,t,i){let n=e.projection=[];for(let r=0;r<t.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function E2(){let e=bn();Wl(Ee()[we],e)}var Ii=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=D2;let e=t;return e})();function D2(){let e=bn();return yy(e,Ee())}var C2=Ii,vy=class extends C2{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return mo(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){let t=tp(this._hostTNode,this._hostLView);if(mv(t)){let i=gl(t,this._hostLView),n=pl(t),r=i[we].data[n+8];return new ls(r,i)}else return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let i=u1(this._lContainer);return i!==null&&i[t]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(t,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=va(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,ma(this._hostTNode,o)),a}createComponent(t,i,n,r,s){let o=t&&!OC(t),a;if(o)a=i;else{let v=i||{};a=v.index,n=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let u=o?t:new vs(ir(t)),l=n||this.parentInjector;if(!s&&u.ngModule==null){let p=(o?l:this.parentInjector).get(Yt,null);p&&(s=p)}let h=ir(u.componentType??{}),g=va(this._lContainer,h?.id??null),d=g?.firstChild??null,f=u.create(l,r,d,s);return this.insertImpl(f.hostView,a,ma(this._hostTNode,g)),f}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,n){let r=t._lView;if(UC(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let u=r[cn],l=new vy(u,u[Wn],u[cn]);l.detach(l.indexOf(t))}}let s=this._adjustIndex(i),o=this._lContainer;return tc(o,r,s,n),t.attachToViewContainerRef(),A1(Tf(o),s,t),t}move(t,i){return this.insert(t,i)}indexOf(t){let i=u1(this._lContainer);return i!==null?i.indexOf(t):-1}remove(t){let i=this._adjustIndex(t,-1),n=ga(this._lContainer,i);n&&(dl(Tf(this._lContainer),i),Kl(n[we],n))}detach(t){let i=this._adjustIndex(t,-1),n=ga(this._lContainer,i);return n&&dl(Tf(this._lContainer),i)!=null?new ms(n):null}_adjustIndex(t,i=0){return t??this.length+i}};function u1(e){return e[hl]}function Tf(e){return e[hl]||(e[hl]=[])}function yy(e,t){let i,n=t[e.index];return or(n)?i=n:(i=iy(n,t,null,e),t[e.index]=i,Xl(t,i)),x2(i,t,e,n),new vy(i,e,t)}function S2(e,t){let i=e[vt],n=i.createComment(""),r=ri(t,e),s=ap(i,r);return _l(i,s,n,ux(i,r),!1),n}var x2=M2,I2=()=>!1;function T2(e,t,i){return I2(e,t,i)}function M2(e,t,i,n){if(e[fs])return;let r;i.type&8?r=Ui(n):r=S2(t,i),e[fs]=r}var ch=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},dh=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let i=t.queries;if(i!==null){let n=t.contentQueries!==null?t.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)bp(t,i).matches!==null&&this.queries[i].setDirty()}},Sl=class{constructor(t,i,n=null){this.flags=i,this.read=n,typeof t=="string"?this.predicate=B2(t):this.predicate=t}},fh=class e{constructor(t=[]){this.queries=t}elementStart(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new e(i):null}template(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},hh=class e{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(t,i,A2(i,s)),this.matchTNodeWithReadOption(t,i,ol(i,t,s,!1,!1))}else n===Ci?i.type&4&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,ol(i,t,n,!1,!1))}matchTNodeWithReadOption(t,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===ht||r===Ii||r===Ci&&i.type&4)this.addMatch(i.index,-2);else{let s=ol(i,t,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(t,i){this.matches===null?this.matches=[t,i]:this.matches.push(t,i)}};function A2(e,t){let i=e.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1]}return null}function F2(e,t){return e.type&11?mo(e,t):e.type&4?nc(e,t):null}function O2(e,t,i,n){return i===-1?F2(t,e):i===-2?R2(e,t,n):gs(e,e[we],i,t)}function R2(e,t,i){if(i===ht)return mo(t,e);if(i===Ci)return nc(t,e);if(i===Ii)return yy(t,e)}function _y(e,t,i,n){let r=t[rr].queries[n];if(r.matches===null){let s=e.data,o=i.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(O2(t,h,o[u+1],i.metadata.read))}}r.matches=a}return r.matches}function ph(e,t,i,n){let r=e.queries.getByIndex(i),s=r.matches;if(s!==null){let o=_y(e,t,r,i);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)n.push(o[a/2]);else{let l=s[a+1],h=t[-u];for(let g=yn;g<h.length;g++){let d=h[g];d[Ca]===d[cn]&&ph(d[we],d,l,n)}if(h[fo]!==null){let g=h[fo];for(let d=0;d<g.length;d++){let f=g[d];ph(f[we],f,l,n)}}}}}return n}function N2(e,t){return e[rr].queries[t].queryList}function by(e,t,i){let n=new Jf((i&4)===4);return Ex(e,t,n,n.destroy),(t[rr]??=new dh).queries.push(new ch(n))-1}function P2(e,t,i){let n=wt();return n.firstCreatePass&&(wy(n,new Sl(e,t,i),-1),(t&2)===2&&(n.staticViewQueries=!0)),by(n,Ee(),t)}function k2(e,t,i,n){let r=wt();if(r.firstCreatePass){let s=bn();wy(r,new Sl(t,i,n),s.index),V2(r,e),(i&2)===2&&(r.staticContentQueries=!0)}return by(r,Ee(),i)}function B2(e){return e.split(",").map(t=>t.trim())}function wy(e,t,i){e.queries===null&&(e.queries=new fh),e.queries.track(new hh(t,i))}function V2(e,t){let i=e.contentQueries||(e.contentQueries=[]),n=i.length?i[i.length-1]:-1;t!==n&&i.push(e.queries.length-1,t)}function bp(e,t){return e.queries.getByIndex(t)}function L2(e,t){let i=e[we],n=bp(i,t);return n.crossesNgTemplate?ph(i,e,t,[]):_y(i,e,n,t)}function j2(e){return typeof e=="function"&&e[qd]!==void 0}function Ey(e){return j2(e)&&typeof e.set=="function"}function H2(e){let t=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=e(r);i.set(r,s=o.then(W2))}return s}return xl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,h=r.styleUrls;r.styleUrls.forEach((g,d)=>{a.push(""),o.push(n(g).then(f=>{a[l+d]=f,h.splice(h.indexOf(g),1),h.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let u=Promise.all(o).then(()=>q2(s));t.push(u)}),$2(),Promise.all(t).then(()=>{})}var xl=new Map,U2=new Set;function $2(){let e=xl;return xl=new Map,e}function G2(){return xl.size===0}function W2(e){return typeof e=="string"?e:e.text()}function q2(e){U2.delete(e)}function z2(e){return Object.getPrototypeOf(e.prototype).constructor}function fn(e){let t=z2(e.type),i=!0,n=[e];for(;t;){let r;if(Ar(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ee(903,!1);r=t.\u0275dir}if(r){if(i){n.push(r);let o=e;o.inputs=el(e.inputs),o.inputTransforms=el(e.inputTransforms),o.declaredInputs=el(e.declaredInputs),o.outputs=el(e.outputs);let a=r.hostBindings;a&&Q2(e,a);let u=r.viewQuery,l=r.contentQueries;if(u&&J2(e,u),l&&Z2(e,l),K2(e,r),ND(e.outputs,r.outputs),Ar(r)&&r.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===fn&&(i=!1)}}t=Object.getPrototypeOf(t)}Y2(n)}function K2(e,t){for(let i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;let n=t.inputs[i];if(n!==void 0&&(e.inputs[i]=n,e.declaredInputs[i]=t.declaredInputs[i],t.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function Y2(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=la(r.hostAttrs,i=la(i,r.hostAttrs))}}function el(e){return e===oo?{}:e===On?[]:e}function J2(e,t){let i=e.viewQuery;i?e.viewQuery=(n,r)=>{t(n,r),i(n,r)}:e.viewQuery=t}function Z2(e,t){let i=e.contentQueries;i?e.contentQueries=(n,r,s)=>{t(n,r,s),i(n,r,s)}:e.contentQueries=t}function Q2(e,t){let i=e.hostBindings;i?e.hostBindings=(n,r)=>{t(n,r),i(n,r)}:e.hostBindings=t}function wp(e){let t=e.inputConfig,i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}e.inputTransforms=i}var Or=class{},_a=class{};var Il=class extends Or{constructor(t,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cl(this);let r=H1(t);this._bootstrapComponents=Vv(r.bootstrap),this._r3Injector=Sv(t,i,[{provide:Or,useValue:this},{provide:ic,useValue:this.componentFactoryResolver},...n],Sn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Tl=class extends _a{constructor(t){super(),this.moduleType=t}create(t){return new Il(this.moduleType,t,[])}};function X2(e,t,i){return new Il(e,t,i)}var gh=class extends Or{constructor(t){super(),this.componentFactoryResolver=new Cl(this),this.instance=null;let i=new ca([...t.providers,{provide:Or,useValue:this},{provide:ic,useValue:this.componentFactoryResolver}],t.parent||Ll(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function rc(e,t,i=null){return new gh({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}var Es=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Dy(e){return Ep(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function eI(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i=e[Symbol.iterator](),n;for(;!(n=i.next()).done;)t(n.value)}}function Ep(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Dp(e,t,i){return e[t]=i}function tI(e,t){return e[t]}function Gn(e,t,i){let n=e[t];return Object.is(n,i)?!1:(e[t]=i,!0)}function Cy(e,t,i,n){let r=Gn(e,t,i);return Gn(e,t+1,n)||r}function nI(e,t,i,n,r){let s=Cy(e,t,i,n);return Gn(e,t+2,r)||s}function iI(e){return(e.flags&32)===32}function rI(e,t,i,n,r,s,o,a,u){let l=t.consts,h=yo(t,e,4,o||null,ho(l,a));hp(t,i,h,ho(l,u)),Wl(t,h);let g=h.tView=fp(2,h,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,h),g.queries=t.queries.embeddedTView(h)),h}function te(e,t,i,n,r,s,o,a){let u=Ee(),l=wt(),h=e+_n,g=l.firstCreatePass?rI(h,l,u,t,i,n,r,s,o):l.data[h];_s(g,!1);let d=sI(l,u,g,e);$l()&&Yl(l,u,d,g),Fr(d,u);let f=iy(d,u,d,g);return u[h]=f,Xl(u,f),T2(f,g,u),Ul(g)&&cp(l,u,g),o!=null&&dp(u,g,a),te}var sI=oI;function oI(e,t,i,n){return Gl(!0),t[vt].createComment("")}function wn(e,t,i,n){let r=Ee(),s=bs();if(Gn(r,s,t)){let o=wt(),a=Sa();Bx(a,r,e,t,i,n)}return wn}function Sy(e,t,i,n){return Gn(e,bs(),i)?t+as(i)+n:zn}function aI(e,t,i,n,r,s,o,a){let u=XC(),l=nI(e,u,i,r,o);return Zh(3),l?t+as(i)+n+as(r)+s+as(o)+a:zn}function tl(e,t){return e<<17|t<<2}function ys(e){return e>>17&32767}function uI(e){return(e&2)==2}function lI(e,t){return e&131071|t<<17}function mh(e){return e|2}function po(e){return(e&131068)>>2}function Mf(e,t){return e&-131069|t<<2}function cI(e){return(e&1)===1}function vh(e){return e|1}function dI(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=ys(o),u=po(o);e[n]=i;let l=!1,h;if(Array.isArray(i)){let g=i;h=g[1],(h===null||Da(g,h)>0)&&(l=!0)}else h=i;if(r)if(u!==0){let d=ys(e[a+1]);e[n+1]=tl(d,a),d!==0&&(e[d+1]=Mf(e[d+1],n)),e[a+1]=lI(e[a+1],n)}else e[n+1]=tl(a,0),a!==0&&(e[a+1]=Mf(e[a+1],n)),a=n;else e[n+1]=tl(u,0),a===0?a=n:e[u+1]=Mf(e[u+1],n),u=n;l&&(e[n+1]=mh(e[n+1])),l1(e,h,n,!0),l1(e,h,n,!1),fI(t,h,e,n,s),o=tl(a,u),s?t.classBindings=o:t.styleBindings=o}function fI(e,t,i,n,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Da(s,t)>=0&&(i[n+1]=vh(i[n+1]))}function l1(e,t,i,n){let r=e[i+1],s=t===null,o=n?ys(r):po(r),a=!1;for(;o!==0&&(a===!1||s);){let u=e[o],l=e[o+1];hI(u,t)&&(a=!0,e[o+1]=n?vh(l):mh(l)),o=n?ys(l):po(l)}a&&(e[i+1]=n?mh(r):vh(r))}function hI(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Da(e,t)>=0:!1}var wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pI(e){return e.substring(wi.key,wi.keyEnd)}function gI(e){return mI(e),xy(e,Iy(e,0,wi.textEnd))}function xy(e,t){let i=wi.textEnd;return i===t?-1:(t=wi.keyEnd=vI(e,wi.key=t,i),Iy(e,t,i))}function mI(e){wi.key=0,wi.keyEnd=0,wi.value=0,wi.valueEnd=0,wi.textEnd=e.length}function Iy(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function vI(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}function U(e,t,i){let n=Ee(),r=bs();if(Gn(n,r,t)){let s=wt(),o=Sa();Ql(s,o,n,e,t,n[vt],i,!1)}return U}function yh(e,t,i,n,r){let s=t.inputs,o=r?"class":"style";pp(e,i,s[o],o,n)}function En(e,t){return _I(e,t,null,!0),En}function sc(e){bI(xI,yI,e,!0)}function yI(e,t){for(let i=gI(t);i>=0;i=xy(t,i))Lh(e,pI(t),!0)}function _I(e,t,i,n){let r=Ee(),s=wt(),o=Zh(2);if(s.firstUpdatePass&&My(s,e,o,n),t!==zn&&Gn(r,o,t)){let a=s.data[ar()];Ay(s,a,r,r[vt],e,r[o+1]=TI(t,i),n,o)}}function bI(e,t,i,n){let r=wt(),s=Zh(2);r.firstUpdatePass&&My(r,null,s,n);let o=Ee();if(i!==zn&&Gn(o,s,i)){let a=r.data[ar()];if(Fy(a,n)&&!Ty(r,s)){let u=n?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(i=Nf(u,i||"")),yh(r,a,o,i,n)}else II(r,a,o,o[vt],o[s+1],o[s+1]=SI(e,t,i),n,s)}}function Ty(e,t){return t>=e.expandoStartIndex}function My(e,t,i,n){let r=e.data;if(r[i+1]===null){let s=r[ar()],o=Ty(e,i);Fy(s,n)&&t===null&&!o&&(t=!1),t=wI(r,s,t,n),dI(r,s,t,i,o,n)}}function wI(e,t,i,n){let r=rS(e),s=n?t.residualClasses:t.residualStyles;if(r===null)(n?t.classBindings:t.styleBindings)===0&&(i=Af(null,e,t,i,n),i=ba(i,t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==r)if(i=Af(r,e,t,i,n),s===null){let u=EI(e,t,n);u!==void 0&&Array.isArray(u)&&(u=Af(null,e,t,u[1],n),u=ba(u,t.attrs,n),DI(e,t,n,u))}else s=CI(e,t,n)}return s!==void 0&&(n?t.residualClasses=s:t.residualStyles=s),i}function EI(e,t,i){let n=i?t.classBindings:t.styleBindings;if(po(n)!==0)return e[ys(n)]}function DI(e,t,i,n){let r=i?t.classBindings:t.styleBindings;e[ys(r)]=n}function CI(e,t,i){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=e[s].hostAttrs;n=ba(n,o,i)}return ba(n,t.attrs,i)}function Af(e,t,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=t[a],n=ba(n,s.hostAttrs,r),s!==e);)a++;return e!==null&&(i.directiveStylingLast=a),n}function ba(e,t,i){let n=i?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Lh(e,o,i?!0:t[++s]))}return e===void 0?null:e}function SI(e,t,i){if(i==null||i==="")return On;let n=[],r=vo(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(n,s,r[s]);else typeof r=="string"&&t(n,r);return n}function xI(e,t,i){let n=String(t);n!==""&&!n.includes(" ")&&Lh(e,n,i)}function II(e,t,i,n,r,s,o,a){r===zn&&(r=On);let u=0,l=0,h=0<r.length?r[0]:null,g=0<s.length?s[0]:null;for(;h!==null||g!==null;){let d=u<r.length?r[u+1]:void 0,f=l<s.length?s[l+1]:void 0,v=null,p;h===g?(u+=2,l+=2,d!==f&&(v=g,p=f)):g===null||h!==null&&h<g?(u+=2,v=h):(l+=2,v=g,p=f),v!==null&&Ay(e,t,i,n,v,p,o,a),h=u<r.length?r[u]:null,g=l<s.length?s[l]:null}}function Ay(e,t,i,n,r,s,o,a){if(!(t.type&3))return;let u=e.data,l=u[a+1],h=cI(l)?c1(u,t,i,r,po(l),o):void 0;if(!Ml(h)){Ml(s)||uI(l)&&(s=c1(u,null,i,r,a,o));let g=tv(ar(),i);px(n,o,g,r,s)}}function c1(e,t,i,n,r,s){let o=t===null,a;for(;r>0;){let u=e[r],l=Array.isArray(u),h=l?u[1]:u,g=h===null,d=i[r+1];d===zn&&(d=g?On:void 0);let f=g?_f(d,n):h===n?d:void 0;if(l&&!Ml(f)&&(f=_f(u,n)),Ml(f)&&(a=f,o))return a;let v=e[r+1];r=o?ys(v):po(v)}if(t!==null){let u=s?t.residualClasses:t.residualStyles;u!=null&&(a=_f(u,n))}return a}function Ml(e){return e!==void 0}function TI(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Sn(vo(e)))),e}function Fy(e,t){return(e.flags&(t?8:16))!==0}var _h=class{destroy(t){}updateValue(t,i){}swap(t,i){let n=Math.min(t,i),r=Math.max(t,i),s=this.detach(r);if(r-n>1){let o=this.detach(n);this.attach(n,s),this.attach(r,o)}else this.attach(n,s)}move(t,i){this.attach(i,this.detach(t))}};function Ff(e,t,i,n,r){return e===i&&Object.is(t,n)?1:Object.is(r(e,t),r(i,n))?-1:0}function MI(e,t,i){let n,r,s=0,o=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;s<=o&&s<=a;){let u=e.at(s),l=t[s],h=Ff(s,u,s,l,i);if(h!==0){h<0&&e.updateValue(s,l),s++;continue}let g=e.at(o),d=t[a],f=Ff(o,g,a,d,i);if(f!==0){f<0&&e.updateValue(o,d),o--,a--;continue}let v=i(s,u),p=i(o,g),y=i(s,l);if(Object.is(y,p)){let m=i(a,d);Object.is(m,v)?(e.swap(s,o),e.updateValue(o,d),a--,o--):e.move(o,s),e.updateValue(s,l),s++;continue}if(n??=new Al,r??=f1(e,s,o,i),bh(e,n,s,y))e.updateValue(s,l),s++,o++;else if(r.has(y))n.set(v,e.detach(s)),o--;else{let m=e.create(s,t[s]);e.attach(s,m),s++,o++}}for(;s<=a;)d1(e,n,i,s,t[s]),s++}else if(t!=null){let a=t[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let l=e.at(s),h=u.value,g=Ff(s,l,s,h,i);if(g!==0)g<0&&e.updateValue(s,h),s++,u=a.next();else{n??=new Al,r??=f1(e,s,o,i);let d=i(s,h);if(bh(e,n,s,d))e.updateValue(s,h),s++,o++,u=a.next();else if(!r.has(d))e.attach(s,e.create(s,h)),s++,o++,u=a.next();else{let f=i(s,l);n.set(f,e.detach(s)),o--}}}for(;!u.done;)d1(e,n,i,e.length,u.value),u=a.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach(a=>{e.destroy(a)})}function bh(e,t,i,n){return t!==void 0&&t.has(n)?(e.attach(i,t.get(n)),t.delete(n),!0):!1}function d1(e,t,i,n,r){if(bh(e,t,n,i(n,r)))e.updateValue(n,r);else{let s=e.create(n,r);e.attach(n,s)}}function f1(e,t,i,n){let r=new Set;for(let s=t;s<=i;s++)r.add(n(s,e.at(s)));return r}var Al=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let i=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(i)?(this.kvMap.set(t,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,i){if(this.kvMap.has(t)){let n=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,i)}else this.kvMap.set(t,i)}forEach(t){for(let[i,n]of this.kvMap)if(t(n,i),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),t(n,i)}}};function ve(e,t,i){_o("NgControlFlow");let n=Ee(),r=bs(),s=Ch(n,_n+e),o=0;if(Gn(n,r,t)){let a=Ve(null);try{if(cy(s,o),t!==-1){let u=Sh(n[we],_n+t),l=va(s,u.tView.ssrId),h=ec(n,u,i,{dehydratedView:l});tc(s,h,o,ma(u,l))}}finally{Ve(a)}}else{let a=ly(s,o);a!==void 0&&(a[vn]=i)}}var wh=class{constructor(t,i,n){this.lContainer=t,this.$implicit=i,this.$index=n}get $count(){return this.lContainer.length-yn}};function ct(e){return e}function Rn(e,t){return t}var Eh=class{constructor(t,i,n){this.hasEmptyBlock=t,this.trackByFn=i,this.liveCollection=n}};function Te(e,t,i,n,r,s,o,a,u,l,h,g,d){_o("NgControlFlow");let f=u!==void 0,v=Ee(),p=a?o.bind(v[ni][vn]):o,y=new Eh(f,p);v[_n+e]=y,te(e+1,t,i,n,r,s),f&&te(e+2,u,l,h,g,d)}var Dh=class extends _h{constructor(t,i,n){super(),this.lContainer=t,this.hostLView=i,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-yn}at(t){return this.getLView(t)[vn].$implicit}attach(t,i){let n=i[lo];this.needsIndexUpdate||=t!==this.length,tc(this.lContainer,i,t,ma(this.templateTNode,n))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,AI(this.lContainer,t)}create(t,i){let n=va(this.lContainer,this.templateTNode.tView.ssrId);return ec(this.hostLView,this.templateTNode,new wh(this.lContainer,i,t),{dehydratedView:n})}destroy(t){Kl(t[we],t)}updateValue(t,i){this.getLView(t)[vn].$implicit=i}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[vn].$index=t}getLView(t){return FI(this.lContainer,t)}};function Me(e){let t=Ve(null),i=ar();try{let n=Ee(),r=n[we],s=n[i];if(s.liveCollection===void 0){let a=i+1,u=Ch(n,a),l=Sh(r,a);s.liveCollection=new Dh(u,n,l)}else s.liveCollection.reset();let o=s.liveCollection;if(MI(o,e,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=bs(),u=o.length===0;if(Gn(n,a,u)){let l=i+2,h=Ch(n,l);if(u){let g=Sh(r,l),d=va(h,g.tView.ssrId),f=ec(n,g,void 0,{dehydratedView:d});tc(h,f,0,ma(g,d))}else cy(h,0)}}}finally{Ve(t)}}function Ch(e,t){return e[t]}function AI(e,t){return ga(e,t)}function FI(e,t){return ly(e,t)}function Sh(e,t){return Wh(e,t)}function OI(e,t,i,n,r,s){let o=t.consts,a=ho(o,r),u=yo(t,e,2,n,a);return hp(t,i,u,ho(o,s)),u.attrs!==null&&Dl(u,u.attrs,!1),u.mergedAttrs!==null&&Dl(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function M(e,t,i,n){let r=Ee(),s=wt(),o=_n+e,a=r[vt],u=s.firstCreatePass?OI(o,s,r,t,i,n):s.data[o],l=RI(s,r,u,a,t,e);r[o]=l;let h=Ul(u);return _s(u,!0),Kv(a,l,u),!iI(u)&&$l()&&Yl(s,r,l,u),qC()===0&&Fr(l,r),zC(),h&&(cp(s,r,u),lp(s,u,r)),n!==null&&dp(r,u),M}function F(){let e=bn();Kh()?Yh():(e=e.parent,_s(e,!1));let t=e;YC(t)&&JC(),KC();let i=wt();return i.firstCreatePass&&(Wl(i,e),Gh(e)&&i.queries.elementEnd(e)),t.classesWithoutHost!=null&&dS(t)&&yh(i,t,Ee(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&fS(t)&&yh(i,t,Ee(),t.stylesWithoutHost,!1),F}function ye(e,t,i,n){return M(e,t,i,n),F(),ye}var RI=(e,t,i,n,r,s)=>(Gl(!0),Lv(n,r,aS()));function NI(e,t,i,n,r){let s=t.consts,o=ho(s,n),a=yo(t,e,8,"ng-container",o);o!==null&&Dl(a,o,!0);let u=ho(s,r);return hp(t,i,a,u),t.queries!==null&&t.queries.elementStart(t,a),a}function oc(e,t,i){let n=Ee(),r=wt(),s=e+_n,o=r.firstCreatePass?NI(s,r,n,t,i):r.data[s];_s(o,!0);let a=PI(r,n,o,e);return n[s]=a,$l()&&Yl(r,n,a,o),Fr(a,n),Ul(o)&&(cp(r,n,o),lp(r,o,n)),i!=null&&dp(n,o),oc}function ac(){let e=bn(),t=wt();return Kh()?Yh():(e=e.parent,_s(e,!1)),t.firstCreatePass&&(Wl(t,e),Gh(e)&&t.queries.elementEnd(e)),ac}var PI=(e,t,i,n)=>(Gl(!0),QS(t[vt],""));function Ue(){return Ee()}function xa(e,t,i){let n=Ee(),r=bs();if(Gn(n,r,t)){let s=wt(),o=Sa();Ql(s,o,n,e,t,n[vt],i,!0)}return xa}var os=void 0;function kI(e){let t=e,i=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var BI=["en",[["a","p"],["AM","PM"],os],[["AM","PM"],os,os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",os,"{1} 'at' {0}",os],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",kI],oa={};function Oy(e,t,i){typeof t!="string"&&(i=t,t=e[bt.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),oa[t]=e,i&&(oa[t][bt.ExtraData]=i)}function si(e){let t=VI(e),i=h1(t);if(i)return i;let n=t.split("-")[0];if(i=h1(n),i)return i;if(n==="en")return BI;throw new ee(701,!1)}function h1(e){return e in oa||(oa[e]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[e]),oa[e]}var bt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(bt||{});function VI(e){return e.toLowerCase().replace(/_/g,"-")}var Fl="en-US";var LI=Fl;function jI(e){typeof e=="string"&&(LI=e.toLowerCase().replace(/_/g,"-"))}function Z(e,t,i,n){let r=Ee(),s=wt(),o=bn();return Ry(s,r,r[vt],o,e,t,n),Z}function HI(e,t,i,n){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=t[da],u=r[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function Ry(e,t,i,n,r,s,o){let a=Ul(n),l=e.firstCreatePass&&oy(e),h=t[vn],g=sy(t),d=!0;if(n.type&3||o){let p=ri(n,t),y=o?o(p):p,m=g.length,b=o?D=>o(Ui(D[n.index])):n.index,E=null;if(!o&&a&&(E=HI(e,t,r,n.index)),E!==null){let D=E.__ngLastListenerFn__||E;D.__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,d=!1}else{s=g1(n,t,h,s,!1);let D=i.listen(y,r,s);g.push(s,D),l&&l.push(r,b,m,m+1)}}else s=g1(n,t,h,s,!1);let f=n.outputs,v;if(d&&f!==null&&(v=f[r])){let p=v.length;if(p)for(let y=0;y<p;y+=2){let m=v[y],b=v[y+1],C=t[m][b].subscribe(s),O=g.length;g.push(s,C),l&&l.push(r,n.index,O,-(O+1))}}}function p1(e,t,i,n){let r=Ve(null);try{return Li(6,t,i),i(n)!==!1}catch(s){return ay(e,s),!1}finally{Li(7,t,i),Ve(r)}}function g1(e,t,i,n,r){return function s(o){if(o===Function)return n;let a=e.componentOffset>-1?Rr(e.index,t):t;mp(a);let u=p1(t,i,n,o),l=s.__ngNextListenerFn__;for(;l;)u=p1(t,i,l,o)&&u,l=l.__ngNextListenerFn__;return r&&u===!1&&o.preventDefault(),u}}function $(e=1){return oS(e)}function UI(e,t){let i=null,n=cC(e);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){i=r;continue}if(n===null?k1(e,s,!0):hC(n,s))return r}return i}function Ny(e){let t=Ee()[ni][Wn];if(!t.projection){let i=e?e.length:1,n=t.projection=tC(i,null),r=n.slice(),s=t.child;for(;s!==null;){let o=e?UI(s,e):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function Py(e,t=0,i){let n=Ee(),r=wt(),s=yo(r,_n+e,16,null,i||null);s.projection===null&&(s.projection=t),Yh(),(!n[lo]||ov())&&(s.flags&32)!==32&&fx(r,n,s)}function qi(e,t,i){return ky(e,"",t,"",i),qi}function ky(e,t,i,n,r){let s=Ee(),o=Sy(s,t,i,n);if(o!==zn){let a=wt(),u=Sa();Ql(a,u,s,e,o,s[vt],r,!1)}return ky}function bo(e,t,i,n){k2(e,t,i,n)}function Ds(e,t,i){P2(e,t,i)}function oi(e){let t=Ee(),i=wt(),n=uv();Qh(n+1);let r=bp(i,n);if(e.dirty&&HC(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=L2(t,n);e.reset(s,SS),e.notifyOnChanges()}return!0}return!1}function ai(){return N2(Ee(),uv())}function $I(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}function wo(e){let t=QC();return nv(t,_n+e)}function L(e,t=""){let i=Ee(),n=wt(),r=e+_n,s=n.firstCreatePass?yo(n,r,1,t,null):n.data[r],o=GI(n,i,s,t,e);i[r]=o,$l()&&Yl(n,i,o,s),_s(s,!1)}var GI=(e,t,i,n,r)=>(Gl(!0),JS(t[vt],n));function de(e){return it("",e,""),de}function it(e,t,i){let n=Ee(),r=Sy(n,e,t,i);return r!==zn&&uy(n,ar(),r),it}function Cp(e,t,i,n,r,s,o){let a=Ee(),u=aI(a,e,t,i,n,r,s,o);return u!==zn&&uy(a,ar(),u),Cp}function le(e,t,i){Ey(t)&&(t=t());let n=Ee(),r=bs();if(Gn(n,r,t)){let s=wt(),o=Sa();Ql(s,o,n,e,t,n[vt],i,!1)}return le}function fe(e,t){let i=Ey(e);return i&&e.set(t),i}function ce(e,t){let i=Ee(),n=wt(),r=bn();return Ry(n,i,i[vt],r,e,t),ce}function WI(e,t,i){let n=wt();if(n.firstCreatePass){let r=Ar(e);xh(i,n.data,n.blueprint,r,!0),xh(t,n.data,n.blueprint,r,!1)}}function xh(e,t,i,n,r){if(e=Cn(e),Array.isArray(e))for(let s=0;s<e.length;s++)xh(e[s],t,i,n,r);else{let s=wt(),o=Ee(),a=bn(),u=uo(e)?e:Cn(e.provide),l=z1(e),h=a.providerIndexes&1048575,g=a.directiveStart,d=a.providerIndexes>>20;if(uo(e)||!e.multi){let f=new ps(l,r,J),v=Rf(u,t,r?h:h+d,g);v===-1?(qf(vl(a,o),s,u),Of(s,e,t.length),t.push(u),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(f),o.push(f)):(i[v]=f,o[v]=f)}else{let f=Rf(u,t,h+d,g),v=Rf(u,t,h,h+d),p=f>=0&&i[f],y=v>=0&&i[v];if(r&&!y||!r&&!p){qf(vl(a,o),s,u);let m=KI(r?zI:qI,i.length,r,n,l);!r&&y&&(i[v].providerFactory=m),Of(s,e,t.length,0),t.push(u),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(m),o.push(m)}else{let m=By(i[r?v:f],l,!r&&n);Of(s,e,f>-1?f:v,m)}!r&&n&&y&&i[v].componentProviders++}}}function Of(e,t,i,n){let r=uo(t),s=CC(t);if(r||s){let u=(s?Cn(t.useClass):t).prototype.ngOnDestroy;if(u){let l=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let h=l.indexOf(i);h===-1?l.push(i,[n,u]):l[h+1].push(n,u)}else l.push(i,u)}}}function By(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function Rf(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function qI(e,t,i,n){return Ih(this.multi,[])}function zI(e,t,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=gs(i,i[we],this.providerFactory.index,n);s=a.slice(0,o),Ih(r,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ih(r,s);return s}function Ih(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function KI(e,t,i,n,r){let s=new ps(e,i,J);return s.multi=[],s.index=t,s.componentProviders=0,By(s,r,n&&!i),s}function Nn(e,t=[]){return i=>{i.providersResolver=(n,r)=>WI(n,r?r(e):e,t)}}var YI=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=G1(!1,n.type),s=r.length>0?rc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(X(Yt))});let e=t;return e})();function Ti(e){_o("NgStandalone"),e.getStandaloneInjector=t=>t.get(YI).getOrCreateStandaloneInjector(e)}function De(e,t,i){let n=Jh()+e,r=Ee();return r[n]===zn?Dp(r,n,i?t.call(i):t()):tI(r,n)}function Sp(e,t,i,n){return JI(Ee(),Jh(),e,t,i,n)}function Vy(e,t){let i=e[t];return i===zn?void 0:i}function JI(e,t,i,n,r,s){let o=t+i;return Gn(e,o,r)?Dp(e,o+1,s?n.call(s,r):n(r)):Vy(e,o+1)}function ZI(e,t,i,n,r,s,o){let a=t+i;return Cy(e,a,r,s)?Dp(e,a+2,o?n.call(o,r,s):n(r,s)):Vy(e,a+2)}function xp(e,t){let i=wt(),n,r=e+_n;i.firstCreatePass?(n=QI(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=cs(n.type,!0)),o,a=Fn(J);try{let u=ml(!1),l=s();return ml(u),$I(i,Ee(),r,l),l}finally{Fn(a)}}function QI(e,t){if(t)for(let i=t.length-1;i>=0;i--){let n=t[i];if(e===n.name)return n}}function Ly(e,t,i,n){let r=e+_n,s=Ee(),o=nv(s,r);return XI(s,r)?ZI(s,Jh(),t,o.transform,i,n,o):o.transform(i,n)}function XI(e,t){return e[we].data[t].pure}function Ia(e,t){return nc(e,t)}var nl=null;function eT(e){nl!==null&&(e.defaultEncapsulation!==nl.defaultEncapsulation||e.preserveWhitespaces!==nl.preserveWhitespaces)||(nl=e)}var uc=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var Ip=new ne(""),Ta=new ne(""),lc=(()=>{let t=class t{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Tp||(tT(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};t.\u0275fac=function(r){return new(r||t)(X(He),X(cc),X(Ta))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),cc=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Tp?.findTestabilityInTree(this,n,r)??null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function tT(e){Tp=e}var Tp;function Cs(e){return!!e&&typeof e.then=="function"}function jy(e){return!!e&&typeof e.subscribe=="function"}var dc=new ne(""),Hy=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(dc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(Cs(o))n.push(o);else if(jy(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fc=new ne("");function nT(){u0(()=>{throw new ee(600,!1)})}function iT(e){return e.isBoundToModule}function rT(e,t,i){try{let n=i();return Cs(n)?n.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}function Uy(e,t){return Array.isArray(t)?t.reduce(Uy,e):Q(Q({},e),t)}var ur=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(xv),this.afterRenderEffectManager=j(_p),this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=j(Es).hasPendingTasks.pipe(pe(n=>!n)),this._injector=j(Yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof El;if(!this._injector.get(Hy).done){let f=!s&&j1(n),v=!1;throw new ee(405,v)}let a;s?a=n:a=this._injector.get(ic).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=iT(a)?void 0:this._injector.get(Or),l=r||a.selector,h=a.create(Bt.NULL,[],l,u),g=h.location.nativeElement,d=h.injector.get(Ip,null);return d?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),ul(this.components,h),d?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new ee(101,!1);let r=Ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Ve(r)}}detectChangesInAttachedViews(n){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===fy)throw new ee(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)sT(a,o,u)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Th(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Th(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ul(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(fc,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ul(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ul(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function sT(e,t,i){!t&&!Th(e)||oT(e,i,t)}function Th(e){return zh(e)}function oT(e,t,i){let n;i?(n=0,e[ge]|=1024):e[ge]&64?n=0:n=1,hy(e,t,n)}var Mh=class{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}},hc=(()=>{let t=class t{compileModuleSync(n){return new Tl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=H1(n),o=Vv(s.declarations).reduce((a,u)=>{let l=ir(u);return l&&a.push(new vs(l)),a},[]);return new Mh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),aT=new ne("");function uT(e,t,i){let n=new Tl(i);return Promise.resolve(n)}function m1(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var lT=(()=>{let t=class t{constructor(){this.zone=j(He),this.applicationRef=j(ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function cT(e){return[{provide:He,useFactory:e},{provide:ao,multi:!0,useFactory:()=>{let t=j(lT,{optional:!0});return()=>t.initialize()}},{provide:ao,multi:!0,useFactory:()=>{let t=j(hT);return()=>{t.initialize()}}},{provide:xv,useFactory:dT}]}function dT(){let e=j(He),t=j(ii);return i=>e.runOutsideAngular(()=>t.handleError(i))}function fT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var hT=(()=>{let t=class t{constructor(){this.subscription=new xt,this.initialized=!1,this.zone=j(He),this.pendingTasks=j(Es)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function pT(){return typeof $localize<"u"&&$localize.locale||Fl}var Pr=new ne("",{providedIn:"root",factory:()=>j(Pr,Ae.Optional|Ae.SkipSelf)||pT()});var $y=new ne(""),Gy=(()=>{let t=class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=h2(r?.ngZone,fT({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=X2(n.moduleType,this.injector,cT(()=>s)),a=o.injector.get(ii,null);return s.runOutsideAngular(()=>{let u=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{ul(this._modules,o),u.unsubscribe()})}),rT(a,s,()=>{let u=o.injector.get(Hy);return u.runInitializers(),u.donePromise.then(()=>{let l=o.injector.get(Pr,Fl);return jI(l||Fl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let s=Uy({},r);return uT(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let r=n.injector.get(ur);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new ee(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get($y,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(r){return new(r||t)(X(Bt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})(),aa=null,Wy=new ne("");function gT(e){if(aa&&!aa.get(Wy,!1))throw new ee(400,!1);nT(),aa=e;let t=e.get(Gy);return yT(e),t}function Mp(e,t,i=[]){let n=`Platform: ${t}`,r=new ne(n);return(s=[])=>{let o=qy();if(!o||o.injector.get(Wy,!1)){let a=[...i,...s,{provide:r,useValue:!0}];e?e(a):gT(mT(a,n))}return vT(r)}}function mT(e=[],t){return Bt.create({name:t,providers:[{provide:Vl,useValue:"platform"},{provide:$y,useValue:new Set([()=>aa=null])},...e]})}function vT(e){let t=qy();if(!t)throw new ee(401,!1);return t}function qy(){return aa?.get(Gy)??null}function yT(e){e.get(np,null)?.forEach(i=>i())}var Kn=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=_T;let e=t;return e})();function _T(e){return bT(bn(),Ee(),(e&16)===16)}function bT(e,t,i){if(Hl(e)&&!i){let n=Rr(e.index,t);return new ms(n,n)}else if(e.type&47){let n=t[ni];return new ms(n,t)}return null}var Ah=class{constructor(){}supports(t){return Dy(t)}create(t){return new Fh(t)}},wT=(e,t)=>t,Fh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wT}forEachItem(t){let i;for(i=this._itHead;i!==null;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<v1(n,r,s)?i:n,a=v1(o,r,s),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let l=a-r,h=u-r;if(l!=h){for(let d=0;d<l;d++){let f=d<s.length?s[d]:s[d]=0,v=f+d;h<=v&&v<l&&(s[d]=f+1)}let g=o.previousIndex;s[g]=h-l}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)t(i)}diff(t){if(t==null&&(t=[]),!Dy(t))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,eI(t,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,r),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,s,r)):t=this._addAfter(new Oh(i,n),s,r)),t}_verifyReinsertion(t,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let i=t._next;this._addToRemovals(this._unlink(t)),t=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){let r=i===null?this._itHead:i._next;return t._next=r,t._prev=i,r===null?this._itTail=t:r._prev=t,i===null?this._itHead=t:i._next=t,this._linkedRecords===null&&(this._linkedRecords=new Ol),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let i=t._prev,n=t._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ol),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Oh=class{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Rh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let i=t._prevDup,n=t._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},Ol=class{constructor(){this.map=new Map}put(t){let i=t.trackById,n=this.map.get(i);n||(n=new Rh,this.map.set(i,n)),n.add(t)}get(t,i){let n=t,r=this.map.get(n);return r?r.get(t,i):null}remove(t){let i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function v1(e,t,i){let n=e.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}var Nh=class{constructor(){}supports(t){return t instanceof Map||Ep(t)}create(){return new Ph}},Ph=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let i;for(i=this._mapHead;i!==null;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)t(i)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Ep(t)))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){let n=t._prev;return i._next=t,i._prev=n,t._prev=i,n&&(n._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new kh(t);return this._records.set(t,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(n=>i(t[n],n))}},kh=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function y1(){return new Ap([new Ah])}var Ap=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||y1()),deps:[[t,new kl,new Ea]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new ee(901,!1)}};t.\u0275prov=W({token:t,providedIn:"root",factory:y1});let e=t;return e})();function _1(){return new Fp([new Nh])}var Fp=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_1()),deps:[[t,new kl,new Ea]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new ee(901,!1)}};t.\u0275prov=W({token:t,providedIn:"root",factory:_1});let e=t;return e})();var zy=Mp(null,"core",[]),Ky=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(r){return new(r||t)(X(ur))},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();function kr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function pc(e,t){let i=ir(e),n=t.elementInjector||Ll();return new vs(i).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}function Yy(e){let t=ir(e);if(!t)return null;let i=new vs(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var t_=null;function zi(){return t_}function n_(e){t_??=e}var Dc=class{};var Et=new ne(""),jp=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>j(CT),providedIn:"platform"});let e=t;return e})(),i_=new ne(""),CT=(()=>{let t=class t extends jp{constructor(){super(),this._doc=j(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(n){let r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function Hp(e,t){if(e.length==0)return t;if(t.length==0)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,i==2?e+t.substring(1):i==1?e+t:e+"/"+t}function Jy(e){let t=e.match(/#|\?|$/),i=t&&t.index||e.length,n=i-(e[i-1]==="/"?1:0);return e.slice(0,n)+e.slice(i)}function cr(e){return e&&e[0]!=="?"?"?"+e:e}var fr=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>j(Up),providedIn:"root"});let e=t;return e})(),r_=new ne(""),Up=(()=>{let t=class t extends fr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+cr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+cr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(X(jp),X(r_,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),s_=(()=>{let t=class t extends fr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Hp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+cr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+cr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(X(jp),X(r_,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Do=(()=>{let t=class t{constructor(n){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=IT(Jy(Zy(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+cr(r))}normalize(n){return t.stripTrailingSlash(xT(this._basePath,Zy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};t.normalizeQueryParams=cr,t.joinWithSlash=Hp,t.stripTrailingSlash=Jy,t.\u0275fac=function(r){return new(r||t)(X(fr))},t.\u0275prov=W({token:t,factory:()=>ST(),providedIn:"root"});let e=t;return e})();function ST(){return new Do(X(fr))}function xT(e,t){if(!e||!t.startsWith(e))return t;let i=t.substring(e.length);return i===""||["/",";","?","#"].includes(i[0])?i:t}function Zy(e){return e.replace(/\/index.html$/,"")}function IT(e){if(new RegExp("^(https?:)?//").test(e)){let[,i]=e.split(/\/\/[^\/]+/);return i}return e}var Vt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Vt||{}),$e=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}($e||{}),Yn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Yn||{}),Br={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TT(e){return si(e)[bt.LocaleId]}function o_(e,t,i){let n=si(e),r=[n[bt.DayPeriodsFormat],n[bt.DayPeriodsStandalone]],s=ui(r,t);return ui(s,i)}function $p(e,t,i){let n=si(e),r=[n[bt.DaysFormat],n[bt.DaysStandalone]],s=ui(r,t);return ui(s,i)}function Sc(e,t,i){let n=si(e),r=[n[bt.MonthsFormat],n[bt.MonthsStandalone]],s=ui(r,t);return ui(s,i)}function MT(e,t){let n=si(e)[bt.Eras];return ui(n,t)}function gc(e,t){let i=si(e);return ui(i[bt.DateFormat],t)}function mc(e,t){let i=si(e);return ui(i[bt.TimeFormat],t)}function vc(e,t){let n=si(e)[bt.DateTimeFormat];return ui(n,t)}function xc(e,t){let i=si(e),n=i[bt.NumberSymbols][t];if(typeof n>"u"){if(t===Br.CurrencyDecimal)return i[bt.NumberSymbols][Br.Decimal];if(t===Br.CurrencyGroup)return i[bt.NumberSymbols][Br.Group]}return n}function a_(e){if(!e[bt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[bt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function AT(e){let t=si(e);return a_(t),(t[bt.ExtraData][2]||[]).map(n=>typeof n=="string"?Op(n):[Op(n[0]),Op(n[1])])}function FT(e,t,i){let n=si(e);a_(n);let r=[n[bt.ExtraData][0],n[bt.ExtraData][1]],s=ui(r,t)||[];return ui(s,i)||[]}function ui(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function Op(e){let[t,i]=e.split(":");return{hours:+t,minutes:+i}}var OT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yc={},RT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,dr=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(dr||{}),Je=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Je||{}),Ye=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Ye||{});function Gp(e,t,i,n){let r=UT(e);t=lr(i,t)||t;let o=[],a;for(;t;)if(a=RT.exec(t),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;t=h}else{o.push(t);break}let u=r.getTimezoneOffset();n&&(u=l_(n,u),r=HT(r,n,!0));let l="";return o.forEach(h=>{let g=LT(h);l+=g?g(r,i,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Cc(e,t,i){let n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function lr(e,t){let i=TT(e);if(yc[i]??={},yc[i][t])return yc[i][t];let n="";switch(t){case"shortDate":n=gc(e,Yn.Short);break;case"mediumDate":n=gc(e,Yn.Medium);break;case"longDate":n=gc(e,Yn.Long);break;case"fullDate":n=gc(e,Yn.Full);break;case"shortTime":n=mc(e,Yn.Short);break;case"mediumTime":n=mc(e,Yn.Medium);break;case"longTime":n=mc(e,Yn.Long);break;case"fullTime":n=mc(e,Yn.Full);break;case"short":let r=lr(e,"shortTime"),s=lr(e,"shortDate");n=_c(vc(e,Yn.Short),[r,s]);break;case"medium":let o=lr(e,"mediumTime"),a=lr(e,"mediumDate");n=_c(vc(e,Yn.Medium),[o,a]);break;case"long":let u=lr(e,"longTime"),l=lr(e,"longDate");n=_c(vc(e,Yn.Long),[u,l]);break;case"full":let h=lr(e,"fullTime"),g=lr(e,"fullDate");n=_c(vc(e,Yn.Full),[h,g]);break}return n&&(yc[i][t]=n),n}function _c(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(i,n){return t!=null&&n in t?t[n]:i})),e}function Mi(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function NT(e,t){return Mi(e,3).substring(0,t)}function At(e,t,i=0,n=!1,r=!1){return function(s,o){let a=PT(e,s);if((i>0||a>-i)&&(a+=i),e===Je.Hours)a===0&&i===-12&&(a=12);else if(e===Je.FractionalSeconds)return NT(a,t);let u=xc(o,Br.MinusSign);return Mi(a,t,u,n,r)}}function PT(e,t){switch(e){case Je.FullYear:return t.getFullYear();case Je.Month:return t.getMonth();case Je.Date:return t.getDate();case Je.Hours:return t.getHours();case Je.Minutes:return t.getMinutes();case Je.Seconds:return t.getSeconds();case Je.FractionalSeconds:return t.getMilliseconds();case Je.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function dt(e,t,i=Vt.Format,n=!1){return function(r,s){return kT(r,s,e,t,i,n)}}function kT(e,t,i,n,r,s){switch(i){case Ye.Months:return Sc(t,r,n)[e.getMonth()];case Ye.Days:return $p(t,r,n)[e.getDay()];case Ye.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let l=AT(t),h=FT(t,r,n),g=l.findIndex(d=>{if(Array.isArray(d)){let[f,v]=d,p=o>=f.hours&&a>=f.minutes,y=o<v.hours||o===v.hours&&a<v.minutes;if(f.hours<v.hours){if(p&&y)return!0}else if(p||y)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(g!==-1)return h[g]}return o_(t,r,n)[o<12?0:1];case Ye.Eras:return MT(t,n)[e.getFullYear()<=0?0:1];default:let u=i;throw new Error(`unexpected translation type ${u}`)}}function bc(e){return function(t,i,n){let r=-1*n,s=xc(i,Br.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case dr.Short:return(r>=0?"+":"")+Mi(o,2,s)+Mi(Math.abs(r%60),2,s);case dr.ShortGMT:return"GMT"+(r>=0?"+":"")+Mi(o,1,s);case dr.Long:return"GMT"+(r>=0?"+":"")+Mi(o,2,s)+":"+Mi(Math.abs(r%60),2,s);case dr.Extended:return n===0?"Z":(r>=0?"+":"")+Mi(o,2,s)+":"+Mi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var BT=0,Ec=4;function VT(e){let t=Cc(e,BT,1).getDay();return Cc(e,0,1+(t<=Ec?Ec:Ec+7)-t)}function u_(e){let t=e.getDay(),i=t===0?-3:Ec-t;return Cc(e.getFullYear(),e.getMonth(),e.getDate()+i)}function Rp(e,t=!1){return function(i,n){let r;if(t){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=u_(i),o=VT(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Mi(r,e,xc(n,Br.MinusSign))}}function wc(e,t=!1){return function(i,n){let s=u_(i).getFullYear();return Mi(s,e,xc(n,Br.MinusSign),t)}}var Np={};function LT(e){if(Np[e])return Np[e];let t;switch(e){case"G":case"GG":case"GGG":t=dt(Ye.Eras,$e.Abbreviated);break;case"GGGG":t=dt(Ye.Eras,$e.Wide);break;case"GGGGG":t=dt(Ye.Eras,$e.Narrow);break;case"y":t=At(Je.FullYear,1,0,!1,!0);break;case"yy":t=At(Je.FullYear,2,0,!0,!0);break;case"yyy":t=At(Je.FullYear,3,0,!1,!0);break;case"yyyy":t=At(Je.FullYear,4,0,!1,!0);break;case"Y":t=wc(1);break;case"YY":t=wc(2,!0);break;case"YYY":t=wc(3);break;case"YYYY":t=wc(4);break;case"M":case"L":t=At(Je.Month,1,1);break;case"MM":case"LL":t=At(Je.Month,2,1);break;case"MMM":t=dt(Ye.Months,$e.Abbreviated);break;case"MMMM":t=dt(Ye.Months,$e.Wide);break;case"MMMMM":t=dt(Ye.Months,$e.Narrow);break;case"LLL":t=dt(Ye.Months,$e.Abbreviated,Vt.Standalone);break;case"LLLL":t=dt(Ye.Months,$e.Wide,Vt.Standalone);break;case"LLLLL":t=dt(Ye.Months,$e.Narrow,Vt.Standalone);break;case"w":t=Rp(1);break;case"ww":t=Rp(2);break;case"W":t=Rp(1,!0);break;case"d":t=At(Je.Date,1);break;case"dd":t=At(Je.Date,2);break;case"c":case"cc":t=At(Je.Day,1);break;case"ccc":t=dt(Ye.Days,$e.Abbreviated,Vt.Standalone);break;case"cccc":t=dt(Ye.Days,$e.Wide,Vt.Standalone);break;case"ccccc":t=dt(Ye.Days,$e.Narrow,Vt.Standalone);break;case"cccccc":t=dt(Ye.Days,$e.Short,Vt.Standalone);break;case"E":case"EE":case"EEE":t=dt(Ye.Days,$e.Abbreviated);break;case"EEEE":t=dt(Ye.Days,$e.Wide);break;case"EEEEE":t=dt(Ye.Days,$e.Narrow);break;case"EEEEEE":t=dt(Ye.Days,$e.Short);break;case"a":case"aa":case"aaa":t=dt(Ye.DayPeriods,$e.Abbreviated);break;case"aaaa":t=dt(Ye.DayPeriods,$e.Wide);break;case"aaaaa":t=dt(Ye.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":t=dt(Ye.DayPeriods,$e.Abbreviated,Vt.Standalone,!0);break;case"bbbb":t=dt(Ye.DayPeriods,$e.Wide,Vt.Standalone,!0);break;case"bbbbb":t=dt(Ye.DayPeriods,$e.Narrow,Vt.Standalone,!0);break;case"B":case"BB":case"BBB":t=dt(Ye.DayPeriods,$e.Abbreviated,Vt.Format,!0);break;case"BBBB":t=dt(Ye.DayPeriods,$e.Wide,Vt.Format,!0);break;case"BBBBB":t=dt(Ye.DayPeriods,$e.Narrow,Vt.Format,!0);break;case"h":t=At(Je.Hours,1,-12);break;case"hh":t=At(Je.Hours,2,-12);break;case"H":t=At(Je.Hours,1);break;case"HH":t=At(Je.Hours,2);break;case"m":t=At(Je.Minutes,1);break;case"mm":t=At(Je.Minutes,2);break;case"s":t=At(Je.Seconds,1);break;case"ss":t=At(Je.Seconds,2);break;case"S":t=At(Je.FractionalSeconds,1);break;case"SS":t=At(Je.FractionalSeconds,2);break;case"SSS":t=At(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=bc(dr.Short);break;case"ZZZZZ":t=bc(dr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=bc(dr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=bc(dr.Long);break;default:return null}return Np[e]=t,t}function l_(e,t){e=e.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function jT(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function HT(e,t,i){let n=i?-1:1,r=e.getTimezoneOffset(),s=l_(t,r);return jT(e,n*(s-r))}function UT(e){if(Qy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,s=1,o=1]=e.split("-").map(a=>+a);return Cc(r,s-1,o)}let i=parseFloat(e);if(!isNaN(e-i))return new Date(i);let n;if(n=e.match(OT))return $T(n)}let t=new Date(e);if(!Qy(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function $T(e){let t=new Date(0),i=0,n=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,u=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,o,a,u,l),t}function Qy(e){return e instanceof Date&&!isNaN(e.valueOf())}function c_(e,t,i){return Oy(e,t,i)}function Ic(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var Pp=class{constructor(t,i,n,r){this.$implicit=t,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vr=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Pp(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let u=r.get(o);r.move(u,a),Xy(u,s)}});for(let s=0,o=r.length;s<o;s++){let u=r.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);Xy(o,s)})}static ngTemplateContextGuard(n,r){return!0}};t.\u0275fac=function(r){return new(r||t)(J(Ii),J(Ci),J(Ap))},t.\u0275dir=Ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function Xy(e,t){e.context.$implicit=t.item}var Tc=(()=>{let t=class t{constructor(n,r){this._viewContainer=n,this._context=new kp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){e_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){e_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};t.\u0275fac=function(r){return new(r||t)(J(Ii),J(Ci))},t.\u0275dir=Ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),kp=class{constructor(){this.$implicit=null,this.ngIf=null}};function e_(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Sn(t)}'.`)}var d_=(()=>{let t=class t{constructor(n,r,s){this._ngEl=n,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[s,o]=n.split("."),a=s.indexOf("-")===-1?void 0:$i.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};t.\u0275fac=function(r){return new(r||t)(J(ht),J(Fp),J(Wi))},t.\u0275dir=Ne({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})(),Mc=(()=>{let t=class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};t.\u0275fac=function(r){return new(r||t)(J(Ii))},t.\u0275dir=Ne({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[qn]});let e=t;return e})();function GT(e,t){return new ee(2100,!1)}var WT="mediumDate",qT=new ne(""),zT=new ne(""),f_=(()=>{let t=class t{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??WT,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Gp(n,a,o||this.locale,u)}catch(a){throw GT(t,a.message)}}};t.\u0275fac=function(r){return new(r||t)(J(Pr,16),J(qT,24),J(zT,24))},t.\u0275pipe=B1({name:"date",type:t,pure:!0,standalone:!0});let e=t;return e})();var Ac=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})(),Wp="browser",KT="server";function h_(e){return e===Wp}function qp(e){return e===KT}var p_=(()=>{let t=class t{};t.\u0275prov=W({token:t,providedIn:"root",factory:()=>h_(j(xi))?new Bp(j(Et),window):new Vp});let e=t;return e})(),Bp=class{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let i=YT(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function YT(e,t){let i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=n.nextNode()}}return null}var Vp=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},Eo=class{};var Aa=class{},Oc=class{},Jn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=t.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var Kp=class{encodeKey(t){return g_(t)}encodeValue(t){return g_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function QT(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=i.get(o)||[];u.push(a),i.set(o,u)}),i}var XT=/%(\d[a-f0-9])/gi,eM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function g_(e){return encodeURIComponent(e).replace(XT,(t,i)=>eM[i]??t)}function Fc(e){return`${e}`}var Lr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Kp,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=QT(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],r=Array.isArray(n)?n.map(Fc):[Fc(n)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Fc(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(Fc(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Yp=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function tM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function m_(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function v_(e){return typeof Blob<"u"&&e instanceof Blob}function y_(e){return typeof FormData<"u"&&e instanceof FormData}function nM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ma=class e{constructor(t,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(tM(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Jn,this.context??=new Yp,!this.params)this.params=new Lr,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),u=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+u+o}}}serializeBody(){return this.body===null?null:m_(this.body)||v_(this.body)||y_(this.body)||nM(this.body)||typeof this.body=="string"?this.body:this.body instanceof Lr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||y_(this.body)?null:v_(this.body)?this.body.type||null:m_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.body!==void 0?t.body:this.body,o=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,a=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,u=t.headers||this.headers,l=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((g,d)=>g.set(d,t.setHeaders[d]),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((g,d)=>g.set(d,t.setParams[d]),l)),new e(i,n,s,{params:l,headers:u,context:h,reportProgress:a,responseType:r,withCredentials:o})}},So=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(So||{}),Fa=class{constructor(t,i=Pc.Ok,n="OK"){this.headers=t.headers||new Jn,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Jp=class e extends Fa{constructor(t={}){super(t),this.type=So.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Rc=class e extends Fa{constructor(t={}){super(t),this.type=So.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Nc=class extends Fa{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Pc=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Pc||{});function zp(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Ai=(()=>{let t=class t{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Ma)o=n;else{let l;s.headers instanceof Jn?l=s.headers:l=new Jn(s.headers);let h;s.params&&(s.params instanceof Lr?h=s.params:h=new Lr({fromObject:s.params})),o=new Ma(n,r,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=oe(o).pipe(tr(l=>this.handler.handle(l)));if(n instanceof Ma||s.observe==="events")return a;let u=a.pipe(lt(l=>l instanceof Rc));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(pe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(pe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(pe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(pe(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Lr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,zp(s,r))}post(n,r,s={}){return this.request("POST",n,zp(s,r))}put(n,r,s={}){return this.request("PUT",n,zp(s,r))}};t.\u0275fac=function(r){return new(r||t)(X(Aa))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function E_(e,t){return t(e)}function iM(e,t){return(i,n)=>t.intercept(i,{handle:r=>e(r,n)})}function rM(e,t,i){return(n,r)=>Si(i,()=>t(n,s=>e(s,r)))}var Zp=new ne(""),Qp=new ne(""),sM=new ne(""),oM=new ne("");function aM(){let e=null;return(t,i)=>{e===null&&(e=(j(Zp,{optional:!0})??[]).reduceRight(iM,E_));let n=j(Es),r=n.add();return e(t,i).pipe(nr(()=>n.remove(r)))}}var __=(()=>{let t=class t extends Aa{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=j(Es);let s=j(oM,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Qp),...this.injector.get(sM,[])]));this.chain=s.reduceRight((o,a)=>rM(o,a,this.injector),E_)}let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(nr(()=>this.pendingTasks.remove(r)))}};t.\u0275fac=function(r){return new(r||t)(X(Oc),X(Yt))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();var uM=/^\)\]\}',?\n/;function lM(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var b_=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ee(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ot(r.\u0275loadImpl()):oe(null)).pipe(mn(()=>new _e(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((y,m)=>a.setRequestHeader(y,m.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let y=n.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(n.responseType){let y=n.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let u=n.serializeBody(),l=null,h=()=>{if(l!==null)return l;let y=a.statusText||"OK",m=new Jn(a.getAllResponseHeaders()),b=lM(a)||n.url;return l=new Jp({headers:m,status:a.status,statusText:y,url:b}),l},g=()=>{let{headers:y,status:m,statusText:b,url:E}=h(),D=null;m!==Pc.NoContent&&(D=typeof a.response>"u"?a.responseText:a.response),m===0&&(m=D?Pc.Ok:0);let C=m>=200&&m<300;if(n.responseType==="json"&&typeof D=="string"){let O=D;D=D.replace(uM,"");try{D=D!==""?JSON.parse(D):null}catch(k){D=O,C&&(C=!1,D={error:k,text:D})}}C?(o.next(new Rc({body:D,headers:y,status:m,statusText:b,url:E||void 0})),o.complete()):o.error(new Nc({error:D,headers:y,status:m,statusText:b,url:E||void 0}))},d=y=>{let{url:m}=h(),b=new Nc({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:m||void 0});o.error(b)},f=!1,v=y=>{f||(o.next(h()),f=!0);let m={type:So.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(m.total=y.total),n.responseType==="text"&&a.responseText&&(m.partialText=a.responseText),o.next(m)},p=y=>{let m={type:So.UploadProgress,loaded:y.loaded};y.lengthComputable&&(m.total=y.total),o.next(m)};return a.addEventListener("load",g),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),n.reportProgress&&(a.addEventListener("progress",v),u!==null&&a.upload&&a.upload.addEventListener("progress",p)),a.send(u),o.next({type:So.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",g),a.removeEventListener("timeout",d),n.reportProgress&&(a.removeEventListener("progress",v),u!==null&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(r){return new(r||t)(X(Eo))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),D_=new ne(""),cM="XSRF-TOKEN",dM=new ne("",{providedIn:"root",factory:()=>cM}),fM="X-XSRF-TOKEN",hM=new ne("",{providedIn:"root",factory:()=>fM}),kc=class{},pM=(()=>{let t=class t{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ic(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(r){return new(r||t)(X(Et),X(xi),X(dM))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function gM(e,t){let i=e.url.toLowerCase();if(!j(D_)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let n=j(kc).getToken(),r=j(hM);return n!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,n)})),t(e)}var C_=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(C_||{});function mM(e,t){return{\u0275kind:e,\u0275providers:t}}function vM(...e){let t=[Ai,b_,__,{provide:Aa,useExisting:__},{provide:Oc,useExisting:b_},{provide:Qp,useValue:gM,multi:!0},{provide:D_,useValue:!0},{provide:kc,useClass:pM}];for(let i of e)t.push(...i.\u0275providers);return Bl(t)}var w_=new ne("");function yM(){return mM(C_.LegacyInterceptors,[{provide:w_,useFactory:aM},{provide:Qp,useExisting:w_,multi:!0}])}var S_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({providers:[vM(yM())]});let e=t;return e})();var tg=class extends Dc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ng=class e extends tg{static makeCurrent(){n_(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=_M();return i==null?null:bM(i)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ic(document.cookie,t)}},Ra=null;function _M(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}function bM(e){return new URL(e,document.baseURI).pathname}var ig=class{addToWindow(t){Mt.getAngularTestability=(n,r=!0)=>{let s=t.findTestabilityInTree(n,r);if(s==null)throw new ee(5103,!1);return s},Mt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mt.getAllAngularRootElements=()=>t.getAllRootElements();let i=n=>{let r=Mt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,n){if(i==null)return null;let r=t.getTestability(i);return r??(n?zi().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},wM=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),rg=new ne(""),M_=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(X(rg),X(He))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Bc=class{constructor(t){this._doc=t}},Xp="ng-app-id",A_=(()=>{let t=class t{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Xp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(Xp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Xp,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(X(Et),X(ql),X(ip,8),X(xi))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),eg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},og=/%COMP%/g,F_="%COMP%",EM=`_nghost-${F_}`,DM=`_ngcontent-${F_}`,CM=!0,SM=new ne("",{providedIn:"root",factory:()=>CM});function xM(e){return DM.replace(og,e)}function IM(e){return EM.replace(og,e)}function O_(e,t){return t.map(i=>i.replace(og,e))}var x_=(()=>{let t=class t{constructor(n,r,s,o,a,u,l,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=qp(u),this.defaultRenderer=new Na(n,a,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hi.ShadowDom&&(r=nt(Q({},r),{encapsulation:Hi.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof Vc?s.applyToHost(n):s instanceof Pa&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Hi.Emulated:o=new Vc(l,h,r,this.appId,g,a,u,d);break;case Hi.ShadowDom:return new sg(l,h,n,r,a,u,this.nonce,d);default:o=new Pa(l,h,r,g,a,u,d);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(X(M_),X(A_),X(ql),X(SM),X(Et),X(xi),X(He),X(ip))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Na=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(eg[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(I_(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(I_(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new ee(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let s=eg[r];s?t.setAttributeNS(s,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=eg[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&($i.DashCase|$i.Important)?t.style.setProperty(i,n,r&$i.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&$i.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=zi().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function I_(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var sg=class extends Na{constructor(t,i,n,r,s,o,a,u){super(t,s,o,u),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=O_(r.id,r.styles);for(let h of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pa=class extends Na{constructor(t,i,n,r,s,o,a,u){super(t,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=u?O_(u,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vc=class extends Pa{constructor(t,i,n,r,s,o,a,u){let l=r+"-"+n.id;super(t,i,n,s,o,a,u,l),this.contentAttr=xM(l),this.hostAttr=IM(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},TM=(()=>{let t=class t extends Bc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};t.\u0275fac=function(r){return new(r||t)(X(Et))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),T_=["alt","control","meta","shift"],MM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},FM=(()=>{let t=class t extends Bc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),a="code."),T_.forEach(h=>{let g=r.indexOf(h);g>-1&&(r.splice(g,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(n,r){let s=MM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),T_.forEach(a=>{if(a!==s){let u=AM[a];u(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{t.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(X(Et))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function OM(){ng.makeCurrent()}function RM(){return new ii}function NM(){return Ov(document),document}var PM=[{provide:xi,useValue:Wp},{provide:np,useValue:OM,multi:!0},{provide:Et,useFactory:NM,deps:[]}],R_=Mp(zy,"browser",PM),kM=new ne(""),BM=[{provide:Ta,useClass:ig,deps:[]},{provide:Ip,useClass:lc,deps:[He,cc,Ta]},{provide:lc,useClass:lc,deps:[He,cc,Ta]}],VM=[{provide:Vl,useValue:"root"},{provide:ii,useFactory:RM,deps:[]},{provide:rg,useClass:TM,multi:!0,deps:[Et,He,xi]},{provide:rg,useClass:FM,multi:!0,deps:[Et]},x_,A_,M_,{provide:ya,useExisting:x_},{provide:Eo,useClass:wM,deps:[]},[]],N_=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ql,useValue:n.appId}]}}};t.\u0275fac=function(r){return new(r||t)(X(kM,12))},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({providers:[...VM,...BM],imports:[Ac,Ky]});let e=t;return e})();var P_=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(X(Et))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ce="primary",Ja=Symbol("RouteTitle"),dg=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Ao(e){return new dg(e)}function LM(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function jM(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Ki(e[i],t[i]))return!1;return!0}function Ki(e,t){let i=e?fg(e):void 0,n=t?fg(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!W_(e[r],t[r]))return!1;return!0}function fg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function W_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,s)=>n[s]===r)}else return e===t}function q_(e){return e.length>0?e[e.length-1]:null}function $r(e){return uf(e)?e:Cs(e)?ot(Promise.resolve(e)):oe(e)}var HM={exact:K_,subset:Y_},z_={exact:UM,subset:$M,ignored:()=>!0};function B_(e,t,i){return HM[i.paths](e.root,t.root,i.matrixParams)&&z_[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function UM(e,t){return Ki(e,t)}function K_(e,t,i){if(!xs(e.segments,t.segments)||!Hc(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!K_(e.children[n],t.children[n],i))return!1;return!0}function $M(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>W_(e[i],t[i]))}function Y_(e,t,i){return J_(e,t,t.segments,i)}function J_(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!xs(r,i)||t.hasChildren()||!Hc(r,i,n))}else if(e.segments.length===i.length){if(!xs(e.segments,i)||!Hc(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!Y_(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),s=i.slice(e.segments.length);return!xs(e.segments,r)||!Hc(e.segments,r,n)||!e.children[Ce]?!1:J_(e.children[Ce],t,s,n)}}function Hc(e,t,i){return t.every((n,r)=>z_[i](e[r].parameters,n.parameters))}var jr=class{constructor(t=new Xe([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){return qM.serialize(this)}},Xe=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uc(this)}},Ss=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Ao(this.parameters),this._parameterMap}toString(){return Q_(this)}};function GM(e,t){return xs(e,t)&&e.every((i,n)=>Ki(i.parameters,t[n].parameters))}function xs(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function WM(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===Ce&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==Ce&&(i=i.concat(t(r,n)))}),i}var Za=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>new Ua,providedIn:"root"});let e=t;return e})(),Ua=class{parse(t){let i=new pg(t);return new jr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${ka(t.root,!0)}`,n=YM(t.queryParams),r=typeof t.fragment=="string"?`#${zM(t.fragment)}`:"";return`${i}${n}${r}`}},qM=new Ua;function Uc(e){return e.segments.map(t=>Q_(t)).join("/")}function ka(e,t){if(!e.hasChildren())return Uc(e);if(t){let i=e.children[Ce]?ka(e.children[Ce],!1):"",n=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Ce&&n.push(`${r}:${ka(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=WM(e,(n,r)=>r===Ce?[ka(e.children[Ce],!1)]:[`${r}:${ka(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ce]!=null?`${Uc(e)}/${i[0]}`:`${Uc(e)}/(${i.join("//")})`}}function Z_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lc(e){return Z_(e).replace(/%3B/gi,";")}function zM(e){return encodeURI(e)}function hg(e){return Z_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(e){return decodeURIComponent(e)}function V_(e){return $c(e.replace(/\+/g,"%20"))}function Q_(e){return`${hg(e.path)}${KM(e.parameters)}`}function KM(e){return Object.entries(e).map(([t,i])=>`;${hg(t)}=${hg(i)}`).join("")}function YM(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Lc(i)}=${Lc(r)}`).join("&"):`${Lc(i)}=${Lc(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var JM=/^[^\/()?;#]+/;function ag(e){let t=e.match(JM);return t?t[0]:""}var ZM=/^[^\/()?;=#]+/;function QM(e){let t=e.match(ZM);return t?t[0]:""}var XM=/^[^=?&#]+/;function e4(e){let t=e.match(XM);return t?t[0]:""}var t4=/^[^&#]+/;function n4(e){let t=e.match(t4);return t?t[0]:""}var pg=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[Ce]=new Xe(t,i)),n}parseSegment(){let t=ag(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(t),new Ss($c(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=QM(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=ag(this.remaining);r&&(n=r,this.capture(n))}t[$c(i)]=$c(n)}parseQueryParam(t){let i=e4(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=n4(this.remaining);o&&(n=o,this.capture(n))}let r=V_(i),s=V_(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=ag(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new ee(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ce);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[Ce]:new Xe([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ee(4011,!1)}};function X_(e){return e.segments.length>0?new Xe([],{[Ce]:e}):e}function eb(e){let t={};for(let[n,r]of Object.entries(e.children)){let s=eb(r);if(n===Ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let i=new Xe(e.segments,t);return i4(i)}function i4(e){if(e.numberOfChildren===1&&e.children[Ce]){let t=e.children[Ce];return new Xe(e.segments.concat(t.segments),t.children)}return e}function Fo(e){return e instanceof jr}function r4(e,t,i=null,n=null){let r=tb(e);return nb(r,t,i,n)}function tb(e){let t;function i(s){let o={};for(let u of s.children){let l=i(u);o[u.outlet]=l}let a=new Xe(s.url,o);return s===e&&(t=a),a}let n=i(e.root),r=X_(n);return t??r}function nb(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return ug(r,r,r,i,n);let s=s4(t);if(s.toRoot())return ug(r,r,new Xe([],{}),i,n);let o=o4(s,r,e),a=o.processChildren?La(o.segmentGroup,o.index,s.commands):rb(o.segmentGroup,o.index,s.commands);return ug(r,o.segmentGroup,a,i,n)}function Gc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function $a(e){return typeof e=="object"&&e!=null&&e.outlets}function ug(e,t,i,n,r){let s={};n&&Object.entries(n).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;e===t?o=i:o=ib(e,t,i);let a=X_(eb(o));return new jr(a,s,r)}function ib(e,t,i){let n={};return Object.entries(e.children).forEach(([r,s])=>{s===t?n[r]=i:n[r]=ib(s,t,i)}),new Xe(e.segments,n)}var Wc=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Gc(n[0]))throw new ee(4003,!1);let r=n.find($a);if(r&&r!==q_(n))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function s4(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Wc(!0,0,e);let t=0,i=!1,n=e.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Wc(i,t,n)}var To=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function o4(e,t,i){if(e.isAbsolute)return new To(t,!0,0);if(!i)return new To(t,!1,NaN);if(i.parent===null)return new To(i,!0,0);let n=Gc(e.commands[0])?0:1,r=i.segments.length-1+n;return a4(i,r,e.numberOfDoubleDots)}function a4(e,t,i){let n=e,r=t,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new ee(4005,!1);r=n.segments.length}return new To(n,!1,r-s)}function u4(e){return $a(e[0])?e[0].outlets:{[Ce]:e}}function rb(e,t,i){if(e??=new Xe([],{}),e.segments.length===0&&e.hasChildren())return La(e,t,i);let n=l4(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let s=new Xe(e.segments.slice(0,n.pathIndex),{});return s.children[Ce]=new Xe(e.segments.slice(n.pathIndex),e.children),La(s,0,r)}else return n.match&&r.length===0?new Xe(e.segments,{}):n.match&&!e.hasChildren()?gg(e,t,i):n.match?La(e,0,r):gg(e,t,i)}function La(e,t,i){if(i.length===0)return new Xe(e.segments,{});{let n=u4(i),r={};if(Object.keys(n).some(s=>s!==Ce)&&e.children[Ce]&&e.numberOfChildren===1&&e.children[Ce].segments.length===0){let s=La(e.children[Ce],t,i);return new Xe(e.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=rb(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new Xe(e.segments,r)}}function l4(e,t,i){let n=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return s;let o=e.segments[r],a=i[n];if($a(a))break;let u=`${a}`,l=n<i.length-1?i[n+1]:null;if(r>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!j_(u,l,o))return s;n+=2}else{if(!j_(u,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function gg(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let s=i[r];if($a(s)){let u=c4(s.outlets);return new Xe(n,u)}if(r===0&&Gc(i[0])){let u=e.segments[t];n.push(new Ss(u.path,L_(i[0]))),r++;continue}let o=$a(s)?s.outlets[Ce]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Gc(a)?(n.push(new Ss(o,L_(a))),r+=2):(n.push(new Ss(o,{})),r++)}return new Xe(n,{})}function c4(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=gg(new Xe([],{}),0,n))}),t}function L_(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function j_(e,t,i){return e==i.path&&Ki(t,i.parameters)}var ja="imperative",Jt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Jt||{}),li=class{constructor(t,i){this.id=t,this.url=i}},Oo=class extends li{constructor(t,i,n="imperative",r=null){super(t,i),this.type=Jt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends li{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=Jt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Qn||{}),qc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(qc||{}),Hr=class extends li{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=Jt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends li{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=Jt.NavigationSkipped}},Ga=class extends li{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=Jt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zc=class extends li{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends li{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vg=class extends li{constructor(t,i,n,r,s){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Jt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yg=class extends li{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends li{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class{constructor(t){this.route=t,this.type=Jt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wg=class{constructor(t){this.route=t,this.type=Jt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Eg=class{constructor(t){this.snapshot=t,this.type=Jt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dg=class{constructor(t){this.snapshot=t,this.type=Jt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cg=class{constructor(t){this.snapshot=t,this.type=Jt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sg=class{constructor(t){this.snapshot=t,this.type=Jt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kc=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=Jt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Wa=class{},qa=class{constructor(t){this.url=t}};var xg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qa,this.attachRef=null}},Qa=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new xg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Ig(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=Ig(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Tg(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Tg(t,this._root).map(i=>i.value)}};function Ig(e,t){if(e===t.value)return t;for(let i of t.children){let n=Ig(e,i);if(n)return n}return null}function Tg(e,t){if(e===t.value)return[t];for(let i of t.children){let n=Tg(e,i);if(n.length)return n.unshift(t),n}return[]}var Zn=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Io(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var Jc=class extends Yc{constructor(t,i){super(t),this.snapshot=i,Vg(this,t)}toString(){return this.snapshot.toString()}};function sb(e){let t=d4(e),i=new zt([new Ss("",{})]),n=new zt({}),r=new zt({}),s=new zt({}),o=new zt(""),a=new Is(i,n,s,o,r,Ce,e,t.root);return a.snapshot=t.root,new Jc(new Zn(a,[]),t)}function d4(e){let t={},i={},n={},r="",s=new za([],t,n,r,i,Ce,e,null,{});return new Zc("",new Zn(s,[]))}var Is=class{constructor(t,i,n,r,s,o,a,u){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(l=>l[Ja]))??oe(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pe(t=>Ao(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pe(t=>Ao(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bg(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:Q(Q({},t.params),e.params),data:Q(Q({},t.data),e.data),resolve:Q(Q(Q(Q({},e.data),t.data),r?.data),e._resolvedData)}:n={params:Q({},e.params),data:Q({},e.data),resolve:Q(Q({},e.data),e._resolvedData??{})},r&&ab(r)&&(n.resolve[Ja]=r.title),n}var za=class{get title(){return this.data?.[Ja]}constructor(t,i,n,r,s,o,a,u,l){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Zc=class extends Yc{constructor(t,i){super(i),this.url=t,Vg(this,i)}toString(){return ob(this._root)}};function Vg(e,t){t.value._routerState=e,t.children.forEach(i=>Vg(e,i))}function ob(e){let t=e.children.length>0?` { ${e.children.map(ob).join(", ")} } `:"";return`${e.value}${t}`}function lg(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Ki(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Ki(t.params,i.params)||e.paramsSubject.next(i.params),jM(t.url,i.url)||e.urlSubject.next(i.url),Ki(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Mg(e,t){let i=Ki(e.params,t.params)&&GM(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||Mg(e.parent,t.parent))}function ab(e){return typeof e.title=="string"||e.title===null}var Lg=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ce,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=j(Qa),this.location=j(Ii),this.changeDetector=j(Kn),this.environmentInjector=j(Yt),this.inputBinder=j(nd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Ag(n,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qn]});let e=t;return e})(),Ag=class{constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Is?this.route:t===Qa?this.childContexts:this.parent.get(t,i)}},nd=new ne(""),H_=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=Qs([r.queryParams,r.params,r.data]).pipe(mn(([o,a,u],l)=>(u=Q(Q(Q({},o),a),u),l===0?oe(u):Promise.resolve(u)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Yy(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:u}of a.inputs)n.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(n,s)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function f4(e,t,i){let n=Ka(e,t._root,i?i._root:void 0);return new Jc(n,t)}function Ka(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=h4(e,t,i);return new Zn(n,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ka(e,a)),o}}let n=p4(t.value),r=t.children.map(s=>Ka(e,s));return new Zn(n,r)}}function h4(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return Ka(e,n,r);return Ka(e,n)})}function p4(e){return new Is(new zt(e.url),new zt(e.params),new zt(e.queryParams),new zt(e.fragment),new zt(e.data),e.outlet,e.component,e)}var ub="ngNavigationCancelingError";function lb(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=Fo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=cb(!1,Qn.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function cb(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[ub]=!0,i.cancellationCode=t,i}function g4(e){return db(e)&&Fo(e.url)}function db(e){return!!e&&e[ub]}var m4=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ti],decls:1,vars:0,template:function(r,s){r&1&&ye(0,"router-outlet")},dependencies:[Lg],encapsulation:2});let e=t;return e})();function v4(e,t){return e.providers&&!e._injector&&(e._injector=rc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function jg(e){let t=e.children&&e.children.map(jg),i=t?nt(Q({},e),{children:t}):Q({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Ce&&(i.component=m4),i}function Yi(e){return e.outlet||Ce}function y4(e,t){let i=e.filter(n=>Yi(n)===t);return i.push(...e.filter(n=>Yi(n)!==t)),i}function Xa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var _4=(e,t,i,n)=>pe(r=>(new Fg(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),Fg=class{constructor(t,i,n,r,s){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),lg(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=Io(i);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,i,n){let r=t.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=Io(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,s=Io(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=Io(i);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new Sg(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Dg(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,s=i?i.value:null;if(lg(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),lg(a.route.value),this.activateChildRoutes(t,null,o.children)}else{let a=Xa(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}},Qc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Mo=class{constructor(t,i){this.component=t,this.route=i}};function b4(e,t,i){let n=e._root,r=t?t._root:null;return Ba(n,r,i,[n.value])}function w4(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function No(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!D1(e)?e:t.get(e):n}function Ba(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Io(t);return e.children.forEach(o=>{E4(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ha(a,i.getContext(o),r)),r}function E4(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=D4(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Qc(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ba(e,t,a?a.children:null,n,r):Ba(e,t,i,n,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Mo(a.outlet.component,o))}else o&&Ha(t,a,r),r.canActivateChecks.push(new Qc(n)),s.component?Ba(e,null,a?a.children:null,n,r):Ba(e,null,i,n,r);return r}function D4(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!xs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xs(e.url,t.url)||!Ki(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mg(e,t)||!Ki(e.queryParams,t.queryParams);case"paramsChange":default:return!Mg(e,t)}}function Ha(e,t,i){let n=Io(e),r=e.value;Object.entries(n).forEach(([s,o])=>{r.component?t?Ha(o,t.children.getContext(s),i):Ha(o,null,i):Ha(o,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Mo(t.outlet.component,r)):i.canDeactivateChecks.push(new Mo(null,r)):i.canDeactivateChecks.push(new Mo(null,r))}function eu(e){return typeof e=="function"}function C4(e){return typeof e=="boolean"}function S4(e){return e&&eu(e.canLoad)}function x4(e){return e&&eu(e.canActivate)}function I4(e){return e&&eu(e.canActivateChild)}function T4(e){return e&&eu(e.canDeactivate)}function M4(e){return e&&eu(e.canMatch)}function fb(e){return e instanceof er||e?.name==="EmptyError"}var jc=Symbol("INITIAL_VALUE");function Ro(){return mn(e=>Qs(e.map(t=>t.pipe(Kt(1),ia(jc)))).pipe(pe(t=>{for(let i of t)if(i!==!0){if(i===jc)return jc;if(i===!1||i instanceof jr)return i}return!0}),lt(t=>t!==jc),Kt(1)))}function A4(e,t){return ft(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?oe(nt(Q({},i),{guardsResult:!0})):F4(o,n,r,e).pipe(ft(a=>a&&C4(a)?O4(n,s,e,t):oe(a)),pe(a=>nt(Q({},i),{guardsResult:a})))})}function F4(e,t,i,n){return ot(e).pipe(ft(r=>B4(r.component,r.route,i,t,n)),Vi(r=>r!==!0,!0))}function O4(e,t,i,n){return ot(t).pipe(tr(r=>Bi(N4(r.route.parent,n),R4(r.route,n),k4(e,r.path,i),P4(e,r.route,i))),Vi(r=>r!==!0,!0))}function R4(e,t){return e!==null&&t&&t(new Cg(e)),oe(!0)}function N4(e,t){return e!==null&&t&&t(new Eg(e)),oe(!0)}function P4(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return oe(!0);let r=n.map(s=>zu(()=>{let o=Xa(t)??i,a=No(s,o),u=x4(a)?a.canActivate(t,e):Si(o,()=>a(t,e));return $r(u).pipe(Vi())}));return oe(r).pipe(Ro())}function k4(e,t,i){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>w4(o)).filter(o=>o!==null).map(o=>zu(()=>{let a=o.guards.map(u=>{let l=Xa(o.node)??i,h=No(u,l),g=I4(h)?h.canActivateChild(n,e):Si(l,()=>h(n,e));return $r(g).pipe(Vi())});return oe(a).pipe(Ro())}));return oe(s).pipe(Ro())}function B4(e,t,i,n,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return oe(!0);let o=s.map(a=>{let u=Xa(t)??r,l=No(a,u),h=T4(l)?l.canDeactivate(e,t,i,n):Si(u,()=>l(e,t,i,n));return $r(h).pipe(Vi())});return oe(o).pipe(Ro())}function V4(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return oe(!0);let s=r.map(o=>{let a=No(o,e),u=S4(a)?a.canLoad(t,i):Si(e,()=>a(t,i));return $r(u)});return oe(s).pipe(Ro(),hb(n))}function hb(e){return tf(Tt(t=>{if(Fo(t))throw lb(e,t)}),pe(t=>t===!0))}function L4(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return oe(!0);let s=r.map(o=>{let a=No(o,e),u=M4(a)?a.canMatch(t,i):Si(e,()=>a(t,i));return $r(u)});return oe(s).pipe(Ro(),hb(n))}var Ya=class{constructor(t){this.segmentGroup=t||null}},Xc=class extends Error{constructor(t){super(),this.urlTree=t}};function xo(e){return Js(new Ya(e))}function j4(e){return Js(new ee(4e3,!1))}function H4(e){return Js(cb(!1,Qn.GuardRejected))}var Og=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return oe(n);if(r.numberOfChildren>1||!r.children[Ce])return j4(t.redirectTo);r=r.children[Ce]}}applyRedirectCommands(t,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i.startsWith("/"))throw new Xc(r);return r}applyRedirectCreateUrlTree(t,i,n,r){let s=this.createSegmentGroup(t,i.root,n,r);return new jr(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(t,i,n,r){let s=this.createSegments(t,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(t,u,n,r)}),new Xe(s,o)}createSegments(t,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new ee(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},Rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U4(e,t,i,n,r){let s=Hg(e,t,i);return s.matched?(n=v4(t,n),L4(n,t,i,r).pipe(pe(o=>o===!0?s:Q({},Rg)))):oe(s)}function Hg(e,t,i){if(t.path==="**")return $4(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?Q({},Rg):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||LM)(i,e,t);if(!r)return Q({},Rg);let s={};Object.entries(r.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=r.consumed.length>0?Q(Q({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function $4(e){return{matched:!0,parameters:e.length>0?q_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function U_(e,t,i,n){return i.length>0&&q4(e,i,n)?{segmentGroup:new Xe(t,W4(n,new Xe(i,e.children))),slicedSegments:[]}:i.length===0&&z4(e,i,n)?{segmentGroup:new Xe(e.segments,G4(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new Xe(e.segments,e.children),slicedSegments:i}}function G4(e,t,i,n){let r={};for(let s of i)if(id(e,t,s)&&!n[Yi(s)]){let o=new Xe([],{});r[Yi(s)]=o}return Q(Q({},n),r)}function W4(e,t){let i={};i[Ce]=t;for(let n of e)if(n.path===""&&Yi(n)!==Ce){let r=new Xe([],{});i[Yi(n)]=r}return i}function q4(e,t,i){return i.some(n=>id(e,t,n)&&Yi(n)!==Ce)}function z4(e,t,i){return i.some(n=>id(e,t,n))}function id(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function K4(e,t,i,n){return Yi(e)!==n&&(n===Ce||!id(t,i,e))?!1:Hg(t,e,i).matched}function Y4(e,t,i){return t.length===0&&!e.children[i]}var Ng=class{};function J4(e,t,i,n,r,s,o="emptyOnly"){return new Pg(e,t,i,n,r,o,s).recognize()}var Z4=31,Pg=class{constructor(t,i,n,r,s,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Og(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ee(4002,`'${t.segmentGroup}'`)}recognize(){let t=U_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(pe(i=>{let n=new za([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,{}),r=new Zn(n,i),s=new Zc("",r),o=r4(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Ce).pipe(xr(n=>{if(n instanceof Xc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ya?this.noMatchError(n):n}))}inheritParamsAndData(t,i){let n=t.value,r=Bg(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(t,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0).pipe(pe(s=>s instanceof Zn?[s]:[]))}processChildren(t,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return ot(r).pipe(tr(s=>{let o=n.children[s],a=y4(i,s);return this.processSegmentGroup(t,a,o,s)}),vf((s,o)=>(s.push(...o),s)),Ir(null),mf(),ft(s=>{if(s===null)return xo(n);let o=pb(s);return Q4(o),oe(o)}))}processSegment(t,i,n,r,s,o){return ot(i).pipe(tr(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,n,r,s,o).pipe(xr(u=>{if(u instanceof Ya)return oe(null);throw u}))),Vi(a=>!!a),xr(a=>{if(fb(a))return Y4(n,r,s)?oe(new Ng):xo(n);throw a}))}processSegmentAgainstRoute(t,i,n,r,s,o,a){return K4(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,s,o):xo(r):xo(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Hg(i,r,s);if(!a)return xo(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Z4&&(this.allowRedirects=!1));let g=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,g).pipe(ft(d=>this.processSegment(t,n,i,d.concat(h),o,!1)))}matchSegmentAgainstRoute(t,i,n,r,s){let o=U4(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(mn(a=>a.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(mn(({routes:u})=>{let l=n._loadedInjector??t,{consumedSegments:h,remainingSegments:g,parameters:d}=a,f=new za(h,d,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,eA(n),Yi(n),n.component??n._loadedComponent??null,n,tA(n)),{segmentGroup:v,slicedSegments:p}=U_(i,h,g,u);if(p.length===0&&v.hasChildren())return this.processChildren(l,u,v).pipe(pe(m=>m===null?null:new Zn(f,m)));if(u.length===0&&p.length===0)return oe(new Zn(f,[]));let y=Yi(n)===s;return this.processSegment(l,u,v,p,y?Ce:s,!0).pipe(pe(m=>new Zn(f,m instanceof Zn?[m]:[])))}))):xo(i)))}getChildConfig(t,i,n){return i.children?oe({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?oe({routes:i._loadedRoutes,injector:i._loadedInjector}):V4(t,i,n,this.urlSerializer).pipe(ft(r=>r?this.configLoader.loadChildren(t,i).pipe(Tt(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):H4(i))):oe({routes:[],injector:t})}};function Q4(e){e.sort((t,i)=>t.value.outlet===Ce?-1:i.value.outlet===Ce?1:t.value.outlet.localeCompare(i.value.outlet))}function X4(e){let t=e.value.routeConfig;return t&&t.path===""}function pb(e){let t=[],i=new Set;for(let n of e){if(!X4(n)){t.push(n);continue}let r=t.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=pb(n.children);t.push(new Zn(n.value,r))}return t.filter(n=>!i.has(n))}function eA(e){return e.data||{}}function tA(e){return e.resolve||{}}function nA(e,t,i,n,r,s){return ft(o=>J4(e,t,i,n,o.extractedUrl,r,s).pipe(pe(({state:a,tree:u})=>nt(Q({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function iA(e,t){return ft(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return oe(i);let s=new Set(r.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of gb(u))o.add(l);let a=0;return ot(o).pipe(tr(u=>s.has(u)?rA(u,n,e,t):(u.data=Bg(u,u.parent,e).resolve,oe(void 0))),Tt(()=>a++),Xs(1),ft(u=>a===o.size?oe(i):Nt))})}function gb(e){let t=e.children.map(i=>gb(i)).flat();return[e,...t]}function rA(e,t,i,n){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!ab(r)&&(s[Ja]=r.title),sA(s,e,t,n).pipe(pe(o=>(e._resolvedData=o,e.data=Bg(e,e.parent,i).resolve,null)))}function sA(e,t,i,n){let r=fg(e);if(r.length===0)return oe({});let s={};return ot(r).pipe(ft(o=>oA(e[o],t,i,n).pipe(Vi(),Tt(a=>{s[o]=a}))),Xs(1),na(s),xr(o=>fb(o)?Nt:Js(o)))}function oA(e,t,i,n){let r=Xa(t)??n,s=No(e,r),o=s.resolve?s.resolve(t,i):Si(r,()=>s(t,i));return $r(o)}function cg(e){return mn(t=>{let i=e(t);return i?ot(i).pipe(pe(()=>t)):oe(t)})}var mb=(()=>{let t=class t{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Ce);return r}getResolvedTitleForRoute(n){return n.data[Ja]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>j(aA),providedIn:"root"});let e=t;return e})(),aA=(()=>{let t=class t extends mb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(X(P_))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),tu=new ne("",{providedIn:"root",factory:()=>({})}),ed=new ne(""),Ug=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(hc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return oe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=$r(n.loadComponent()).pipe(pe(vb),Tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),nr(()=>{this.componentLoaders.delete(n)})),s=new zs(r,()=>new Qe).pipe(qs());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=uA(r,this.compiler,n,this.onLoadEndListener).pipe(nr(()=>{this.childrenLoaders.delete(r)})),a=new zs(o,()=>new Qe).pipe(qs());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function uA(e,t,i,n){return $r(e.loadChildren()).pipe(pe(vb),ft(r=>r instanceof _a||Array.isArray(r)?oe(r):ot(t.compileModuleAsync(r))),pe(r=>{n&&n(e);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(ed,[],{optional:!0,self:!0}).flat()),{routes:o.map(jg),injector:s}}))}function lA(e){return e&&typeof e=="object"&&"default"in e}function vb(e){return lA(e)?e.default:e}var $g=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>j(cA),providedIn:"root"});let e=t;return e})(),cA=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yb=new ne(""),_b=new ne("");function dA(e,t,i){let n=e.get(_b),r=e.get(Et);return e.get(He).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),fA(e))),{onViewTransitionCreated:u}=n;return u&&Si(e,()=>u({transition:a,from:t,to:i})),o})}function fA(e){return new Promise(t=>{yp(t,{injector:e})})}var Gg=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=j(Ug),this.environmentInjector=j(Yt),this.urlSerializer=j(Za),this.rootContexts=j(Qa),this.location=j(Do),this.inputBindingEnabled=j(nd,{optional:!0})!==null,this.titleStrategy=j(mb),this.options=j(tu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j($g),this.createViewTransition=j(yb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let n=s=>this.events.next(new bg(s)),r=s=>this.events.next(new wg(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(nt(Q(Q({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new zt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ja,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(o=>o.id!==0),pe(o=>nt(Q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),mn(o=>{let a=!1,u=!1;return oe(o).pipe(mn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),Nt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?nt(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!h&&g!=="reload"){let d="";return this.events.next(new Ur(l.id,this.urlSerializer.serialize(l.rawUrl),d,qc.IgnoredSameUrlNavigation)),l.resolve(null),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return oe(l).pipe(mn(d=>{let f=this.transitions?.getValue();return this.events.next(new Oo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Nt:Promise.resolve(d)}),nA(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=nt(Q({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new zc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:v,restoredState:p,extras:y}=l,m=new Oo(d,this.urlSerializer.serialize(f),v,p);this.events.next(m);let b=sb(this.rootComponentType).snapshot;return this.currentTransition=o=nt(Q({},l),{targetSnapshot:b,urlAfterRedirects:f,extras:nt(Q({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,oe(o)}else{let d="";return this.events.next(new Ur(l.id,this.urlSerializer.serialize(l.extractedUrl),d,qc.IgnoredByUrlHandlingStrategy)),l.resolve(null),Nt}}),Tt(l=>{let h=new mg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),pe(l=>(this.currentTransition=o=nt(Q({},l),{guards:b4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),A4(this.environmentInjector,l=>this.events.next(l)),Tt(l=>{if(o.guardsResult=l.guardsResult,Fo(l.guardsResult))throw lb(this.urlSerializer,l.guardsResult);let h=new vg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),lt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Qn.GuardRejected),!1)),cg(l=>{if(l.guards.canActivateChecks.length)return oe(l).pipe(Tt(h=>{let g=new yg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),mn(h=>{let g=!1;return oe(h).pipe(iA(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",Qn.NoDataFromResolver)}}))}),Tt(h=>{let g=new _g(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),cg(l=>{let h=g=>{let d=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(g.routeConfig).pipe(Tt(f=>{g.component=f}),pe(()=>{})));for(let f of g.children)d.push(...h(f));return d};return Qs(h(l.targetSnapshot.root)).pipe(Ir(null),Kt(1))}),cg(()=>this.afterPreactivation()),mn(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return g?ot(g).pipe(pe(()=>o)):oe(o)}),pe(l=>{let h=f4(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=nt(Q({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Tt(()=>{this.events.next(new Wa)}),_4(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kt(1),Tt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),It(this.transitionAbortSubject.pipe(Tt(l=>{throw l}))),nr(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xr(l=>{if(u=!0,db(l))this.events.next(new Hr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),g4(l)?this.events.next(new qa(l.url)):o.resolve(!1);else{this.events.next(new Ga(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Nt}))}))}cancelNavigationTransition(n,r,s){let o=new Hr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function hA(e){return e!==ja}var pA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>j(gA),providedIn:"root"});let e=t;return e})(),kg=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},gA=(()=>{let t=class t extends kg{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bb=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>j(mA),providedIn:"root"});let e=t;return e})(),mA=(()=>{let t=class t extends bb{constructor(){super(...arguments),this.location=j(Do),this.urlSerializer=j(Za),this.options=j(tu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j($g),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Oo)this.stateMemento=this.createStateMemento();else if(n instanceof Ur)this.rawUrlTree=r.initialUrl;else if(n instanceof zc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof Wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Hr&&(n.code===Qn.GuardRejected||n.code===Qn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ga?this.restoreHistory(r,!0):n instanceof ci&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=Q(Q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Va=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Va||{});function wb(e,t){e.events.pipe(lt(i=>i instanceof ci||i instanceof Hr||i instanceof Ga||i instanceof Ur),pe(i=>i instanceof ci||i instanceof Ur?Va.COMPLETE:(i instanceof Hr?i.code===Qn.Redirect||i.code===Qn.SupersededByNewNavigation:!1)?Va.REDIRECTING:Va.FAILED),lt(i=>i!==Va.REDIRECTING),Kt(1)).subscribe(()=>{t()})}function vA(e){throw e}var yA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_A={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ct=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(uc),this.stateManager=j(bb),this.options=j(tu,{optional:!0})||{},this.pendingTasks=j(Es),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Gg),this.urlSerializer=j(Za),this.location=j(Do),this.urlHandlingStrategy=j($g),this._events=new Qe,this.errorHandler=this.options.errorHandler||vA,this.navigated=!1,this.routeReuseStrategy=j(pA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(ed,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(nd,{optional:!0}),this.eventsSubscription=new xt,this.isNgZoneEnabled=j(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Hr&&r.code!==Qn.Redirect&&r.code!==Qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ci)this.navigated=!0;else if(r instanceof qa){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||hA(s.source)};this.scheduleNavigation(a,ja,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}wA(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=Q({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(n);this.scheduleNavigation(u,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=r,h=l?this.currentUrlTree.fragment:a,g=null;switch(u){case"merge":g=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let d;try{let f=s?s.snapshot:this.routerState.snapshot.root;d=tb(f)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return nb(d,n,g,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=Fo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ja,null,r)}navigate(n,r={skipLocationChange:!1}){return bA(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=Q({},yA):r===!1?s=Q({},_A):s=r,Fo(n))return B_(this.currentUrlTree,n,s);let o=this.parseUrl(n);return B_(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((d,f)=>{u=d,l=f});let g=this.pendingTasks.add();return wb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(d=>Promise.reject(d))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function bA(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ee(4008,!1)}function wA(e){return!(e instanceof Wa)&&!(e instanceof qa)}var Ji=(()=>{let t=class t{constructor(n,r,s,o,a,u){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(h=>{h instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:kv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(J(Ct),J(Is),ws("tabindex"),J(Wi),J(ht),J(fr))},t.\u0275dir=Ne({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Z("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&wn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",kr],skipLocationChange:[Pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",kr],replaceUrl:[Pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",kr],routerLink:"routerLink"},standalone:!0,features:[wp,qn]});let e=t;return e})();var td=class{};var EA=(()=>{let t=class t{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(lt(n=>n instanceof ci),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=rc(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return ot(s).pipe(Sr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=oe(null);let o=s.pipe(ft(a=>a===null?oe(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ot([o,a]).pipe(Sr())}else return o})}};t.\u0275fac=function(r){return new(r||t)(X(Ct),X(hc),X(Yt),X(td),X(Ug))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Eb=new ne(""),DA=(()=>{let t=class t{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ci?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ur&&n.code===qc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Kc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Jv()},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function CA(e){return e.routerState.root}function nu(e,t){return{\u0275kind:e,\u0275providers:t}}function SA(){let e=j(Bt);return t=>{let i=e.get(ur);if(t!==i.components[0])return;let n=e.get(Ct),r=e.get(Db);e.get(Wg)===1&&n.initialNavigation(),e.get(Cb,null,Ae.Optional)?.setUpPreloading(),e.get(Eb,null,Ae.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Db=new ne("",{factory:()=>new Qe}),Wg=new ne("",{providedIn:"root",factory:()=>1});function xA(){return nu(2,[{provide:Wg,useValue:0},{provide:dc,multi:!0,deps:[Bt],useFactory:t=>{let i=t.get(i_,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(Ct),s=t.get(Db);wb(r,()=>{n(!0)}),t.get(Gg).afterPreactivation=()=>(n(!0),s.closed?oe(void 0):s),r.initialNavigation()}))}}])}function IA(){return nu(3,[{provide:dc,multi:!0,useFactory:()=>{let t=j(Ct);return()=>{t.setUpLocationChangeListener()}}},{provide:Wg,useValue:2}])}var Cb=new ne("");function TA(e){return nu(0,[{provide:Cb,useExisting:EA},{provide:td,useExisting:e}])}function MA(){return nu(8,[H_,{provide:nd,useExisting:H_}])}function AA(e){let t=[{provide:yb,useValue:dA},{provide:_b,useValue:Q({skipNextTransition:!!e?.skipInitialTransition},e)}];return nu(9,t)}var $_=new ne("ROUTER_FORROOT_GUARD"),FA=[Do,{provide:Za,useClass:Ua},Ct,Qa,{provide:Is,useFactory:CA,deps:[Ct]},Ug,[]],iu=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[FA,[],{provide:ed,multi:!0,useValue:n},{provide:$_,useFactory:PA,deps:[[Ct,new Ea,new kl]]},{provide:tu,useValue:r||{}},r?.useHash?RA():NA(),OA(),r?.preloadingStrategy?TA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?kA(r):[],r?.bindToComponentInputs?MA().\u0275providers:[],r?.enableViewTransitions?AA().\u0275providers:[],BA()]}}static forChild(n){return{ngModule:t,providers:[{provide:ed,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(X($_,8))},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();function OA(){return{provide:Eb,useFactory:()=>{let e=j(p_),t=j(He),i=j(tu),n=j(Gg),r=j(Za);return i.scrollOffset&&e.setOffset(i.scrollOffset),new DA(r,n,e,t,i)}}}function RA(){return{provide:fr,useClass:s_}}function NA(){return{provide:fr,useClass:Up}}function PA(e){return"guarded"}function kA(e){return[e.initialNavigation==="disabled"?IA().\u0275providers:[],e.initialNavigation==="enabledBlocking"?xA().\u0275providers:[]]}var G_=new ne("");function BA(){return[{provide:G_,useFactory:SA},{provide:fc,multi:!0,useExisting:G_}]}var qg="auth-token",zg="auth-refresh-token",Kg="auth-user",hn=(()=>{let t=class t{constructor(){}signOut(){window.sessionStorage.clear()}saveToken(n){window.sessionStorage.removeItem(qg),window.sessionStorage.setItem(qg,n)}getToken(){return window.sessionStorage.getItem(qg)}saveRefreshToken(n){window.sessionStorage.removeItem(zg),window.sessionStorage.setItem(zg,n)}getRefreshToken(){return window.sessionStorage.getItem(zg)}saveUser(n){window.sessionStorage.removeItem(Kg),window.sessionStorage.setItem(Kg,JSON.stringify(n))}getUser(){let n=window.sessionStorage.getItem(Kg);return n?JSON.parse(n):{}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Nb=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(J(Wi),J(ht))},t.\u0275dir=Ne({type:t});let e=t;return e})(),cd=(()=>{let t=class t extends Nb{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,features:[fn]});let e=t;return e})(),Gr=new ne("");var VA={provide:Gr,useExisting:dn(()=>Zt),multi:!0};function LA(){let e=zi()?zi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var jA=new ne(""),Zt=(()=>{let t=class t extends Nb{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!LA())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(J(Wi),J(ht),J(jA,8))},t.\u0275dir=Ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Z("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Nn([VA]),fn]});let e=t;return e})();function au(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function HA(e){return e!=null&&typeof e.length=="number"}var Wr=new ne(""),Pb=new ne("");function UA(e){return t=>{if(au(t.value)||au(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function $A(e){return t=>{if(au(t.value)||au(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function GA(e){return au(e.value)?{required:!0}:null}function WA(e){return t=>HA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Sb(e){return null}function kb(e){return e!=null}function Bb(e){return Cs(e)?ot(e):e}function Vb(e){let t={};return e.forEach(i=>{t=i!=null?Q(Q({},t),i):t}),Object.keys(t).length===0?null:t}function Lb(e,t){return t.map(i=>i(e))}function qA(e){return!e.validate}function jb(e){return e.map(t=>qA(t)?t:i=>t.validate(i))}function zA(e){if(!e)return null;let t=e.filter(kb);return t.length==0?null:function(i){return Vb(Lb(i,t))}}function Jg(e){return e!=null?zA(jb(e)):null}function KA(e){if(!e)return null;let t=e.filter(kb);return t.length==0?null:function(i){let n=Lb(i,t).map(Bb);return lf(n).pipe(pe(Vb))}}function Zg(e){return e!=null?KA(jb(e)):null}function xb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function YA(e){return e._rawValidators}function JA(e){return e._rawAsyncValidators}function Yg(e){return e?Array.isArray(e)?e:[e]:[]}function sd(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ib(e,t){let i=Yg(t);return Yg(e).forEach(r=>{sd(i,r)||i.push(r)}),i}function Tb(e,t){return Yg(t).filter(i=>!sd(e,i))}var od=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},ko=class extends od{get formDirective(){return null}get path(){return null}},uu=class extends od{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ad=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ZA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},m7=nt(Q({},ZA),{"[class.ng-submitted]":"isSubmitted"}),Qt=(()=>{let t=class t extends ad{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(J(uu,2))},t.\u0275dir=Ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&En("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[fn]});let e=t;return e})(),Pn=(()=>{let t=class t extends ad{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(J(ko,10))},t.\u0275dir=Ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&En("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[fn]});let e=t;return e})();var ru="VALID",rd="INVALID",Po="PENDING",su="DISABLED";function Hb(e){return(dd(e)?e.validators:e)||null}function QA(e){return Array.isArray(e)?Jg(e):e||null}function Ub(e,t){return(dd(t)?t.asyncValidators:e)||null}function XA(e){return Array.isArray(e)?Zg(e):e||null}function dd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function eF(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new ee(1e3,"");if(!n[i])throw new ee(1001,"")}function tF(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new ee(1002,"")})}var ud=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===rd}get pending(){return this.status==Po}get disabled(){return this.status===su}get enabled(){return this.status!==su}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ib(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ib(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Tb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Tb(t,this._rawAsyncValidators))}hasValidator(t){return sd(this._rawValidators,t)}hasAsyncValidator(t){return sd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Po,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=su,this.errors=null,this._forEachChild(n=>{n.disable(nt(Q({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(nt(Q({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ru,this._forEachChild(n=>{n.enable(nt(Q({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(nt(Q({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===Po)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?su:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Po,this._hasOwnPendingAsyncValidator=!0;let i=Bb(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?su:this.errors?rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Po)?Po:this._anyControlsHaveStatus(rd)?rd:ru}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=QA(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=XA(this._rawAsyncValidators)}},ld=class extends ud{constructor(t,i,n){super(Hb(i),Ub(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){tF(this,!0,t),Object.keys(t).forEach(n=>{eF(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Qg=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>Xg}),Xg="always";function nF(e,t){return[...t.path,e]}function $b(e,t,i=Xg){Gb(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),rF(e,t),oF(e,t),sF(e,t),iF(e,t)}function Mb(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function iF(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function Gb(e,t){let i=YA(e);t.validator!==null?e.setValidators(xb(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=JA(e);t.asyncValidator!==null?e.setAsyncValidators(xb(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();Mb(t._rawValidators,r),Mb(t._rawAsyncValidators,r)}function rF(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Wb(e,t)})}function sF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Wb(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Wb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function oF(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function aF(e,t){e==null,Gb(e,t)}function uF(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function lF(e){return Object.getPrototypeOf(e.constructor)===cd}function cF(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function dF(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(s=>{s.constructor===Zt?i=s:lF(s)?n=s:r=s}),r||n||i||null}var fF={provide:ko,useExisting:dn(()=>xn)},ou=Promise.resolve(),xn=(()=>{let t=class t extends ko{constructor(n,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new ld({},Jg(n),Zg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ou.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),$b(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ou.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ou.then(()=>{let r=this._findContainer(n.path),s=new ld({});aF(s,n),r.registerControl(n.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ou.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ou.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,cF(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(J(Wr,10),J(Pb,10),J(Qg,8))},t.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Z("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[Pt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nn([fF]),fn]});let e=t;return e})();function Ab(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function Fb(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var hF=class extends ud{constructor(t=null,i,n){super(Hb(i),Ub(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dd(i)&&(i.nonNullable||i.initialValueIsDefault)&&(Fb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ab(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ab(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Fb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var pF={provide:uu,useExisting:dn(()=>Lt)},Ob=Promise.resolve(),Lt=(()=>{let t=class t extends uu{constructor(n,r,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new hF,this._registered=!1,this.name="",this.update=new Fe,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=dF(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uF(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$b(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Ob.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&kr(r);Ob.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nF(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(J(ko,9),J(Wr,10),J(Pb,10),J(Gr,10),J(Kn,8),J(Qg,8))},t.\u0275dir=Ne({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Pt.None,"disabled","isDisabled"],model:[Pt.None,"ngModel","model"],options:[Pt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nn([pF]),fn,qn]});let e=t;return e})(),kn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})(),gF={provide:Gr,useExisting:dn(()=>em),multi:!0},em=(()=>{let t=class t extends cd{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&Z("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Nn([gF]),fn]});let e=t;return e})();var mF={provide:Gr,useExisting:dn(()=>Bn),multi:!0};function qb(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function vF(e){return e.split(":")[0]}var Bn=(()=>{let t=class t extends cd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),s=qb(r,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=vF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&Z("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nn([mF]),fn]});let e=t;return e})(),di=(()=>{let t=class t{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(qb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(r){return new(r||t)(J(ht),J(Wi),J(Bn,9))},t.\u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})(),yF={provide:Gr,useExisting:dn(()=>zb),multi:!0};function Rb(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function _F(e){return e.split(":")[0]}var zb=(()=>{let t=class t extends cd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let s=n.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);s.push(h)}}else{let a=r.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);s.push(h)}}}this.value=s,n(s)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=_F(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&Z("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nn([yF]),fn]});let e=t;return e})(),fi=(()=>{let t=class t{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Rb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Rb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(r){return new(r||t)(J(ht),J(Wi),J(zb,9))},t.\u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})();function bF(e){return typeof e=="number"?e:parseInt(e,10)}function Kb(e){return typeof e=="number"?e:parseFloat(e)}var fd=(()=>{let t=class t{constructor(){this._validator=Sb}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,features:[qn]});let e=t;return e})(),wF={provide:Wr,useExisting:dn(()=>tm),multi:!0},tm=(()=>{let t=class t extends fd{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Kb(n),this.createValidator=n=>$A(n)}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&wn("max",s._enabled?s.max:null)},inputs:{max:"max"},features:[Nn([wF]),fn]});let e=t;return e})(),EF={provide:Wr,useExisting:dn(()=>nm),multi:!0},nm=(()=>{let t=class t extends fd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Kb(n),this.createValidator=n=>UA(n)}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&wn("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[Nn([EF]),fn]});let e=t;return e})(),DF={provide:Wr,useExisting:dn(()=>lu),multi:!0};var lu=(()=>{let t=class t extends fd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=kr,this.createValidator=n=>GA}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&wn("required",s._enabled?"":null)},inputs:{required:"required"},features:[Nn([DF]),fn]});let e=t;return e})();var CF={provide:Wr,useExisting:dn(()=>im),multi:!0},im=(()=>{let t=class t extends fd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>bF(n),this.createValidator=n=>WA(n)}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&wn("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Nn([CF]),fn]});let e=t;return e})();var SF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Yb=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Qg,useValue:n.callSetDisabledState??Xg}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({imports:[SF]});let e=t;return e})();var Jb=(()=>{let t=class t{constructor(){this.title="",this.link="",this.img=""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["app-carousel-card"]],inputs:{title:"title",link:"link",img:"img"},decls:4,vars:3,consts:[[1,"card",3,"routerLink"],[1,"card-img",3,"src"]],template:function(r,s){r&1&&(M(0,"div",0),ye(1,"img",1),M(2,"h3"),L(3),F()()),r&2&&(qi("routerLink",s.link),P(),U("src",s.img,Gi),P(2),de(s.title))},dependencies:[Ji],styles:[".card[_ngcontent-%COMP%]{width:18rem;height:280px;border-radius:20px;box-shadow:0 4px 4px #00000020;transition:.3s;margin:1.05rem}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-img[_ngcontent-%COMP%]{width:100%;height:80%;border-radius:20px 20px 0 0;background-size:cover;background-repeat:no-repeat}h3[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:13pt;color:#000}a[_ngcontent-%COMP%]{text-decoration:none}@media (max-width: 1350px){.card[_ngcontent-%COMP%]{width:200px;height:200px}}@media (max-width: 992px){.card[_ngcontent-%COMP%]{width:18rem;height:280px;margin:0 auto}}"]});let e=t;return e})();function IF(e,t){if(e&1&&(M(0,"div",18),L(1),F()),e&2){let i=$();P(),it(" ",i.searchError," ")}}function TF(e,t){if(e&1&&(M(0,"div",20),ye(1,"app-carousel-card",21),F()),e&2){let i=t.$implicit;P(),U("title",i.title)("img",i.img)("link",i.link)}}function MF(e,t){if(e&1&&(M(0,"div",17),te(1,TF,2,3,"div",19),F()),e&2){let i=$();P(),U("ngForOf",i.cards)}}function AF(e,t){e&1&&(M(0,"div",22)(1,"div",23),L(2," \u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u043A\u0443\u0440\u0441\u043E\u0432 "),F()())}var Zb=(()=>{let t=class t{constructor(n,r){this.tokenStorage=n,this.router=r,this.backgroundPosition={},this.cards=[{title:"Card 1",img:"../../assets/homePage/card-img.png",link:"#"},{title:"Card 2",img:"../../assets/homePage/card-img1.png",link:"#"},{title:"Card 3",img:"../../assets/homePage/card-img2.png",link:"#"},{title:"Card 4",img:"../../assets/homePage/card-img3.png",link:"#"}]}ngOnInit(){if(!this.tokenStorage.getToken()){this.router.navigate(["/login"]).then(()=>window.location.reload());return}}submitForm(){this.searchError="";let n=document.getElementById("searchInput").value;n==""?(this.searchError="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",console.log(this.searchError)):console.log("Search query:",n)}onMouseMove(n){let r=(window.innerWidth/2-n.clientX)/60,s=(window.innerHeight/2-n.clientY)/60;this.backgroundPosition={transform:`translate(${r}px, ${s}px)`}}};t.\u0275fac=function(r){return new(r||t)(J(hn),J(Ct))},t.\u0275cmp=Re({type:t,selectors:[["app-main-page"]],decls:23,vars:3,consts:[["myForm","ngForm"],[1,"container-fluid","m-0","p-0"],[1,"banner-wrap",3,"mousemove"],[1,"banner",3,"ngStyle"],[1,"container-fluid","cards"],[1,"row","justify-content-around","align-items-center","my-3","flex-column","flex-md-column","flex-lg-row"],[1,"col-12","col-lg-5","my-3","my-lg-0","d-flex","align-items-center","justify-content-center","justify-content-lg-between"],["routerLink","/courses",1,"courses-link"],[1,"fas","fa-arrow-right","mx-2"],[1,"col-10","col-lg-5","col-md-7"],[1,"d-flex","align-items-center",3,"submit"],["name","searchInput","id","searchInput","type","text","placeholder","\u041F\u043E\u0438\u0441\u043A..","aria-label","\u041F\u043E\u0438\u0441\u043A..","required","","ngModel","",1,"form-control","form-control-lg","mx-3"],["type","submit",1,"btn","btn-primary"],[1,"container"],[1,"row"],[1,"col-12"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"cards-container","d-fex","flex-column","flex-md-column","flex-lg-row"],["role","alert",1,"alert","alert-danger"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"card-item",3,"title","img","link"],[1,"container","my-5","py-lg-5"],["role","alert",1,"alert","alert-danger","my-5"]],template:function(r,s){if(r&1){let o=Ue();M(0,"div",1)(1,"div",2),Z("mousemove",function(u){return q(o),z(s.onMouseMove(u))}),ye(2,"div",3),M(3,"p"),L(4,"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0440\u0435\u0441\u0443\u0440\u0441"),F()()(),M(5,"div",4)(6,"div",5)(7,"div",6)(8,"a",7),L(9," \u0412\u0430\u0448\u0438 \u043A\u0443\u0440\u0441\u044B "),ye(10,"i",8),F()(),M(11,"div",9)(12,"form",10,0),Z("submit",function(){return q(o),z(s.submitForm())}),ye(14,"input",11),M(15,"button",12),L(16,"\u041F\u043E\u0438\u0441\u043A"),F()()()()(),M(17,"div",13)(18,"div",14)(19,"div",15),te(20,IF,2,1,"div",16),F()()(),te(21,MF,2,1,"div",17)(22,AF,3,0)}r&2&&(P(2),U("ngStyle",s.backgroundPosition),P(18),U("ngIf",s.searchError),P(),ve(21,s.cards.length>0?21:22))},dependencies:[Vr,Tc,d_,Ji,kn,Zt,Qt,Pn,lu,Lt,xn,Jb],styles:['.banner-wrap[_ngcontent-%COMP%]{display:flex;width:100%;height:500px;align-items:flex-end;justify-content:center;position:relative;font-size:14pt;color:#ffffff30;text-transform:uppercase;overflow:hidden}.banner[_ngcontent-%COMP%]{display:block;position:absolute;top:-5%;width:110%;height:110%;background-image:url("./media/banner-AZFVWZXB.png");background-size:cover;background-repeat:no-repeat;background-position:center center;z-index:-1}@media (max-width: 1000px){.banner[_ngcontent-%COMP%]{background-position:-400px}}@media (max-width: 500px){.banner-wrap[_ngcontent-%COMP%]{background-position:-500px;height:300px;width:100vw}.banner[_ngcontent-%COMP%]{background-position:-230px}}@media (max-width: 450px){.banner-wrap[_ngcontent-%COMP%]{font-size:12pt}}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.courses-link[_ngcontent-%COMP%]{font-size:15pt;text-decoration:none;color:#000}']});let e=t;return e})();var qr="http://localhost:3000/api",zr={headers:new Jn({"Content-Type":"application/json"})},Kr=(()=>{let t=class t{constructor(n){this.http=n}getTimeTable(n,r){return this.http.post(qr+"/public/publicGetLesson",{date:n,group:r},zr)}getAllGroups(){return this.http.post(qr+"/public/getAllGroups",zr)}getAllSubjects(){return this.http.post(qr+"/public/getAllSubjects",zr)}getCurrentGroup(n){return this.http.post(qr+"/public/getCurrentGroup",{user:n},zr)}getStudent(n){return this.http.post(qr+"/public/getUser",{userId:n},zr)}getUsername(n){return this.http.post(qr+"/public/getUsername",{user:n},zr)}getScores(n,r,s,o){return this.http.post(qr+"/public/getScores",{search:n,date:r,subject:s,group:o},zr)}getPagesCount(n,r,s,o){return this.http.post(qr+"/public/getScoresPagesCount",{search:n,date:r,subject:s,group:o},zr)}};t.\u0275fac=function(r){return new(r||t)(X(Ai))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Qb=()=>({standalone:!0});function FF(e,t){if(e&1&&(M(0,"option",4),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),Cp("",i.date," ",i.month," ",i.dayOfWeek,"")}}function OF(e,t){if(e&1&&(M(0,"option",4),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function RF(e,t){if(e&1&&(M(0,"div",6)(1,"div",2)(2,"div",8)(3,"div",9),L(4),F(),M(5,"div",10)(6,"div",11)(7,"h5",12),L(8),F()(),M(9,"div",2)(10,"p",13),ye(11,"i",14),L(12),F(),M(13,"p",13),ye(14,"i",15),L(15),F()()()()()()),e&2){let i=t.$implicit;P(4),it(" ",i.pareNumber," "),P(4),de(i.pareName),P(4),de(i.teacherName),P(3),de(i.classRoom)}}function NF(e,t){if(e&1&&te(0,RF,16,4,"div",7),e&2){let i=$();U("ngForOf",i.times)}}function PF(e,t){e&1&&(M(0,"div",6)(1,"div",2)(2,"div",16)(3,"div",10)(4,"div",17)(5,"h5",18),L(6,"\u041D\u0435\u0442 \u0437\u0430\u043D\u044F\u0442\u0438\u0439"),F()()()()()())}var Xb=(()=>{let t=class t{constructor(n,r,s){this.publicService=n,this.tokenStorageService=r,this.router=s,this.dates=[],this.groups=[],this.times=[]}ngOnInit(){if(!this.tokenStorageService.getToken()){this.router.navigate(["/login"]);return}this.generateDates(),this.getGroup(),this.selectedDate=this.dates[0],this.publicService.getCurrentGroup(this.tokenStorageService.getUser().userId).subscribe(n=>{this.groups.forEach(r=>{n==r.name&&(this.selectedGroup=r,this.getTimeTable())})})}getTimeTable(){return qe(this,null,function*(){yield this.publicService.getTimeTable(this.selectedDate?.fulldate,this.selectedGroup?.name).subscribe(n=>{this.times=n})})}getGroup(){return qe(this,null,function*(){yield this.publicService.getAllGroups().subscribe(n=>{this.groups=n})})}changeSelect(){this.getTimeTable()}generateDates(){for(var n=0;n<6;n++){var r=new Date;if(r.setDate(r.getDate()+n),r.getDay()===0)continue;var s=["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],o=s[r.getMonth()],a=["\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],u=a[r.getDay()-1];let l=r.getFullYear(),h=r.getMonth()+1,g=r.getDate();this.dates.push({date:r.getDate(),month:o,dayOfWeek:u,fulldate:`${l}-${h<10?"0"+h:h}-${g<10?"0"+g:g}`})}}};t.\u0275fac=function(r){return new(r||t)(J(Kr),J(hn),J(Ct))},t.\u0275cmp=Re({type:t,selectors:[["app-courses-page"]],decls:14,vars:7,consts:[[1,"container"],[1,"row","my-3","flex-column","flex-md-row"],[1,"col"],[1,"form-select",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"ngValue"],[1,"col","my-3","my-md-0"],[1,"row","mb-3"],["class","row mb-3",4,"ngFor","ngForOf"],[1,"card","p-lg-4"],[1,"card-number"],[1,"card-body","d-flex","align-items-center"],[1,"col-8","col-md-6"],[1,"card-title","m-0","fs-5","fs-md-3"],[1,"card-text"],["aria-hidden","true",1,"fa","fa-user","mx-1"],["aria-hidden","true",1,"fa","fa-location-arrow","mx-1"],[1,"card","p-lg-4","error-card"],[1,"col","text-center"],[1,"card-title","m-0"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"select",3),ce("ngModelChange",function(a){return fe(s.selectedDate,a)||(s.selectedDate=a),a}),Z("change",function(){return s.changeSelect()}),Te(4,FF,2,4,"option",4,ct),F()(),ye(6,"div",2),M(7,"div",5)(8,"select",3),ce("ngModelChange",function(a){return fe(s.selectedGroup,a)||(s.selectedGroup=a),a}),Z("change",function(){return s.changeSelect()}),Te(9,OF,2,2,"option",4,ct),F()()()(),M(11,"div",0),te(12,NF,1,1,"div",6)(13,PF,7,0),F()),r&2&&(P(3),le("ngModel",s.selectedDate),U("ngModelOptions",De(5,Qb)),P(),Me(s.dates),P(4),le("ngModel",s.selectedGroup),U("ngModelOptions",De(6,Qb)),P(),Me(s.groups),P(3),ve(12,s.times.length!=0?12:13))},dependencies:[Vr,di,fi,Bn,Qt,Lt],styles:['.card[_ngcontent-%COMP%]{position:relative;justify-content:center}.card[_ngcontent-%COMP%]:hover.card:after{opacity:1}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:28px;height:100%;background:url("./media/left-bar-EOEIJ7SA.svg");background-repeat:no-repeat;background-size:cover;opacity:.5;transition:.3s}.error-card[_ngcontent-%COMP%]:after{display:none}.card-number[_ngcontent-%COMP%]{position:absolute;color:#fff;left:10px;top:44%;z-index:1}@media (max-width: 993px){.card-text[_ngcontent-%COMP%]{font-size:10pt}.card-number[_ngcontent-%COMP%]{top:38%;left:5px}.card[_ngcontent-%COMP%]:after{background-size:cover;width:16px;opacity:1}.card-body[_ngcontent-%COMP%]{margin-left:20px}}']});let e=t;return e})();function kF(e,t){if(e&1&&(M(0,"div",10),L(1),F()),e&2){let i=$();P(),it(" ",i.searchError," ")}}function BF(e,t){if(e&1&&(M(0,"div",12)(1,"div",13),ye(2,"img",14),M(3,"h3"),L(4),F()()()),e&2){let i=t.$implicit;P(),qi("routerLink",i.link),P(),U("src",i.img,Gi),P(2),de(i.title)}}function VF(e,t){if(e&1&&(M(0,"div",9),te(1,BF,5,3,"div",11),F()),e&2){let i=$();P(),U("ngForOf",i.cards)}}function LF(e,t){e&1&&(M(0,"div",15)(1,"div",16),L(2," \u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u043A\u0443\u0440\u0441\u043E\u0432 "),F()())}var rm=(()=>{let t=class t{constructor(){this.searchError="",this.cards=[{title:"Card 1",img:"../../assets/homePage/card-img.png",link:"#"},{title:"Card 2",img:"../../assets/homePage/card-img1.png",link:"#"},{title:"Card 3",img:"../../assets/homePage/card-img2.png",link:"#"},{title:"Card 4",img:"../../assets/homePage/card-img3.png",link:"#"},{title:"Card 5",img:"../../assets/homePage/card-img4.png",link:"#"},{title:"Card 6",img:"../../assets/homePage/card-img5.png",link:"#"},{title:"Card 7",img:"../../assets/homePage/card-img6.png",link:"#"},{title:"Card 8",img:"../../assets/homePage/card-img7.png",link:"#"},{title:"Card 9",img:"../../assets/homePage/card-img8.png",link:"#"},{title:"Card 10",img:"../../assets/homePage/card-img9.png",link:"#"},{title:"Card 11",img:"../../assets/homePage/card-img10.png",link:"#"},{title:"Card 12",img:"../../assets/homePage/card-img.png",link:"#"}]}submitForm(){this.searchError="";let n=document.getElementById("searchInput").value;n==""?(this.searchError="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",console.log(this.searchError)):console.log("Search query:",n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["app-courses-page"]],decls:13,vars:2,consts:[["myForm","ngForm"],[1,"container"],[1,"row"],[1,"d-flex","align-items-center","my-3",3,"submit"],["name","searchInput","id","searchInput","type","text","placeholder","\u041F\u043E\u0438\u0441\u043A..","aria-label","\u041F\u043E\u0438\u0441\u043A..","required","","ngModel","",1,"form-control","form-control-lg","mx-3"],["type","submit",1,"btn","btn-primary"],[1,"col-12","my-2","mx-3"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"col"],[1,"cards-container","grid-container"],["role","alert",1,"alert","alert-danger"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"card",3,"routerLink"],[1,"card-img",3,"src"],[1,"container","my-1","py-lg-1"],["role","alert",1,"alert","alert-danger","my-1","text-center"]],template:function(r,s){if(r&1){let o=Ue();M(0,"div",1)(1,"div",2)(2,"form",3,0),Z("submit",function(){return q(o),z(s.submitForm())}),ye(4,"input",4),M(5,"button",5),L(6,"\u041F\u043E\u0438\u0441\u043A"),F()(),M(7,"div",6),te(8,kF,2,1,"div",7),F()(),M(9,"div",2)(10,"div",8),te(11,VF,2,1,"div",9)(12,LF,3,0),F()()()}r&2&&(P(8),U("ngIf",s.searchError),P(3),ve(11,s.cards.length>0?11:12))},dependencies:[Vr,Tc,Ji,kn,Zt,Qt,Pn,lu,Lt,xn],styles:['@charset "UTF-8";.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(290px,1fr));grid-gap:20px}.card[_ngcontent-%COMP%]{width:18rem;height:280px;border-radius:20px;box-shadow:0 4px 4px #00000020;transition:.3s;margin:1.05rem}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-img[_ngcontent-%COMP%]{width:100%;height:80%;border-radius:20px 20px 0 0;background-size:cover;background-repeat:no-repeat}h3[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:13pt;color:#000}a[_ngcontent-%COMP%]{text-decoration:none}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:0 auto}}']});let e=t;return e})();var ew=(()=>{let t=class t{constructor(n,r,s,o){this.router=n,this.tokenStorage=r,this.publicService=s,this.http=o,this.roleId=this.tokenStorage.getUser().role}ngOnInit(){return qe(this,null,function*(){if(!this.tokenStorage.getToken()){this.router.navigate(["/login"]);return}let n=yield this.publicService.getStudent(this.tokenStorage.getUser().userId).toPromise();if(n){let r=n;this.user=r}else console.error("Response data not found");switch(this.roleId){case"user":this.role="\u0421\u0442\u0443\u0434\u0435\u043D\u0442";break;case"teacher":this.role="\u041F\u0440\u0435\u043F\u043E\u0434\u0430\u0432\u0430\u0442\u0435\u043B\u044C";break;case"admin":this.role="\u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440";break;default:this.role="unknown";break}this.getAvatar()})}getAvatar(){return qe(this,null,function*(){let n=yield this.publicService.getUsername(this.tokenStorage.getUser().userId).subscribe(r=>this.profileImageHref="https://api.dicebear.com/8.x/identicon/svg?seed="+r)})}logout(){this.tokenStorage.signOut(),this.router.navigate(["/login"]).then(()=>window.location.reload())}};t.\u0275fac=function(r){return new(r||t)(J(Ct),J(hn),J(Kr),J(Ai))},t.\u0275cmp=Re({type:t,selectors:[["app-profile-page"]],decls:18,vars:4,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-10","col-lg-5","mx-auto"],[1,"card"],[1,"card-body","text-center"],[1,"user-avatar","mx-auto","my-3"],["alt","",1,"w-100","rounded-circle",3,"src"],[1,"card-title","fs-2"],[1,"card-title","fs-5","mb-5"],[1,"card","mt-3"],["type","button",1,"btn","btn-light","p-2",3,"click"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ye(6,"img",6),F(),M(7,"h2",7),L(8),F(),M(9,"h2",7),L(10),F(),M(11,"h2",8),L(12),F()()()()(),M(13,"div",1)(14,"div",2)(15,"div",9)(16,"button",10),Z("click",function(){return s.logout()}),L(17,"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u0443\u0447\u0451\u0442\u043D\u043E\u0439 \u0437\u0430\u043F\u0438\u0441\u0438"),F()()()()()),r&2&&(P(6),qi("src",s.profileImageHref,Gi),P(2),de(s.user==null?null:s.user.name),P(2),de(s.user==null?null:s.user.surname),P(2),de(s.role))},styles:[".user-avatar[_ngcontent-%COMP%]{width:200px;height:200PX}.btn-light[_ngcontent-%COMP%]{background:#fff}"]});let e=t;return e})();var Xt="http://localhost:3000/api",en={headers:new Jn({"Content-Type":"application/json"})},Yr=(()=>{let t=class t{constructor(n){this.http=n}getAllUsers(){return this.http.post(Xt+"/user/getAllUsers",en)}getAllSubjects(){return this.http.post(Xt+"/user/getAllSubjects",en)}getAllGroups(){return this.http.post(Xt+"/user/getAllGroups",en)}registerUser(n,r,s,o,a,u){return this.http.post(Xt+"/auth/signup",{username:n,password:r,name:s,sname:o,group:a,role:u},en)}updateUser(n,r,s,o,a,u,l){return this.http.post(Xt+"/user/updateUser",{mainUsername:n,username:r,password:s,name:o,sname:a,groupId:u,role:l},en)}deleteUser(n){return this.http.post(Xt+"/user/deleteUser",{username:n},en)}createSubject(n){return this.http.post(Xt+"/user/addSubject",{name:n},en)}updateSubject(n,r){return this.http.post(Xt+"/user/updateSubject",{name:n,mainName:r},en)}deleteSubject(n){return this.http.post(Xt+"/user/deleteSubject",{name:n},en)}createGroup(n){return this.http.post(Xt+"/user/addGroup",{name:n},en)}updateGroup(n,r){return this.http.post(Xt+"/user/updateGroup",{name:n,mainName:r},en)}deleteGroup(n){return this.http.post(Xt+"/user/deleteGroup",{name:n},en)}getAllTeachers(){return this.http.post(Xt+"/user/getTeachers",en)}addLesson(n,r,s,o,a,u,l){return this.http.post(Xt+"/user/addLesson",{subject:n,name:r,sname:s,date:o,pareNumber:a,classNumber:u,group:l},en)}getLesson(n,r){return this.http.post(Xt+"/user/getLesson",{group:n,date:r},en)}getRoles(){return this.http.post(Xt+"/user/getRoles",en)}deleteLesson(n,r,s){return this.http.post(Xt+"/user/deleteLesson",{group:n,date:r,pareNumber:s},en)}updateLesson(n,r){return this.http.post(Xt+"/user/updateLesson",{lesson:n,newLesson:r},en)}};t.\u0275fac=function(r){return new(r||t)(X(Ai))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var jF="http://localhost:3000/api",tw=(()=>{let t=class t{constructor(n){this.http=n}AddUsersCSV(n){let r=new FormData;return r.append("file",n),this.http.post(jF+"/user/addUsersCSV",r).subscribe(s=>{console.log(s)})}};t.\u0275fac=function(r){return new(r||t)(X(Ai))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ts(e){e||(Uh(Ts),e=j(Nr));let t=new _e(i=>e.onDestroy(i.next.bind(i)));return i=>i.pipe(It(t))}var Ft="top",pn="bottom",tn="right",jt="left",gd="auto",Jr=[Ft,pn,tn,jt],gr="start",Ms="end",nw="clippingParents",md="viewport",Bo="popper",iw="reference",sm=Jr.reduce(function(e,t){return e.concat([t+"-"+gr,t+"-"+Ms])},[]),vd=[].concat(Jr,[gd]).reduce(function(e,t){return e.concat([t,t+"-"+gr,t+"-"+Ms])},[]),UF="beforeRead",$F="read",GF="afterRead",WF="beforeMain",qF="main",zF="afterMain",KF="beforeWrite",YF="write",JF="afterWrite",rw=[UF,$F,GF,WF,qF,zF,KF,YF,JF];function nn(e){return e?(e.nodeName||"").toLowerCase():null}function yt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function hi(e){var t=yt(e).Element;return e instanceof t||e instanceof Element}function Ht(e){var t=yt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Vo(e){if(typeof ShadowRoot>"u")return!1;var t=yt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ZF(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},r=t.attributes[i]||{},s=t.elements[i];!Ht(s)||!nn(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function QF(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],s=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),a=o.reduce(function(u,l){return u[l]="",u},{});!Ht(r)||!nn(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(u){r.removeAttribute(u)}))})}}var sw={name:"applyStyles",enabled:!0,phase:"write",fn:ZF,effect:QF,requires:["computeStyles"]};function rn(e){return e.split("-")[0]}var Fi=Math.max,As=Math.min,mr=Math.round;function Lo(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function cu(){return!/^((?!chrome|android).)*safari/i.test(Lo())}function pi(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var n=e.getBoundingClientRect(),r=1,s=1;t&&Ht(e)&&(r=e.offsetWidth>0&&mr(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&mr(n.height)/e.offsetHeight||1);var o=hi(e)?yt(e):window,a=o.visualViewport,u=!cu()&&i,l=(n.left+(u&&a?a.offsetLeft:0))/r,h=(n.top+(u&&a?a.offsetTop:0))/s,g=n.width/r,d=n.height/s;return{width:g,height:d,top:h,right:l+g,bottom:h+d,left:l,x:l,y:h}}function Fs(e){var t=pi(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function du(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Vo(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function In(e){return yt(e).getComputedStyle(e)}function om(e){return["table","td","th"].indexOf(nn(e))>=0}function gn(e){return((hi(e)?e.ownerDocument:e.document)||window.document).documentElement}function vr(e){return nn(e)==="html"?e:e.assignedSlot||e.parentNode||(Vo(e)?e.host:null)||gn(e)}function ow(e){return!Ht(e)||In(e).position==="fixed"?null:e.offsetParent}function XF(e){var t=/firefox/i.test(Lo()),i=/Trident/i.test(Lo());if(i&&Ht(e)){var n=In(e);if(n.position==="fixed")return null}var r=vr(e);for(Vo(r)&&(r=r.host);Ht(r)&&["html","body"].indexOf(nn(r))<0;){var s=In(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Oi(e){for(var t=yt(e),i=ow(e);i&&om(i)&&In(i).position==="static";)i=ow(i);return i&&(nn(i)==="html"||nn(i)==="body"&&In(i).position==="static")?t:i||XF(e)||t}function Os(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Rs(e,t,i){return Fi(e,As(t,i))}function aw(e,t,i){var n=Rs(e,t,i);return n>i?i:n}function fu(){return{top:0,right:0,bottom:0,left:0}}function hu(e){return Object.assign({},fu(),e)}function pu(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var eO=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,hu(typeof t!="number"?t:pu(t,Jr))};function tO(e){var t,i=e.state,n=e.name,r=e.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=rn(i.placement),u=Os(a),l=[jt,tn].indexOf(a)>=0,h=l?"height":"width";if(!(!s||!o)){var g=eO(r.padding,i),d=Fs(s),f=u==="y"?Ft:jt,v=u==="y"?pn:tn,p=i.rects.reference[h]+i.rects.reference[u]-o[u]-i.rects.popper[h],y=o[u]-i.rects.reference[u],m=Oi(s),b=m?u==="y"?m.clientHeight||0:m.clientWidth||0:0,E=p/2-y/2,D=g[f],C=b-d[h]-g[v],O=b/2-d[h]/2+E,k=Rs(D,O,C),_=u;i.modifiersData[n]=(t={},t[_]=k,t.centerOffset=k-O,t)}}function nO(e){var t=e.state,i=e.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||du(t.elements.popper,r)&&(t.elements.arrow=r))}var am={name:"arrow",enabled:!0,phase:"main",fn:tO,effect:nO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gi(e){return e.split("-")[1]}var iO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rO(e,t){var i=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:mr(i*r)/r||0,y:mr(n*r)/r||0}}function uw(e){var t,i=e.popper,n=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,u=e.gpuAcceleration,l=e.adaptive,h=e.roundOffsets,g=e.isFixed,d=o.x,f=d===void 0?0:d,v=o.y,p=v===void 0?0:v,y=typeof h=="function"?h({x:f,y:p}):{x:f,y:p};f=y.x,p=y.y;var m=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),E=jt,D=Ft,C=window;if(l){var O=Oi(i),k="clientHeight",_="clientWidth";if(O===yt(i)&&(O=gn(i),In(O).position!=="static"&&a==="absolute"&&(k="scrollHeight",_="scrollWidth")),O=O,r===Ft||(r===jt||r===tn)&&s===Ms){D=pn;var w=g&&O===C&&C.visualViewport?C.visualViewport.height:O[k];p-=w-n.height,p*=u?1:-1}if(r===jt||(r===Ft||r===pn)&&s===Ms){E=tn;var S=g&&O===C&&C.visualViewport?C.visualViewport.width:O[_];f-=S-n.width,f*=u?1:-1}}var x=Object.assign({position:a},l&&iO),T=h===!0?rO({x:f,y:p},yt(i)):{x:f,y:p};if(f=T.x,p=T.y,u){var N;return Object.assign({},x,(N={},N[D]=b?"0":"",N[E]=m?"0":"",N.transform=(C.devicePixelRatio||1)<=1?"translate("+f+"px, "+p+"px)":"translate3d("+f+"px, "+p+"px, 0)",N))}return Object.assign({},x,(t={},t[D]=b?p+"px":"",t[E]=m?f+"px":"",t.transform="",t))}function sO(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=n===void 0?!0:n,s=i.adaptive,o=s===void 0?!0:s,a=i.roundOffsets,u=a===void 0?!0:a,l={placement:rn(t.placement),variation:gi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,uw(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,uw(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var lw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sO,data:{}};var yd={passive:!0};function oO(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,s=r===void 0?!0:r,o=n.resize,a=o===void 0?!0:o,u=yt(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach(function(h){h.addEventListener("scroll",i.update,yd)}),a&&u.addEventListener("resize",i.update,yd),function(){s&&l.forEach(function(h){h.removeEventListener("scroll",i.update,yd)}),a&&u.removeEventListener("resize",i.update,yd)}}var cw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oO,data:{}};var aO={left:"right",right:"left",bottom:"top",top:"bottom"};function jo(e){return e.replace(/left|right|bottom|top/g,function(t){return aO[t]})}var uO={start:"end",end:"start"};function _d(e){return e.replace(/start|end/g,function(t){return uO[t]})}function Ns(e){var t=yt(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function Ps(e){return pi(gn(e)).left+Ns(e).scrollLeft}function um(e,t){var i=yt(e),n=gn(e),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(r){s=r.width,o=r.height;var l=cu();(l||!l&&t==="fixed")&&(a=r.offsetLeft,u=r.offsetTop)}return{width:s,height:o,x:a+Ps(e),y:u}}function lm(e){var t,i=gn(e),n=Ns(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=Fi(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Fi(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Ps(e),u=-n.scrollTop;return In(r||i).direction==="rtl"&&(a+=Fi(i.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:u}}function ks(e){var t=In(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function bd(e){return["html","body","#document"].indexOf(nn(e))>=0?e.ownerDocument.body:Ht(e)&&ks(e)?e:bd(vr(e))}function Zr(e,t){var i;t===void 0&&(t=[]);var n=bd(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),s=yt(n),o=r?[s].concat(s.visualViewport||[],ks(n)?n:[]):n,a=t.concat(o);return r?a:a.concat(Zr(vr(o)))}function Ho(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lO(e,t){var i=pi(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function dw(e,t,i){return t===md?Ho(um(e,i)):hi(t)?lO(t,i):Ho(lm(gn(e)))}function cO(e){var t=Zr(vr(e)),i=["absolute","fixed"].indexOf(In(e).position)>=0,n=i&&Ht(e)?Oi(e):e;return hi(n)?t.filter(function(r){return hi(r)&&du(r,n)&&nn(r)!=="body"}):[]}function cm(e,t,i,n){var r=t==="clippingParents"?cO(e):[].concat(t),s=[].concat(r,[i]),o=s[0],a=s.reduce(function(u,l){var h=dw(e,l,n);return u.top=Fi(h.top,u.top),u.right=As(h.right,u.right),u.bottom=As(h.bottom,u.bottom),u.left=Fi(h.left,u.left),u},dw(e,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function gu(e){var t=e.reference,i=e.element,n=e.placement,r=n?rn(n):null,s=n?gi(n):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,u;switch(r){case Ft:u={x:o,y:t.y-i.height};break;case pn:u={x:o,y:t.y+t.height};break;case tn:u={x:t.x+t.width,y:a};break;case jt:u={x:t.x-i.width,y:a};break;default:u={x:t.x,y:t.y}}var l=r?Os(r):null;if(l!=null){var h=l==="y"?"height":"width";switch(s){case gr:u[l]=u[l]-(t[h]/2-i[h]/2);break;case Ms:u[l]=u[l]+(t[h]/2-i[h]/2);break;default:}}return u}function Qr(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=n===void 0?e.placement:n,s=i.strategy,o=s===void 0?e.strategy:s,a=i.boundary,u=a===void 0?nw:a,l=i.rootBoundary,h=l===void 0?md:l,g=i.elementContext,d=g===void 0?Bo:g,f=i.altBoundary,v=f===void 0?!1:f,p=i.padding,y=p===void 0?0:p,m=hu(typeof y!="number"?y:pu(y,Jr)),b=d===Bo?iw:Bo,E=e.rects.popper,D=e.elements[v?b:d],C=cm(hi(D)?D:D.contextElement||gn(e.elements.popper),u,h,o),O=pi(e.elements.reference),k=gu({reference:O,element:E,strategy:"absolute",placement:r}),_=Ho(Object.assign({},E,k)),w=d===Bo?_:O,S={top:C.top-w.top+m.top,bottom:w.bottom-C.bottom+m.bottom,left:C.left-w.left+m.left,right:w.right-C.right+m.right},x=e.modifiersData.offset;if(d===Bo&&x){var T=x[r];Object.keys(S).forEach(function(N){var I=[tn,pn].indexOf(N)>=0?1:-1,A=[Ft,pn].indexOf(N)>=0?"y":"x";S[N]+=T[A]*I})}return S}function dm(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,u=i.allowedAutoPlacements,l=u===void 0?vd:u,h=gi(n),g=h?a?sm:sm.filter(function(v){return gi(v)===h}):Jr,d=g.filter(function(v){return l.indexOf(v)>=0});d.length===0&&(d=g);var f=d.reduce(function(v,p){return v[p]=Qr(e,{placement:p,boundary:r,rootBoundary:s,padding:o})[rn(p)],v},{});return Object.keys(f).sort(function(v,p){return f[v]-f[p]})}function dO(e){if(rn(e)===gd)return[];var t=jo(e);return[_d(e),t,_d(t)]}function fO(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,s=r===void 0?!0:r,o=i.altAxis,a=o===void 0?!0:o,u=i.fallbackPlacements,l=i.padding,h=i.boundary,g=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,v=f===void 0?!0:f,p=i.allowedAutoPlacements,y=t.options.placement,m=rn(y),b=m===y,E=u||(b||!v?[jo(y)]:dO(y)),D=[y].concat(E).reduce(function(Be,Gt){return Be.concat(rn(Gt)===gd?dm(t,{placement:Gt,boundary:h,rootBoundary:g,padding:l,flipVariations:v,allowedAutoPlacements:p}):Gt)},[]),C=t.rects.reference,O=t.rects.popper,k=new Map,_=!0,w=D[0],S=0;S<D.length;S++){var x=D[S],T=rn(x),N=gi(x)===gr,I=[Ft,pn].indexOf(T)>=0,A=I?"width":"height",R=Qr(t,{placement:x,boundary:h,rootBoundary:g,altBoundary:d,padding:l}),V=I?N?tn:jt:N?pn:Ft;C[A]>O[A]&&(V=jo(V));var ie=jo(V),re=[];if(s&&re.push(R[T]<=0),a&&re.push(R[V]<=0,R[ie]<=0),re.every(function(Be){return Be})){w=x,_=!1;break}k.set(x,re)}if(_)for(var se=v?3:1,Se=function(Gt){var Rt=D.find(function(St){var _t=k.get(St);if(_t)return _t.slice(0,Gt).every(function(Wt){return Wt})});if(Rt)return w=Rt,"break"},be=se;be>0;be--){var Ke=Se(be);if(Ke==="break")break}t.placement!==w&&(t.modifiersData[n]._skip=!0,t.placement=w,t.reset=!0)}}var fm={name:"flip",enabled:!0,phase:"main",fn:fO,requiresIfExists:["offset"],data:{_skip:!1}};function hO(e,t,i){var n=rn(e),r=[jt,Ft].indexOf(n)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[jt,tn].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function pO(e){var t=e.state,i=e.options,n=e.name,r=i.offset,s=r===void 0?[0,0]:r,o=vd.reduce(function(h,g){return h[g]=hO(g,t.rects,s),h},{}),a=o[t.placement],u=a.x,l=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=o}var hm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pO};function gO(e){var t=e.state,i=e.name;t.modifiersData[i]=gu({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var fw={name:"popperOffsets",enabled:!0,phase:"read",fn:gO,data:{}};function pm(e){return e==="x"?"y":"x"}function mO(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,s=r===void 0?!0:r,o=i.altAxis,a=o===void 0?!1:o,u=i.boundary,l=i.rootBoundary,h=i.altBoundary,g=i.padding,d=i.tether,f=d===void 0?!0:d,v=i.tetherOffset,p=v===void 0?0:v,y=Qr(t,{boundary:u,rootBoundary:l,padding:g,altBoundary:h}),m=rn(t.placement),b=gi(t.placement),E=!b,D=Os(m),C=pm(D),O=t.modifiersData.popperOffsets,k=t.rects.reference,_=t.rects.popper,w=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,S=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(O){if(s){var N,I=D==="y"?Ft:jt,A=D==="y"?pn:tn,R=D==="y"?"height":"width",V=O[D],ie=V+y[I],re=V-y[A],se=f?-_[R]/2:0,Se=b===gr?k[R]:_[R],be=b===gr?-_[R]:-k[R],Ke=t.elements.arrow,Be=f&&Ke?Fs(Ke):{width:0,height:0},Gt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fu(),Rt=Gt[I],St=Gt[A],_t=Rs(0,k[R],Be[R]),Wt=E?k[R]/2-se-_t-Rt-S.mainAxis:Se-_t-Rt-S.mainAxis,We=E?-k[R]/2+se+_t+St+S.mainAxis:be+_t+St+S.mainAxis,gt=t.elements.arrow&&Oi(t.elements.arrow),ut=gt?D==="y"?gt.clientTop||0:gt.clientLeft||0:0,mt=(N=x?.[D])!=null?N:0,on=V+Wt-mt-ut,Ze=V+We-mt,an=Rs(f?As(ie,on):ie,V,f?Fi(re,Ze):re);O[D]=an,T[D]=an-V}if(a){var Dr,Pi=D==="x"?Ft:jt,$d=D==="x"?pn:tn,qt=O[C],ti=C==="y"?"height":"width",Du=qt+y[Pi],Qo=qt-y[$d],tt=[Ft,jt].indexOf(m)!==-1,$n=(Dr=x?.[C])!=null?Dr:0,je=tt?Du:qt-k[ti]-_[ti]-$n+S.altAxis,yi=tt?qt+k[ti]+_[ti]-$n-S.altAxis:Qo,Xm=f&&tt?aw(je,qt,yi):Rs(f?je:Du,qt,f?yi:Qo);O[C]=Xm,T[C]=Xm-qt}t.modifiersData[n]=T}}var gm={name:"preventOverflow",enabled:!0,phase:"main",fn:mO,requiresIfExists:["offset"]};function mm(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vm(e){return e===yt(e)||!Ht(e)?Ns(e):mm(e)}function vO(e){var t=e.getBoundingClientRect(),i=mr(t.width)/e.offsetWidth||1,n=mr(t.height)/e.offsetHeight||1;return i!==1||n!==1}function ym(e,t,i){i===void 0&&(i=!1);var n=Ht(t),r=Ht(t)&&vO(t),s=gn(t),o=pi(e,r,i),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!i)&&((nn(t)!=="body"||ks(s))&&(a=vm(t)),Ht(t)?(u=pi(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=Ps(s))),{x:o.left+a.scrollLeft-u.x,y:o.top+a.scrollTop-u.y,width:o.width,height:o.height}}function yO(e){var t=new Map,i=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function r(s){i.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var u=t.get(a);u&&r(u)}}),n.push(s)}return e.forEach(function(s){i.has(s.name)||r(s)}),n}function _m(e){var t=yO(e);return rw.reduce(function(i,n){return i.concat(t.filter(function(r){return r.phase===n}))},[])}function bm(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function wm(e){var t=e.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var hw={placement:"bottom",modifiers:[],strategy:"absolute"};function pw(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function gw(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,r=t.defaultOptions,s=r===void 0?hw:r;return function(a,u,l){l===void 0&&(l=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},hw,s),modifiersData:{},elements:{reference:a,popper:u},attributes:{},styles:{}},g=[],d=!1,f={state:h,setOptions:function(m){var b=typeof m=="function"?m(h.options):m;p(),h.options=Object.assign({},s,h.options,b),h.scrollParents={reference:hi(a)?Zr(a):a.contextElement?Zr(a.contextElement):[],popper:Zr(u)};var E=_m(wm([].concat(n,h.options.modifiers)));return h.orderedModifiers=E.filter(function(D){return D.enabled}),v(),f.update()},forceUpdate:function(){if(!d){var m=h.elements,b=m.reference,E=m.popper;if(pw(b,E)){h.rects={reference:ym(b,Oi(E),h.options.strategy==="fixed"),popper:Fs(E)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(S){return h.modifiersData[S.name]=Object.assign({},S.data)});for(var D=0;D<h.orderedModifiers.length;D++){if(h.reset===!0){h.reset=!1,D=-1;continue}var C=h.orderedModifiers[D],O=C.fn,k=C.options,_=k===void 0?{}:k,w=C.name;typeof O=="function"&&(h=O({state:h,options:_,name:w,instance:f})||h)}}}},update:bm(function(){return new Promise(function(y){f.forceUpdate(),y(h)})}),destroy:function(){p(),d=!0}};if(!pw(a,u))return f;f.setOptions(l).then(function(y){!d&&l.onFirstUpdate&&l.onFirstUpdate(y)});function v(){h.orderedModifiers.forEach(function(y){var m=y.name,b=y.options,E=b===void 0?{}:b,D=y.effect;if(typeof D=="function"){var C=D({state:h,name:m,instance:f,options:E}),O=function(){};g.push(C||O)}})}function p(){g.forEach(function(y){return y()}),g=[]}return f}}var _O=[cw,fw,lw,sw],Em=gw({defaultModifiers:_O});var bO=["*"];var wO=["ngbDatepickerDayView",""],EO=["month"],DO=["year"];function CO(e,t){if(e&1&&(M(0,"option",3),L(1),F()),e&2){let i=t.$implicit,n=$();U("value",i),wn("aria-label",n.i18n.getMonthFullName(i,n.date.year)),P(),de(n.i18n.getMonthShortName(i,n.date.year))}}function SO(e,t){if(e&1&&(M(0,"option",3),L(1),F()),e&2){let i=t.$implicit,n=$();U("value",i),P(),de(n.i18n.getYearNumerals(i))}}function xO(e,t){if(e&1){let i=Ue();M(0,"ngb-datepicker-navigation-select",6),Z("select",function(r){q(i);let s=$();return z(s.select.emit(r))}),F()}if(e&2){let i=$();U("date",i.date)("disabled",i.disabled)("months",i.selectBoxes.months)("years",i.selectBoxes.years)}}function IO(e,t){e&1&&ye(0,"div",7)}function TO(e,t){e&1&&ye(0,"div",7)}function MO(e,t){if(e&1&&(te(0,IO,1,0,"div",7),M(1,"div",8),L(2),F(),te(3,TO,1,0,"div",7)),e&2){let i=t.$implicit,n=t.$index,r=$(2);ve(0,n>0?0:-1),P(2),it(" ",r.i18n.getMonthLabel(i.firstDate)," "),P(),ve(3,n!==r.months.length-1?3:-1)}}function AO(e,t){if(e&1&&Te(0,MO,4,3,null,null,Rn),e&2){let i=$();Me(i.months)}}function FO(e,t){if(e&1&&(M(0,"div",1),L(1),F()),e&2){let i=$(2);P(),de(i.i18n.getWeekLabel())}}function OO(e,t){if(e&1&&(M(0,"div",2),L(1),F()),e&2){let i=t.$implicit;P(),de(i)}}function RO(e,t){if(e&1&&(M(0,"div",0),te(1,FO,2,1,"div",1),Te(2,OO,2,1,"div",2,Rn),F()),e&2){let i=$();P(),ve(1,i.datepicker.showWeekNumbers?1:-1),P(),Me(i.viewModel.weekdays)}}function NO(e,t){if(e&1&&(M(0,"div",4),L(1),F()),e&2){let i=$(2).$implicit,n=$();P(),de(n.i18n.getWeekNumerals(i.number))}}function PO(e,t){}function kO(e,t){if(e&1&&te(0,PO,0,0,"ng-template",7),e&2){let i=$().$implicit,n=$(3);U("ngTemplateOutlet",n.datepicker.dayTemplate)("ngTemplateOutletContext",i.context)}}function BO(e,t){if(e&1){let i=Ue();M(0,"div",6),Z("click",function(r){let s=q(i).$implicit;return $(3).doSelect(s),z(r.preventDefault())}),te(1,kO,1,2,null,7),F()}if(e&2){let i=t.$implicit;En("disabled",i.context.disabled)("hidden",i.hidden)("ngb-dp-today",i.context.today),U("tabindex",i.tabindex),wn("aria-label",i.ariaLabel),P(),ve(1,i.hidden?-1:1)}}function VO(e,t){if(e&1&&(M(0,"div",3),te(1,NO,2,1,"div",4),Te(2,BO,2,9,"div",5,Rn),F()),e&2){let i=$().$implicit,n=$();P(),ve(1,n.datepicker.showWeekNumbers?1:-1),P(),Me(i.days)}}function LO(e,t){if(e&1&&te(0,VO,4,1,"div",3),e&2){let i=t.$implicit;ve(0,i.collapsed?-1:0)}}var jO=["defaultDayTemplate"],HO=["content"],Dw=e=>({$implicit:e});function UO(e,t){if(e&1&&ye(0,"div",8),e&2){let i=t.date,n=t.currentMonth,r=t.selected,s=t.disabled,o=t.focused;U("date",i)("currentMonth",n)("selected",r)("disabled",s)("focused",o)}}function $O(e,t){if(e&1&&(M(0,"div",10),L(1),F()),e&2){let i=$().$implicit,n=$(2);P(),it(" ",n.i18n.getMonthLabel(i.firstDate)," ")}}function GO(e,t){if(e&1&&(M(0,"div",9),te(1,$O,2,1,"div",10),ye(2,"ngb-datepicker-month",11),F()),e&2){let i=t.$implicit,n=$(2);P(),ve(1,n.navigation==="none"||n.displayMonths>1&&n.navigation==="select"?1:-1),P(),U("month",i.firstDate)}}function WO(e,t){if(e&1&&Te(0,GO,3,2,"div",9,Rn),e&2){let i=$();Me(i.model.months)}}function qO(e,t){if(e&1){let i=Ue();M(0,"ngb-datepicker-navigation",12),Z("navigate",function(r){q(i);let s=$();return z(s.onNavigateEvent(r))})("select",function(r){q(i);let s=$();return z(s.onNavigateDateSelect(r))}),F()}if(e&2){let i=$();U("date",i.model.firstDate)("months",i.model.months)("disabled",i.model.disabled)("showSelect",i.model.navigation==="select")("prevDisabled",i.model.prevDisabled)("nextDisabled",i.model.nextDisabled)("selectBoxes",i.model.selectBoxes)}}function zO(e,t){}function KO(e,t){}var YO=["dialog"],JO=["ngbNavOutlet",""];function ZO(e,t){}function QO(e,t){if(e&1&&(M(0,"div",0),te(1,ZO,0,0,"ng-template",1),F()),e&2){let i=$().$implicit,n=$();U("item",i)("nav",n.nav)("role",n.paneRole),P(),U("ngTemplateOutlet",(i.contentTpl==null?null:i.contentTpl.templateRef)||null)("ngTemplateOutletContext",Sp(5,Dw,i.active||n.isPanelTransitioning(i)))}}function XO(e,t){if(e&1&&te(0,QO,2,7,"div",0),e&2){let i=t.$implicit,n=$();ve(0,i.isPanelInDom()||n.isPanelTransitioning(i)?0:-1)}}var Cw={animation:!0,transitionTimerDelayMs:5},Sw=(()=>{let t=class t{constructor(){this.animation=Cw.animation}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eR(e){let{transitionDelay:t,transitionDuration:i}=window.getComputedStyle(e),n=parseFloat(t),r=parseFloat(i);return(n+r)*1e3}function Ri(e){return parseInt(`${e}`,10)}function Sd(e){return typeof e=="string"}function yr(e){return!isNaN(Ri(e))}function Vn(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Bs(e){return e!=null}function tR(e){return e&&e.then}function mw(e){return yr(e)?`0${e}`.slice(-2):""}function nR(e,t){return!t||typeof e.closest>"u"?null:e.closest(t)}function Im(e){return(e||document.body).getBoundingClientRect()}function iR(e){return t=>new _e(i=>{let n=o=>e.run(()=>i.next(o)),r=o=>e.run(()=>i.error(o)),s=()=>e.run(()=>i.complete());return t.subscribe({next:n,error:r,complete:s})})}var rR=()=>{},{transitionTimerDelayMs:sR}=Cw,wd=new Map,_r=(e,t,i,n)=>{let r=n.context||{},s=wd.get(t);if(s)switch(n.runningTransition){case"continue":return Nt;case"stop":e.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),wd.delete(t)}let o=i(t,n.animation,r)||rR;if(!n.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>o()),oe(void 0).pipe(iR(e));let a=new Qe,u=new Qe,l=a.pipe(gf(!0));wd.set(t,{transition$:a,complete:()=>{u.next(),u.complete()},context:r});let h=eR(t);return e.runOutsideAngular(()=>{let g=ln(t,"transitionend").pipe(It(l),lt(({target:f})=>f===t)),d=ss(h+sR).pipe(It(l));Yu(d,g,u).pipe(It(l)).subscribe(()=>{wd.delete(t),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var xw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Iw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Tw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})(),Mw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})(),Ln=class e{static from(t){return t instanceof e?t:t?new e(t.year,t.month,t.day):null}constructor(t,i,n){this.year=Vn(t)?t:null,this.month=Vn(i)?i:null,this.day=Vn(n)?n:null}equals(t){return t!=null&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return t?this.year===t.year?this.month===t.month?this.day===t.day?!1:this.day<t.day:this.month<t.month:this.year<t.year:!1}after(t){return t?this.year===t.year?this.month===t.month?this.day===t.day?!1:this.day>t.day:this.month>t.month:this.year>t.year:!1}};function vw(e){return new Ln(e.getFullYear(),e.getMonth()+1,e.getDate())}function Ed(e){let t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function oR(){return new aR}var Go=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>oR(),providedIn:"root"});let e=t;return e})(),aR=(()=>{let t=class t extends Go{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(n,r="d",s=1){let o=Ed(n),a=!0,u=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+s);break;case"m":u+=s,o.setMonth(u),u=u%12,u<0&&(u=u+12);break;case"d":o.setDate(o.getDate()+s),a=!1;break;default:return n}return a&&o.getMonth()!==u&&o.setDate(0),vw(o)}getPrev(n,r="d",s=1){return this.getNext(n,r,-s)}getWeekday(n){let s=Ed(n).getDay();return s===0?7:s}getWeekNumber(n,r){r===7&&(r=0);let s=(11-r)%7,o=n[s],a=Ed(o);a.setDate(a.getDate()+4-(a.getDay()||7));let u=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((u-a.getTime())/864e5)/7)+1}getToday(){return vw(new Date)}isValid(n){if(!n||!Vn(n.year)||!Vn(n.month)||!Vn(n.day)||n.year===0)return!1;let r=Ed(n);return!isNaN(r.getTime())&&r.getFullYear()===n.year&&r.getMonth()+1===n.month&&r.getDate()===n.day}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();function Uo(e,t){return!uR(e,t)}function Aw(e,t){return!e&&!t?!1:!e||!t?!0:e.year!==t.year||e.month!==t.month}function uR(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}function lR(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}function Dd(e,t,i){return e&&t&&e.before(t)?t:e&&i&&e.after(i)?i:e||null}function Dm(e,t){let{minDate:i,maxDate:n,disabled:r,markDisabled:s}=t;return!(e==null||r||s&&s(e,{year:e.year,month:e.month})||i&&e.before(i)||n&&e.after(n))}function cR(e,t,i,n){if(!t)return[];let r=e.getMonths(t.year);if(i&&t.year===i.year){let s=r.findIndex(o=>o===i.month);r=r.slice(s)}if(n&&t.year===n.year){let s=r.findIndex(o=>o===n.month);r=r.slice(0,s+1)}return r}function dR(e,t,i){if(!e)return[];let n=t?Math.max(t.year,e.year-500):e.year-10,s=(i?Math.min(i.year,e.year+500):e.year+10)-n+1,o=Array(s);for(let a=0;a<s;a++)o[a]=n+a;return o}function fR(e,t,i){let n=Object.assign(e.getNext(t,"m"),{day:1});return i!=null&&n.after(i)}function hR(e,t,i){let n=Object.assign(e.getPrev(t,"m"),{day:1});return i!=null&&(n.year===i.year&&n.month<i.month||n.year<i.year&&i.month===1)}function pR(e,t,i,n,r){let{displayMonths:s,months:o}=i,a=o.splice(0,o.length);return Array.from({length:s},(l,h)=>{let g=Object.assign(e.getNext(t,"m",h),{day:1});if(o[h]=null,!r){let d=a.findIndex(f=>f.firstDate.equals(g));d!==-1&&(o[h]=a.splice(d,1)[0])}return g}).forEach((l,h)=>{o[h]===null&&(o[h]=gR(e,l,i,n,a.shift()||{}))}),o}function gR(e,t,i,n,r={}){let{dayTemplateData:s,minDate:o,maxDate:a,firstDayOfWeek:u,markDisabled:l,outsideDays:h,weekdayWidth:g,weekdaysVisible:d}=i,f=e.getToday();r.firstDate=null,r.lastDate=null,r.number=t.month,r.year=t.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],t=mR(e,t,u),d||(r.weekdays.length=0);for(let v=0;v<e.getWeeksPerMonth();v++){let p=r.weeks[v];p||(p=r.weeks[v]={number:0,days:[],collapsed:!0});let y=p.days;for(let m=0;m<e.getDaysPerWeek();m++){v===0&&d&&(r.weekdays[m]=n.getWeekdayLabel(e.getWeekday(t),g));let b=new Ln(t.year,t.month,t.day),E=e.getNext(b),D=n.getDayAriaLabel(b),C=!!(o&&b.before(o)||a&&b.after(a));!C&&l&&(C=l(b,{month:r.number,year:r.year}));let O=b.equals(f),k=s?s(b,{month:r.number,year:r.year}):void 0;r.firstDate===null&&b.month===r.number&&(r.firstDate=b),b.month===r.number&&E.month!==r.number&&(r.lastDate=b);let _=y[m];_||(_=y[m]={}),_.date=b,_.context=Object.assign(_.context||{},{$implicit:b,date:b,data:k,currentMonth:r.number,currentYear:r.year,disabled:C,focused:!1,selected:!1,today:O}),_.tabindex=-1,_.ariaLabel=D,_.hidden=!1,t=E}p.number=e.getWeekNumber(y.map(m=>m.date),u),p.collapsed=h==="collapsed"&&y[0].date.month!==r.number&&y[y.length-1].date.month!==r.number}return r}function mR(e,t,i){let n=e.getDaysPerWeek(),r=new Ln(t.year,t.month,1),s=e.getWeekday(r)%n;return e.getPrev(r,"d",(n+s-i)%n)}var Vs=(()=>{let t=class t{getMonthLabel(n){return`${this.getMonthFullName(n.month,n.year)} ${this.getYearNumerals(n.year)}`}getDayNumerals(n){return`${n.day}`}getWeekNumerals(n){return`${n}`}getYearNumerals(n){return`${n}`}getWeekLabel(){return""}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>new vR,providedIn:"root"});let e=t;return e})(),vR=(()=>{let t=class t extends Vs{constructor(){super(...arguments),this._locale=j(Pr),this._monthsShort=Sc(this._locale,Vt.Standalone,$e.Abbreviated),this._monthsFull=Sc(this._locale,Vt.Standalone,$e.Wide)}getWeekdayLabel(n,r){let s=$p(this._locale,Vt.Standalone,r===void 0?$e.Short:r);return s.map((a,u)=>s[(u+1)%7])[n-1]||""}getMonthShortName(n){return this._monthsShort[n-1]||""}getMonthFullName(n){return this._monthsFull[n-1]||""}getDayAriaLabel(n){let r=new Date(n.year,n.month-1,n.day);return Gp(r,"fullDate",this._locale)}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Cm=(()=>{let t=class t{constructor(){this._VALIDATORS={dayTemplateData:n=>{if(this._state.dayTemplateData!==n)return{dayTemplateData:n}},displayMonths:n=>{if(n=Ri(n),Vn(n)&&n>0&&this._state.displayMonths!==n)return{displayMonths:n}},disabled:n=>{if(this._state.disabled!==n)return{disabled:n}},firstDayOfWeek:n=>{if(n=Ri(n),Vn(n)&&n>=0&&this._state.firstDayOfWeek!==n)return{firstDayOfWeek:n}},focusVisible:n=>{if(this._state.focusVisible!==n&&!this._state.disabled)return{focusVisible:n}},markDisabled:n=>{if(this._state.markDisabled!==n)return{markDisabled:n}},maxDate:n=>{let r=this.toValidDate(n,null);if(Uo(this._state.maxDate,r))return{maxDate:r}},minDate:n=>{let r=this.toValidDate(n,null);if(Uo(this._state.minDate,r))return{minDate:r}},navigation:n=>{if(this._state.navigation!==n)return{navigation:n}},outsideDays:n=>{if(this._state.outsideDays!==n)return{outsideDays:n}},weekdays:n=>{let r=n===!0||n===!1?$e.Short:n,s=n===!0||n===!1?n:!0;if(this._state.weekdayWidth!==r||this._state.weekdaysVisible!==s)return{weekdayWidth:r,weekdaysVisible:s}}},this._calendar=j(Go),this._i18n=j(Vs),this._model$=new Qe,this._dateSelect$=new Qe,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:$e.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(lt(n=>n.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(lt(n=>n!==null))}set(n){let r=Object.keys(n).map(s=>this._VALIDATORS[s](n[s])).reduce((s,o)=>Q(Q({},s),o),{});Object.keys(r).length>0&&this._nextState(r)}focus(n){let r=this.toValidDate(n,null);r!=null&&!this._state.disabled&&Uo(this._state.focusDate,r)&&this._nextState({focusDate:n})}focusSelect(){Dm(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(n){let r=this.toValidDate(n,this._calendar.getToday());r!=null&&!this._state.disabled&&(!this._state.firstDate||Aw(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(n,r={}){let s=this.toValidDate(n,null);s!=null&&!this._state.disabled&&(Uo(this._state.selectedDate,s)&&this._nextState({selectedDate:s}),r.emitEvent&&Dm(s,this._state)&&this._dateSelect$.next(s))}toValidDate(n,r){let s=Ln.from(n);return r===void 0&&(r=this._calendar.getToday()),this._calendar.isValid(s)?s:r}getMonth(n){for(let r of this._state.months)if(n.month===r.number&&n.year===r.year)return r;throw new Error(`month ${n.month} of year ${n.year} not found`)}_nextState(n){let r=this._updateState(n);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(n){let{months:r,displayMonths:s,selectedDate:o,focusDate:a,focusVisible:u,disabled:l,outsideDays:h}=n;n.months.forEach(g=>{g.weeks.forEach(d=>{d.days.forEach(f=>{a&&(f.context.focused=a.equals(f.date)&&u),f.tabindex=!l&&a&&f.date.equals(a)&&a.month===g.number?0:-1,l===!0&&(f.context.disabled=!0),o!==void 0&&(f.context.selected=o!==null&&o.equals(f.date)),g.number!==f.date.month&&(f.hidden=h==="hidden"||h==="collapsed"||s>1&&f.date.after(r[0].firstDate)&&f.date.before(r[s-1].lastDate))})})})}_updateState(n){let r=Object.assign({},this._state,n),s=r.firstDate;if(("minDate"in n||"maxDate"in n)&&(lR(r.minDate,r.maxDate),r.focusDate=Dd(r.focusDate,r.minDate,r.maxDate),r.firstDate=Dd(r.firstDate,r.minDate,r.maxDate),s=r.focusDate),"disabled"in n&&(r.focusVisible=!1),"selectedDate"in n&&this._state.months.length===0&&(s=r.selectedDate),"focusVisible"in n||"focusDate"in n&&(r.focusDate=Dd(r.focusDate,r.minDate,r.maxDate),s=r.focusDate,r.months.length!==0&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in n&&(r.firstDate=Dd(r.firstDate,r.minDate,r.maxDate),s=r.firstDate),s){let o="dayTemplateData"in n||"firstDayOfWeek"in n||"markDisabled"in n||"minDate"in n||"maxDate"in n||"disabled"in n||"outsideDays"in n||"weekdaysVisible"in n,a=pR(this._calendar,s,r,this._i18n,o);r.months=a,r.firstDate=a[0].firstDate,r.lastDate=a[a.length-1].lastDate,"selectedDate"in n&&!Dm(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in n&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=s);let u=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;r.navigation==="select"?(("minDate"in n||"maxDate"in n||r.selectBoxes.years.length===0||u)&&(r.selectBoxes.years=dR(r.firstDate,r.minDate,r.maxDate)),("minDate"in n||"maxDate"in n||r.selectBoxes.months.length===0||u)&&(r.selectBoxes.months=cR(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},(r.navigation==="arrows"||r.navigation==="select")&&(l||u||"minDate"in n||"maxDate"in n||"disabled"in n)&&(r.prevDisabled=r.disabled||hR(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||fR(this._calendar,r.lastDate,r.maxDate))}return r}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),xd=function(e){return e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e}(xd||{}),Tm=(()=>{let t=class t{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=$e.Short}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yR(){return new _R}var Mm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>yR(),providedIn:"root"});let e=t;return e})(),_R=(()=>{let t=class t extends Mm{fromModel(n){return n&&Vn(n.year)&&Vn(n.month)&&Vn(n.day)?{year:n.year,month:n.month,day:n.day}:null}toModel(n){return n&&Vn(n.year)&&Vn(n.month)&&Vn(n.day)?{year:n.year,month:n.month,day:n.day}:null}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),Ot=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Ot||{}),bR=(()=>{let t=class t{processKey(n,r){let{state:s,calendar:o}=r;switch(n.which){case Ot.PageUp:r.focusDate(o.getPrev(s.focusedDate,n.shiftKey?"y":"m",1));break;case Ot.PageDown:r.focusDate(o.getNext(s.focusedDate,n.shiftKey?"y":"m",1));break;case Ot.End:r.focusDate(n.shiftKey?s.maxDate:s.lastDate);break;case Ot.Home:r.focusDate(n.shiftKey?s.minDate:s.firstDate);break;case Ot.ArrowLeft:r.focusDate(o.getPrev(s.focusedDate,"d",1));break;case Ot.ArrowUp:r.focusDate(o.getPrev(s.focusedDate,"d",o.getDaysPerWeek()));break;case Ot.ArrowRight:r.focusDate(o.getNext(s.focusedDate,"d",1));break;case Ot.ArrowDown:r.focusDate(o.getNext(s.focusedDate,"d",o.getDaysPerWeek()));break;case Ot.Enter:case Ot.Space:r.focusSelect();break;default:return}n.preventDefault(),n.stopPropagation()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),wR=(()=>{let t=class t{constructor(){this.i18n=j(Vs)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(r,s){r&2&&En("bg-primary",s.selected)("text-white",s.selected)("text-muted",s.isMuted())("outside",s.isMuted())("active",s.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[Ti],attrs:wO,decls:1,vars:1,template:function(r,s){r&1&&L(0),r&2&&de(s.i18n.getDayNumerals(s.date))},styles:[`[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),ER=(()=>{let t=class t{constructor(){this._month=-1,this._year=-1,this.i18n=j(Vs),this.select=new Fe}changeMonth(n){this.select.emit(new Ln(this.date.year,Ri(n),1))}changeYear(n){this.select.emit(new Ln(Ri(n),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(r,s){if(r&1&&(Ds(EO,7,ht),Ds(DO,7,ht)),r&2){let o;oi(o=ai())&&(s.monthSelect=o.first),oi(o=ai())&&(s.yearSelect=o.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[Ti],decls:8,vars:2,consts:()=>{let n;n=$localize`:@@ngb.datepicker.select-month:Select month`;let r;r=$localize`:@@ngb.datepicker.select-month:Select month`;let s;s=$localize`:@@ngb.datepicker.select-year:Select year`;let o;return o=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",n,"title",r,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",s,"title",o,1,"form-select",3,"change","disabled"]]},template:function(r,s){if(r&1){let o=Ue();M(0,"select",2,0),Z("change",function(u){return q(o),z(s.changeMonth(u.target.value))}),Te(2,CO,2,3,"option",3,Rn),F(),M(4,"select",4,1),Z("change",function(u){return q(o),z(s.changeYear(u.target.value))}),Te(6,SO,2,2,"option",3,Rn),F()}r&2&&(U("disabled",s.disabled),P(2),Me(s.months),P(2),U("disabled",s.disabled),P(2),Me(s.years))},styles:[`ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),DR=(()=>{let t=class t{constructor(){this.navigation=xd,this.i18n=j(Vs),this.months=[],this.navigate=new Fe,this.select=new Fe}onClickPrev(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(n){n.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[Ti],decls:8,vars:4,consts:()=>{let n;n=$localize`:@@ngb.datepicker.previous-month:Previous month`;let r;r=$localize`:@@ngb.datepicker.previous-month:Previous month`;let s;s=$localize`:@@ngb.datepicker.next-month:Next month`;let o;return o=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",n,"title",r,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",s,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(r,s){r&1&&(M(0,"div",0)(1,"button",1),Z("click",function(a){return s.onClickPrev(a)}),ye(2,"span",2),F()(),te(3,xO,1,4,"ngb-datepicker-navigation-select",3)(4,AO,2,0),M(5,"div",4)(6,"button",5),Z("click",function(a){return s.onClickNext(a)}),ye(7,"span",2),F()()),r&2&&(P(),U("disabled",s.prevDisabled),P(2),ve(3,s.showSelect?3:-1),P(),ve(4,s.showSelect?-1:4),P(2),U("disabled",s.nextDisabled))},dependencies:[ER],styles:[`ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),CR=(()=>{let t=class t{constructor(){this.templateRef=j(Ci)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0});let e=t;return e})(),SR=(()=>{let t=class t{constructor(){this._keyboardService=j(bR),this._service=j(Cm),this.i18n=j(Vs),this.datepicker=j(Fw)}set month(n){this.viewModel=this._service.getMonth(n)}onKeyDown(n){this._keyboardService.processKey(n,this.datepicker)}doSelect(n){!n.context.disabled&&!n.hidden&&this.datepicker.onDateSelect(n.date)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(r,s){r&1&&Z("keydown",function(a){return s.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[Ti],decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,s){r&1&&(te(0,RO,4,1,"div",0),Te(1,LO,1,1,null,null,Rn)),r&2&&(ve(0,s.viewModel.weekdays.length>0?0:-1),P(),Me(s.viewModel.weeks))},dependencies:[Mc],styles:[`ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}
`],encapsulation:2});let e=t;return e})(),Fw=(()=>{let t=class t{constructor(){this.injector=j(Bt),this._service=j(Cm),this._calendar=j(Go),this._i18n=j(Vs),this._config=j(Tm),this._nativeElement=j(ht).nativeElement,this._ngbDateAdapter=j(Mm),this._ngZone=j(He),this._destroyRef=j(Nr),this._controlValue=null,this._publicState={},this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new Fe,this.dateSelect=new Fe,this.onChange=r=>{},this.onTouched=()=>{};let n=j(Kn);this._service.dateSelect$.pipe(Ts()).subscribe(r=>{this.dateSelect.emit(r)}),this._service.model$.pipe(Ts()).subscribe(r=>{let s=r.firstDate,o=this.model?this.model.firstDate:null;this._publicState={maxDate:r.maxDate,minDate:r.minDate,firstDate:r.firstDate,lastDate:r.lastDate,focusedDate:r.focusDate,months:r.months.map(g=>g.firstDate)};let a=!1;if(!s.equals(o)&&(this.navigate.emit({current:o?{year:o.year,month:o.month}:null,next:{year:s.year,month:s.month},preventDefault:()=>a=!0}),a&&o!==null)){this._service.open(o);return}let u=r.selectedDate,l=r.focusDate,h=this.model?this.model.focusDate:null;this.model=r,Uo(u,this._controlValue)&&(this._controlValue=u,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(u))),Uo(l,h)&&h&&r.focusVisible&&this.focus(),n.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(n){this._service.focus(Ln.from(n))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Kt(1)).subscribe(()=>this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus())}navigateTo(n){this._service.open(Ln.from(n?n.day?n:nt(Q({},n),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{let n=ln(this._contentEl.nativeElement,"focusin"),r=ln(this._contentEl.nativeElement,"focusout");df(n,r).pipe(lt(s=>{let o=s.target,a=s.relatedTarget;return!(o?.classList.contains("ngb-dp-day")&&a?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(o)&&this._nativeElement.contains(a))}),Ts(this._destroyRef)).subscribe(({type:s})=>this._ngZone.run(()=>this._service.set({focusVisible:s==="focusin"})))})}ngOnInit(){if(this.model===void 0){let n={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>n[r]=this[r]),this._service.set(n),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(n){let r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(s=>s in n).forEach(s=>r[s]=this[s]),this._service.set(r),"startDate"in n){let{currentValue:s,previousValue:o}=n.startDate;Aw(o,s)&&this.navigateTo(this.startDate)}}onDateSelect(n){this._service.focus(n),this._service.select(n,{emitEvent:!0})}onNavigateDateSelect(n){this._service.open(n)}onNavigateEvent(n){switch(n){case xd.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case xd.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1));break}}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this._service.set({disabled:n})}writeValue(n){this._controlValue=Ln.from(this._ngbDateAdapter.fromModel(n)),this._service.select(this._controlValue)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(r,s,o){if(r&1&&bo(o,CR,7),r&2){let a;oi(a=ai())&&(s.contentTemplateFromContent=a.first)}},viewQuery:function(r,s){if(r&1&&(Ds(jO,7),Ds(HO,7)),r&2){let o;oi(o=ai())&&(s._defaultDayTemplate=o.first),oi(o=ai())&&(s._contentEl=o.first)}},hostVars:2,hostBindings:function(r,s){r&2&&En("disabled",s.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Nn([{provide:Gr,useExisting:dn(()=>t),multi:!0},Cm]),qn,Ti],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(r,s){if(r&1&&(te(0,UO,1,5,"ng-template",null,0,Ia)(2,WO,2,0,"ng-template",null,1,Ia),M(4,"div",3),te(5,qO,1,7,"ngb-datepicker-navigation",4),F(),M(6,"div",5,2),te(8,zO,0,0,"ng-template",6),F(),te(9,KO,0,0,"ng-template",7)),r&2){let o=wo(3);P(5),ve(5,s.navigation!=="none"?5:-1),P(),En("ngb-dp-months",!s.contentTemplate),P(2),U("ngTemplateOutlet",s.contentTemplate||(s.contentTemplateFromContent==null?null:s.contentTemplateFromContent.templateRef)||o)("ngTemplateOutletContext",Sp(7,Dw,s))("ngTemplateOutletInjector",s.injector),P(),U("ngTemplateOutlet",s.footerTemplate)}},dependencies:[Mc,wR,SR,DR],styles:[`ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),Cd=(e,t)=>t?t.some(i=>i.contains(e)):!1,yw=(e,t)=>!t||nR(e,t)!=null,xR=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})(),IR=e=>xR?()=>setTimeout(()=>e(),100):e;function TR(e,t,i,n,r,s,o,a){i&&e.runOutsideAngular(IR(()=>{let u=d=>{let f=d.target;return d.button===2||Cd(f,o)?!1:i==="inside"?Cd(f,s)&&yw(f,a):i==="outside"?!Cd(f,s):yw(f,a)||!Cd(f,s)},l=ln(t,"keydown").pipe(It(r),lt(d=>d.which===Ot.Escape),Tt(d=>d.preventDefault())),h=ln(t,"mousedown").pipe(pe(u),It(r)),g=ln(t,"mouseup").pipe(ra(h),lt(([d,f])=>f),hf(0),It(r));Yu([l.pipe(pe(d=>0)),g.pipe(pe(d=>1))]).subscribe(d=>e.run(()=>n(d)))}))}var MR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ow(e){let t=Array.from(e.querySelectorAll(MR)).filter(i=>i.tabIndex!==-1);return[t[0],t[t.length-1]]}var Rw=(e,t,i,n=!1)=>{e.runOutsideAngular(()=>{let r=ln(t,"focusin").pipe(It(i),pe(s=>s.target));ln(t,"keydown").pipe(It(i),lt(s=>s.which===Ot.Tab),ra(r)).subscribe(([s,o])=>{let[a,u]=Ow(t);(o===a||o===t)&&s.shiftKey&&(u.focus(),s.preventDefault()),o===u&&!s.shiftKey&&(a.focus(),s.preventDefault())}),n&&ln(t,"click").pipe(It(i),ra(r),pe(s=>s[1])).subscribe(s=>s.focus())})},AR=(()=>{let t=class t{constructor(){this._element=j(Et).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),FR=/\s+/,OR=/  +/gi,RR={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function NR(e,t){let[i,n]=RR[e];return t&&n||i}var PR=/^left/,kR=/^right/,BR=/^start/,VR=/^end/;function LR(e,t){let[i,n]=t.split("-"),r=i.replace(PR,"start").replace(kR,"end"),s=[r];if(n){let o=n;(i==="left"||i==="right")&&(o=o.replace(BR,"top").replace(VR,"bottom")),s.push(`${r}-${o}`)}return e&&(s=s.map(o=>`${e}-${o}`)),s.join(" ")}function _w({placement:e,baseClass:t},i){let n=Array.isArray(e)?e:e.split(FR),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],s=n.findIndex(l=>l==="auto");s>=0&&r.forEach(function(l){n.find(h=>h.search("^"+l)!==-1)==null&&n.splice(s++,1,l)});let o=n.map(l=>NR(l,i.isRTL()));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:l}){let h=new RegExp(t+"(-[a-z]+)*","gi"),g=l.elements.popper,d=l.placement,f=g.className;f=f.replace(h,""),f+=` ${LR(t,d)}`,f=f.trim().replace(OR," "),g.className=f}},fm,gm,am,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function bw(e){return e}function jR(){let e=j(AR),t=null;return{createPopper(i){if(!t){let r=(i.updatePopperOptions||bw)(_w(i,e));t=Em(i.hostElement,i.targetElement,r)}},update(){t&&t.update()},setOptions(i){if(t){let r=(i.updatePopperOptions||bw)(_w(i,e));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}function HR(){return new UR}var Nw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:()=>HR(),providedIn:"root"});let e=t;return e})(),UR=(()=>{let t=class t extends Nw{parse(n){if(n!=null){let r=n.trim().split("-");if(r.length===1&&yr(r[0]))return{year:Ri(r[0]),month:null,day:null};if(r.length===2&&yr(r[0])&&yr(r[1]))return{year:Ri(r[0]),month:Ri(r[1]),day:null};if(r.length===3&&yr(r[0])&&yr(r[1])&&yr(r[2]))return{year:Ri(r[0]),month:Ri(r[1]),day:Ri(r[2])}}return null}format(n){return n?`${n.year}-${yr(n.month)?mw(n.month):""}-${yr(n.day)?mw(n.day):""}`:""}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})(),ww=(()=>{let t=class t extends Tm{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=n=>n,this.restoreFocus=!0}};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $R(e){return t=>(t.modifiers.push(hm,{name:"offset",options:{offset:()=>e}}),t)}var Pw=(()=>{let t=class t{constructor(){this._parserFormatter=j(Nw),this._elRef=j(ht),this._vcRef=j(Ii),this._ngZone=j(He),this._calendar=j(Go),this._dateAdapter=j(Mm),this._document=j(Et),this._changeDetector=j(Kn),this._config=j(ww),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=jR(),this._destroyCloseHandlers$=new Qe,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new Fe,this.navigate=new Fe,this.closed=new Fe,this._onChange=n=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(n){this._disabled=n===""||n&&n!=="false",this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}registerOnValidatorChange(n){this._validatorChange=n}setDisabledState(n){this.disabled=n}validate(n){let{value:r}=n;if(r!=null){let s=this._fromDateStruct(this._dateAdapter.fromModel(r));if(!s)return{ngbDate:{invalid:r}};if(this.minDate&&s.before(Ln.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:r}}};if(this.maxDate&&s.after(Ln.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:r}}}}return null}writeValue(n){this._model=this._fromDateStruct(this._dateAdapter.fromModel(n)),this._writeModelValue(this._model)}manualDateChange(n,r=!1){let s=n!==this._inputValue;s&&(this._inputValue=n,this._model=this._fromDateStruct(this._parserFormatter.parse(n))),(s||!r)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):n===""?null:n),r&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){this._cRef=this._vcRef.createComponent(Fw),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(r=>{this.writeValue(r),this._onChange(r),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),this.container==="body"&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Rw(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus());let n;if(Sd(this.positionTarget)?n=this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?n=this.positionTarget:n=this._elRef.nativeElement,this.positionTarget&&!n)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&n&&(this._positioning.createPopper({hostElement:n,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:r=>this.popperOptions($R([0,2])(r))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let n=this._elWithFocus;Sd(this.restoreFocus)?n=this._document.querySelector(this.restoreFocus):this.restoreFocus!==void 0&&(n=this.restoreFocus),n&&n.focus?n.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(n){this.isOpen()&&this._cRef.instance.navigateTo(n)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(n){if((n.minDate||n.maxDate)&&(this._validatorChange(),this.isOpen()&&(n.minDate&&this._cRef.setInput("minDate",this.minDate),n.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),n.datepickerClass){let{currentValue:r,previousValue:s}=n.datepickerClass;this._applyPopupClass(r,s)}n.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(n){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(r=>{this[r]!==void 0&&n.setInput(r,this[r])}),n.setInput("startDate",this.startDate||this._model)}_applyPopupClass(n,r){let s=this._cRef?.location.nativeElement;s&&(n&&s.classList.add(n),r&&s.classList.remove(r))}_applyPopupStyling(n){n.classList.add("dropdown-menu","show"),this.container==="body"&&n.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(n){n.navigate.subscribe(r=>this.navigate.emit(r)),n.dateSelect.subscribe(r=>{this.dateSelect.emit(r),(this.autoClose===!0||this.autoClose==="inside")&&this.close()})}_writeModelValue(n){let r=this._parserFormatter.format(n);this._inputValue=r,this._elRef.nativeElement.value=r,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(n)),this._onTouched())}_fromDateStruct(n){let r=n?new Ln(n.year,n.month,n.day):null;return this._calendar.isValid(r)?r:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),TR(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(r,s){r&1&&Z("input",function(a){return s.manualDateChange(a.target.value)})("change",function(a){return s.manualDateChange(a.target.value,!0)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),r&2&&xa("disabled",s.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[Nn([{provide:Gr,useExisting:dn(()=>t),multi:!0},{provide:Wr,useExisting:dn(()=>t),multi:!0},{provide:Tm,useExisting:ww}]),qn]});let e=t;return e})();var iq=new Date(1882,10,12),rq=new Date(2174,10,25);var sq=1e3*60*60*24;var Am=1080,GR=24*Am,WR=12*Am+793,oq=29*GR+WR,aq=11*Am+204;var kw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Bw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})(),qR=(()=>{let t=class t{constructor(){this._ngbConfig=j(Sw),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$o=class{constructor(t,i,n){this.nodes=t,this.viewRef=i,this.componentRef=n}};var zR=(()=>{let t=class t{constructor(){this._document=j(Et)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(n>0){let u=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${u+n}px`}return s.overflow="hidden",()=>{n>0&&(s.paddingRight=a),s.overflow=o}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),KR=(()=>{let t=class t{constructor(){this._nativeElement=j(ht).nativeElement,this._zone=j(He)}ngOnInit(){this._zone.onStable.asObservable().pipe(Kt(1)).subscribe(()=>{_r(this._zone,this._nativeElement,(n,r)=>{r&&Im(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return _r(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(sc("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),En("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ti],decls:0,vars:0,template:function(r,s){},encapsulation:2});let e=t;return e})(),Id=class{update(t){}close(t){}dismiss(t){}},YR=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],JR=["animation","backdropClass"],Sm=class{_applyWindowOptions(t,i){YR.forEach(n=>{Bs(i[n])&&(t[n]=i[n])})}_applyBackdropOptions(t,i){JR.forEach(n=>{Bs(i[n])&&(t[n]=i[n])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(It(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(It(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,i,n,r){this._windowCmptRef=t,this._contentRef=i,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Qe,this._dismissed=new Qe,this._hidden=new Qe,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let i=this._beforeDismiss();tR(i)?i.then(n=>{n!==!1&&this._dismiss(t)},()=>{}):i!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():oe(void 0);t.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ta(t,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},xm=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(xm||{}),ZR=(()=>{let t=class t{constructor(){this._document=j(Et),this._elRef=j(ht),this._zone=j(He),this._closed$=new Qe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Fe,this.shown=new Qe,this.hidden=new Qe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Sd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Kt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=_r(this._zone,n,()=>n.classList.remove("show"),r),o=_r(this._zone,this._dialogEl.nativeElement,()=>{},r),a=ta(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let n={animation:this.animation,runningTransition:"continue"},r=_r(this._zone,this._elRef.nativeElement,(o,a)=>{a&&Im(o),o.classList.add("show")},n),s=_r(this._zone,this._dialogEl.nativeElement,()=>{},n);ta(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ln(n,"keydown").pipe(It(this._closed$),lt(s=>s.which===Ot.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(xm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;ln(this._dialogEl.nativeElement,"mousedown").pipe(It(this._closed$),Tt(()=>r=!1),mn(()=>ln(n,"mouseup").pipe(It(this._closed$),Kt(1))),lt(({target:s})=>n===s)).subscribe(()=>{r=!0}),ln(n,"click").pipe(It(this._closed$)).subscribe(({target:s})=>{n===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(xm.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let r=n.querySelector("[ngbAutofocus]"),s=Ow(n)[0];(r||s||n).focus()}}_restoreFocus(){let n=this._document.body,r=this._elWithFocus,s;r&&r.focus&&n.contains(r)?s=r:s=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&_r(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&Ds(YO,7),r&2){let o;oi(o=ai())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(wn("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),sc("modal d-block"+(s.windowClass?" "+s.windowClass:"")),En("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ti],ngContentSelectors:bO,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(Ny(),M(0,"div",1,0)(2,"div",2),Py(3),F()()),r&2&&sc("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let e=t;return e})(),QR=(()=>{let t=class t{constructor(){this._applicationRef=j(ur),this._injector=j(Bt),this._environmentInjector=j(Yt),this._document=j(Et),this._scrollBar=j(zR),this._activeWindowCmptHasChanged=new Qe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Fe;let n=j(He);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];Rw(n,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,r,s){let o=s.container instanceof HTMLElement?s.container:Bs(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Id;n=s.injector||n;let u=n.get(Yt,null)||this._environmentInjector,l=this._getContentRef(n,u,r,a,s),h=s.backdrop!==!1?this._attachBackdrop(o):void 0,g=this._attachWindowComponent(o,l.nodes),d=new Sm(g,l,h,s.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(g),d.hidden.pipe(Kt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{d.close(f)},a.dismiss=f=>{d.dismiss(f)},a.update=f=>{d.update(f)},d.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),h&&h.instance&&h.changeDetectorRef.detectChanges(),g.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(r=>r.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let r=pc(KR,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_attachWindowComponent(n,r){let s=pc(ZR,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),n.appendChild(s.location.nativeElement),s}_getContentRef(n,r,s,o,a){return s?s instanceof Ci?this._createFromTemplateRef(s,o):Sd(s)?this._createFromString(s):this._createFromComponent(n,r,s,o,a):new $o([])}_createFromTemplateRef(n,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=n.createEmbeddedView(s);return this._applicationRef.attachView(o),new $o([o.rootNodes],o)}_createFromString(n){let r=this._document.createTextNode(`${n}`);return new $o([[r]])}_createFromComponent(n,r,s,o,a){let u=Bt.create({providers:[{provide:Id,useValue:o}],parent:n}),l=pc(s,{environmentInjector:r,elementInjector:u}),h=l.location.nativeElement;return a.scrollable&&h.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new $o([[h]],l.hostView,l)}_setAriaHidden(n){let r=n.parentElement;r&&n!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==n&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,r)=>{n?r.setAttribute("aria-hidden",n):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let r=()=>{let s=this._modalRefs.indexOf(n);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(r,r)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let r=this._windowCmpts.indexOf(n);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),XR=(()=>{let t=class t{constructor(){this._injector=j(Bt),this._modalStack=j(QR),this._config=j(qR)}open(n,r={}){let s=Q(nt(Q({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,n,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Vw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({providers:[XR]});let e=t;return e})(),eN=(()=>{let t=class t{constructor(){this._ngbConfig=j(Sw),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Lw=e=>Bs(e)&&e!=="",tN=0,Fm=(()=>{let t=class t{constructor(){this.templateRef=j(Ci)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["ng-template","ngbNavContent",""]],standalone:!0});let e=t;return e})(),jw=(()=>{let t=class t{constructor(n){this.role=n,this.nav=j(mu)}};t.\u0275fac=function(r){return new(r||t)(ws("role"))},t.\u0275dir=Ne({type:t,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(r,s){r&2&&wn("role",s.role?s.role:s.nav.roles?"presentation":void 0)},standalone:!0});let e=t;return e})(),Td=(()=>{let t=class t{constructor(){this._nav=j(mu),this._nativeElement=j(ht).nativeElement,this.disabled=!1,this.shown=new Fe,this.hidden=new Fe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Bs(this.domId)||(this.domId=`ngb-nav-${tN++}`)}get active(){return this._nav.activeId===this.id}get id(){return Lw(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Bs(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["","ngbNavItem",""]],contentQueries:function(r,s,o){if(r&1&&bo(o,Fm,4),r&2){let a;oi(a=ai())&&(s.contentTpls=a)}},hostVars:2,hostBindings:function(r,s){r&2&&En("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[Pt.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0});let e=t;return e})(),mu=(()=>{let t=class t{constructor(n){this.role=n,this._config=j(eN),this._cd=j(Kn),this._document=j(Et),this._nativeElement=j(ht).nativeElement,this.destroyRef=j(Nr),this._navigatingWithKeyboard=!1,this.activeIdChange=new Fe,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Fe,this.hidden=new Fe,this.navItemChange$=new Qe,this.navChange=new Fe}click(n){n.disabled||this._updateActiveId(n.id)}onFocusout({relatedTarget:n}){this._nativeElement.contains(n)||(this._navigatingWithKeyboard=!1)}onKeyDown(n){if(this.roles!=="tablist"||!this.keyboard)return;let r=n.which,s=this.links.filter(u=>!u.navItem.disabled),{length:o}=s,a=-1;if(s.forEach((u,l)=>{u.nativeElement===this._document.activeElement&&(a=l)}),o){switch(r){case Ot.ArrowUp:case Ot.ArrowLeft:a=(a-1+o)%o;break;case Ot.ArrowRight:case Ot.ArrowDown:a=(a+1)%o;break;case Ot.Home:a=0;break;case Ot.End:a=o-1;break}this.keyboard==="changeWithArrows"&&this.select(s[a].navItem.id),s[a].nativeElement.focus(),this._navigatingWithKeyboard=!0,n.preventDefault()}}select(n){this._updateActiveId(n,!1)}ngAfterContentInit(){if(!Bs(this.activeId)){let n=this.items.first?this.items.first.id:null;Lw(n)&&(this._updateActiveId(n,!1),this._cd.detectChanges())}this.items.changes.pipe(Ts(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:n}){n&&!n.firstChange&&this._notifyItemChanged(n.currentValue)}_updateActiveId(n,r=!0){if(this.activeId!==n){let s=!1;r&&this.navChange.emit({activeId:this.activeId,nextId:n,preventDefault:()=>{s=!0}}),s||(this.activeId=n,this.activeIdChange.emit(n),this._notifyItemChanged(n))}}_notifyItemChanged(n){this.navItemChange$.next(this._getItemById(n))}_getItemById(n){return this.items&&this.items.find(r=>r.id===n)||null}};t.\u0275fac=function(r){return new(r||t)(ws("role"))},t.\u0275dir=Ne({type:t,selectors:[["","ngbNav",""]],contentQueries:function(r,s,o){if(r&1&&(bo(o,Td,4),bo(o,Md,5)),r&2){let a;oi(a=ai())&&(s.items=a),oi(a=ai())&&(s.links=a)}},hostVars:6,hostBindings:function(r,s){r&1&&Z("keydown.arrowLeft",function(a){return s.onKeyDown(a)})("keydown.arrowRight",function(a){return s.onKeyDown(a)})("keydown.arrowDown",function(a){return s.onKeyDown(a)})("keydown.arrowUp",function(a){return s.onKeyDown(a)})("keydown.Home",function(a){return s.onKeyDown(a)})("keydown.End",function(a){return s.onKeyDown(a)})("focusout",function(a){return s.onFocusout(a)}),r&2&&(wn("aria-orientation",s.orientation==="vertical"&&s.roles==="tablist"?"vertical":void 0)("role",s.role?s.role:s.roles?"tablist":void 0),En("nav",!0)("flex-column",s.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[qn]});let e=t;return e})(),Md=(()=>{let t=class t{constructor(n){this.role=n,this.navItem=j(Td),this.nav=j(mu),this.nativeElement=j(ht).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}};t.\u0275fac=function(r){return new(r||t)(ws("role"))},t.\u0275dir=Ne({type:t,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(r,s){r&2&&(xa("id",s.navItem.domId),wn("role",s.role?s.role:s.nav.roles?"tab":void 0)("tabindex",s.tabindex)("aria-controls",s.navItem.isPanelInDom()?s.navItem.panelDomId:null)("aria-selected",s.navItem.active)("aria-disabled",s.navItem.disabled),En("nav-link",!0)("nav-item",s.navItem.isNgContainer())("active",s.navItem.active)("disabled",s.navItem.disabled))},standalone:!0});let e=t;return e})();var Hw=(()=>{let t=class t extends Md{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=kt(t)))(s||t)}})(),t.\u0275dir=Ne({type:t,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(r,s){r&1&&Z("click",function(a){return s.nav.click(s.navItem),a.preventDefault()})},standalone:!0,features:[fn]});let e=t;return e})(),nN=({classList:e})=>(e.remove("show"),()=>e.remove("active")),iN=(e,t)=>{t&&Im(e),e.classList.add("show")},Ew=(()=>{let t=class t{constructor(){this.nativeElement=j(ht).nativeElement}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ne({type:t,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(r,s){r&2&&(xa("id",s.item.panelDomId),wn("role",s.role?s.role:s.nav.roles?"tabpanel":void 0)("aria-labelledby",s.item.domId),En("fade",s.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0});let e=t;return e})(),Uw=(()=>{let t=class t{constructor(){this._cd=j(Kn),this._ngZone=j(He),this._activePane=null}isPanelTransitioning(n){return this._activePane?.item===n}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Ts(this.nav.destroyRef),ia(this._activePane?.item||null),pf(),yf(1)).subscribe(n=>{let r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?_r(this._ngZone,this._activePane.nativeElement,nN,r).subscribe(()=>{let s=this._activePane?.item;this._activePane=this._getPaneForItem(n),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),_r(this._ngZone,this._activePane.nativeElement,iN,r).subscribe(()=>{n&&(n.shown.emit(),this.nav.shown.emit(n.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show"),this._activePane?.nativeElement.classList.add("active")}_getPaneForItem(n){return this._panes&&this._panes.find(r=>r.item===n)||null}_getActivePane(){return this._panes&&this._panes.find(n=>n.item.active)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["","ngbNavOutlet",""]],viewQuery:function(r,s){if(r&1&&Ds(Ew,5),r&2){let o;oi(o=ai())&&(s._panes=o)}},hostVars:2,hostBindings:function(r,s){r&2&&En("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[Pt.None,"ngbNavOutlet","nav"]},standalone:!0,features:[Ti],attrs:JO,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,s){r&1&&Te(0,XO,1,1,null,null,Rn),r&2&&Me(s.nav.items)},dependencies:[Ew,Mc],encapsulation:2,changeDetection:0});let e=t;return e})();var $w=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Gw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Ww=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var qw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var zw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Kw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Yw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Jw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Zw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var uq=new ne("live announcer delay",{providedIn:"root",factory:()=>100});var Qw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})();var Xw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({});let e=t;return e})(),rN=[xw,Iw,Tw,Mw,kw,Bw,Vw,$w,Xw,Gw,Ww,qw,zw,Kw,Yw,Jw,Zw,Qw],eE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({imports:[rN,xw,Iw,Tw,Mw,kw,Bw,Vw,$w,Xw,Gw,Ww,qw,zw,Kw,Yw,Jw,Zw,Qw]});let e=t;return e})();var nE=()=>({standalone:!0});function sN(e,t){if(e&1){let i=Ue();M(0,"button",8),Z("click",function(){q(i);let r=$();return z(r.subjectcreateChanged())}),L(1,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u0435\u0434\u043C\u0435\u0442"),F()}}function oN(e,t){if(e&1){let i=Ue();M(0,"button",8),Z("click",function(){q(i);let r=$();return z(r.subjectcreateChanged())}),L(1,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u0440\u0435\u0434\u043C\u0435\u0442"),F()}}function aN(e,t){if(e&1&&(M(0,"option",6),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function uN(e,t){if(e&1&&(M(0,"div",13),L(1),F()),e&2){let i=$(2);P(),it(" ",i.creatingError," ")}}function lN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",9)(2,"label",10),L(3,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430"),F(),M(4,"input",11),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.creatingSubjectName,r)||(s.creatingSubjectName=r),z(r)}),F()(),M(5,"button",12),Z("click",function(){q(i);let r=$();return z(r.createSubject())}),L(6,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),F()(),te(7,uN,2,1,"div",13)}if(e&2){let i=$();P(4),le("ngModel",i.creatingSubjectName),U("ngModelOptions",De(3,nE)),P(3),ve(7,i.creatingError?7:-1)}}function cN(e,t){if(e&1&&(M(0,"div",13),L(1),F()),e&2){let i=$(2);P(),it(" ",i.changingError," ")}}function dN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",9)(2,"label",14),L(3,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430"),F(),M(4,"input",15),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.changingSubjectName,r)||(s.changingSubjectName=r),z(r)}),F()(),M(5,"button",16),Z("click",function(){q(i);let r=$();return z(r.changeSubject())}),L(6,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"),F(),M(7,"button",17),Z("click",function(){q(i);let r=$();return z(r.deleteSubject())}),L(8,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),F()(),te(9,cN,2,1,"div",13)}if(e&2){let i=$();P(4),U("disabled",i.selectedSubject==null),le("ngModel",i.changingSubjectName),U("ngModelOptions",De(6,nE)),P(),U("disabled",i.selectedSubject==null),P(2),U("disabled",i.selectedSubject==null),P(2),ve(9,i.changingError?9:-1)}}var iE=(()=>{let t=class t{constructor(n){this.adminService=n,this.subjectCreating=!1,this.creatingError="",this.changingError="",this.changingSubjectName=""}ngOnInit(){this.getSubjects()}subjectcreateChanged(){this.subjectCreating=!this.subjectCreating}createSubject(){this.adminService.createSubject(this.creatingSubjectName).subscribe(n=>{this.creatingSubjectName=""},n=>{this.creatingError=n.error.message}),this.creatingSubjectName="",this.creatingError=""}changeSubject(){this.adminService.updateSubject(this.changingSubjectName,this.selectedSubject.name).subscribe(n=>{this.changingError=""},n=>{this.changingError=n.error.message}),this.changingSubjectName="",this.changingError=""}deleteSubject(){this.adminService.deleteSubject(this.selectedSubject.name).subscribe(n=>{this.changingError=""},n=>{this.changingError=n.error.message}),this.changingSubjectName="",this.changingError=""}onSelectionChange(n){this.changingSubjectName=this.selectedSubject?.name}getSubjects(){return qe(this,null,function*(){this.adminService.getAllSubjects().subscribe(n=>{this.subjects=n})})}};t.\u0275fac=function(r){return new(r||t)(J(Yr))},t.\u0275cmp=Re({type:t,selectors:[["app-subject-page"]],decls:12,vars:4,consts:[[1,"card","p-3"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-4","h-auto","d-flex","justify-content-between","flex-column"],["type","button",1,"btn","btn-primary","w-100","mb-2"],["size","5","aria-label","Single select example",1,"form-select","h-100",3,"ngModelChange","disabled","ngModel"],[3,"ngValue"],[1,"col-12","col-md-8"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"mb-3"],["for","UsernameInput",1,"form-label"],["type","text","id","UsernameInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click"],["role","alert",1,"alert","alert-danger","mt-3"],["for","PassInput",1,"form-label"],["type","text","id","PassInput",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","submit",1,"btn","mx-3","btn-danger",3,"click","disabled"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),te(4,sN,2,0,"button",4)(5,oN,2,0),M(6,"select",5),ce("ngModelChange",function(a){return fe(s.selectedSubject,a)||(s.selectedSubject=a),a}),Z("ngModelChange",function(a){return s.onSelectionChange(a)}),Te(7,aN,2,2,"option",6,ct),F()(),M(9,"div",7),te(10,lN,8,4)(11,dN,10,7),F()()()()),r&2&&(P(4),ve(4,s.subjectCreating?5:4),P(2),U("disabled",s.subjectCreating),le("ngModel",s.selectedSubject),P(),Me(s.subjects),P(3),ve(10,s.subjectCreating?10:11))},dependencies:[kn,di,fi,Zt,Bn,Qt,Pn,Lt,xn]});let e=t;return e})();var rE=()=>({standalone:!0});function hN(e,t){if(e&1){let i=Ue();M(0,"button",8),Z("click",function(){q(i);let r=$();return z(r.GroupcreateChanged())}),L(1,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0433\u0440\u0443\u043F\u043F\u0443"),F()}}function pN(e,t){if(e&1){let i=Ue();M(0,"button",8),Z("click",function(){q(i);let r=$();return z(r.GroupcreateChanged())}),L(1,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0433\u0440\u0443\u043F\u043F\u0443"),F()}}function gN(e,t){if(e&1&&(M(0,"option",6),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function mN(e,t){if(e&1&&(M(0,"div",13),L(1),F()),e&2){let i=$(2);P(),it(" ",i.creatingError," ")}}function vN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",9)(2,"label",10),L(3,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0433\u0440\u0443\u043F\u043F\u044B"),F(),M(4,"input",11),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.creatingGroupName,r)||(s.creatingGroupName=r),z(r)}),F()(),M(5,"button",12),Z("click",function(){q(i);let r=$();return z(r.createGroup())}),L(6,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),F()(),te(7,mN,2,1,"div",13)}if(e&2){let i=$();P(4),le("ngModel",i.creatingGroupName),U("ngModelOptions",De(3,rE)),P(3),ve(7,i.creatingError?7:-1)}}function yN(e,t){if(e&1&&(M(0,"div",13),L(1),F()),e&2){let i=$(2);P(),it(" ",i.changingError," ")}}function _N(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",9)(2,"label",14),L(3,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0433\u0440\u0443\u043F\u043F\u044B"),F(),M(4,"input",15),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.changingGroupName,r)||(s.changingGroupName=r),z(r)}),F()(),M(5,"button",16),Z("click",function(){q(i);let r=$();return z(r.changeGroup())}),L(6,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"),F(),M(7,"button",17),Z("click",function(){q(i);let r=$();return z(r.deleteGroup())}),L(8,"\u0423\u0434\u0430\u043B\u0438\u0442"),F()(),te(9,yN,2,1,"div",13)}if(e&2){let i=$();P(4),U("disabled",i.selectedGroup==null),le("ngModel",i.changingGroupName),U("ngModelOptions",De(6,rE)),P(),U("disabled",i.selectedGroup==null),P(2),U("disabled",i.selectedGroup==null),P(2),ve(9,i.changingError?9:-1)}}var sE=(()=>{let t=class t{constructor(n){this.adminService=n,this.groupCreating=!1,this.creatingError="",this.changingError="",this.changingGroupName=""}ngOnInit(){this.getGroup()}GroupcreateChanged(){this.groupCreating=!this.groupCreating}createGroup(){this.adminService.createGroup(this.creatingGroupName).subscribe(n=>{this.creatingGroupName=""},n=>{this.creatingError=n.error.message}),this.creatingGroupName="",this.creatingError=""}changeGroup(){this.adminService.updateGroup(this.changingGroupName,this.selectedGroup.name).subscribe(n=>{this.changingError=""},n=>{this.changingError=n.error.message}),this.changingGroupName="",this.changingError=""}deleteGroup(){this.adminService.deleteGroup(this.selectedGroup.name).subscribe(n=>{this.changingError=""},n=>{this.changingError=n.error.message}),this.changingGroupName="",this.changingError=""}onSelectionChange(n){this.changingGroupName=this.selectedGroup?.name}getGroup(){return qe(this,null,function*(){this.adminService.getAllGroups().subscribe(n=>{this.groups=n})})}};t.\u0275fac=function(r){return new(r||t)(J(Yr))},t.\u0275cmp=Re({type:t,selectors:[["app-group-page"]],decls:12,vars:4,consts:[[1,"card","p-3"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-4","h-auto","d-flex","justify-content-between","flex-column"],["type","button",1,"btn","btn-primary","w-100","mb-2"],["size","5","aria-label","Single select example",1,"form-select","h-100",3,"ngModelChange","disabled","ngModel"],[3,"ngValue"],[1,"col-12","col-md-8"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"mb-3"],["for","UsernameInput",1,"form-label"],["type","text","id","UsernameInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click"],["role","alert",1,"alert","alert-danger","mt-3"],["for","PassInput",1,"form-label"],["type","text","id","PassInput",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","submit",1,"btn","btn-danger","mx-3",3,"click","disabled"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),te(4,hN,2,0,"button",4)(5,pN,2,0),M(6,"select",5),ce("ngModelChange",function(a){return fe(s.selectedGroup,a)||(s.selectedGroup=a),a}),Z("ngModelChange",function(a){return s.onSelectionChange(a)}),Te(7,gN,2,2,"option",6,ct),F()(),M(9,"div",7),te(10,vN,8,4)(11,_N,10,7),F()()()()),r&2&&(P(4),ve(4,s.groupCreating?5:4),P(2),U("disabled",s.groupCreating),le("ngModel",s.selectedGroup),P(),Me(s.groups),P(3),ve(10,s.groupCreating?10:11))},dependencies:[kn,di,fi,Zt,Bn,Qt,Pn,Lt,xn]});let e=t;return e})();var Tn=()=>({standalone:!0});function wN(e,t){if(e&1){let i=Ue();M(0,"button",11),Z("click",function(){q(i);let r=$();return z(r.lessoncreateChanged())}),L(1,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u043D\u044F\u0442\u0438\u0435"),F()}}function EN(e,t){if(e&1){let i=Ue();M(0,"button",11),Z("click",function(){q(i);let r=$();return z(r.lessoncreateChanged())}),L(1,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0437\u0430\u043D\u044F\u0442\u0438\u0435"),F()}}function DN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.month+" "+i.date+" "+i.dayOfWeek)}}function CN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function SN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.pareNumber+" "+i.pareName+" "+i.groupName)}}function xN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function IN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name+" "+i.surname)}}function TN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function MN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.month+" "+i.date+" "+i.dayOfWeek)}}function AN(e,t){if(e&1&&(M(0,"div",18),L(1),F()),e&2){let i=$(2);P(),it(" ",i.creatingError," ")}}function FN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",12)(2,"label",13),L(3,"\u041D\u043E\u043C\u0435\u0440 \u043F\u0430\u0440\u044B"),F(),M(4,"input",14),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.pareCreate,r)||(s.pareCreate=r),z(r)}),F(),M(5,"label",13),L(6,"\u0414\u0438\u0441\u0446\u0438\u043F\u043B\u0438\u043D\u0430"),F(),M(7,"select",15),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedSubjectCreate,r)||(s.selectedSubjectCreate=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$();return z(s.onSelectionChange(r))}),Te(8,xN,2,2,"option",8,ct),F(),M(10,"label",13),L(11,"\u041F\u0440\u0435\u043F\u043E\u0434\u0430\u0432\u0430\u0442\u0435\u043B\u044C"),F(),M(12,"select",15),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedTeacherCreate,r)||(s.selectedTeacherCreate=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$();return z(s.onSelectionChange(r))}),Te(13,IN,2,2,"option",8,ct),F(),M(15,"label",13),L(16,"\u041A\u0430\u0431\u0438\u043D\u0435\u0442"),F(),M(17,"input",16),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.classRoomCreate,r)||(s.classRoomCreate=r),z(r)}),F(),M(18,"label",13),L(19,"\u0413\u0440\u0443\u043F\u043F\u0430"),F(),M(20,"select",15),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedGroupCreate,r)||(s.selectedGroupCreate=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$();return z(s.onSelectionChange(r))}),Te(21,TN,2,2,"option",8,ct),F(),M(23,"label",13),L(24,"\u0414\u0430\u0442\u0430"),F(),M(25,"select",15),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedDateCreate,r)||(s.selectedDateCreate=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$();return z(s.onSelectionChange(r))}),Te(26,MN,2,2,"option",8,ct),F()(),M(28,"button",17),Z("click",function(){q(i);let r=$();return z(r.createLesson())}),L(29,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),F()(),te(30,AN,2,1,"div",18)}if(e&2){let i=$();P(4),le("ngModel",i.pareCreate),U("ngModelOptions",De(13,Tn)),P(3),le("ngModel",i.selectedSubjectCreate),U("ngModelOptions",De(14,Tn)),P(),Me(i.subjects),P(4),le("ngModel",i.selectedTeacherCreate),U("ngModelOptions",De(15,Tn)),P(),Me(i.teachers),P(4),le("ngModel",i.classRoomCreate),U("ngModelOptions",De(16,Tn)),P(3),le("ngModel",i.selectedGroupCreate),U("ngModelOptions",De(17,Tn)),P(),Me(i.groups),P(4),le("ngModel",i.selectedDateCreate),U("ngModelOptions",De(18,Tn)),P(),Me(i.dates),P(4),ve(30,i.creatingError.length>0?30:-1)}}function ON(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function RN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name+" "+i.surname)}}function NN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function PN(e,t){if(e&1&&(M(0,"option",8),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.month+" "+i.date+" "+i.dayOfWeek)}}function kN(e,t){if(e&1&&(M(0,"div",18),L(1),F()),e&2){let i=$(2);P(),it(" ",i.changingError," ")}}function BN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",12)(2,"label",13),L(3,"\u041D\u043E\u043C\u0435\u0440 \u043F\u0430\u0440\u044B"),F(),M(4,"input",19),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.pareChange,r)||(s.pareChange=r),z(r)}),F(),M(5,"label",13),L(6,"\u0414\u0438\u0441\u0446\u0438\u043F\u043B\u0438\u043D\u0430"),F(),M(7,"select",20),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedSubjectChange,r)||(s.selectedSubjectChange=r),z(r)}),Te(8,ON,2,2,"option",8,ct),F(),M(10,"label",13),L(11,"\u041F\u0440\u0435\u043F\u043E\u0434\u0430\u0432\u0430\u0442\u0435\u043B\u044C"),F(),M(12,"select",21),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedTeacherChange,r)||(s.selectedTeacherChange=r),z(r)}),Te(13,RN,2,2,"option",8,ct),F(),M(15,"label",13),L(16,"\u041A\u0430\u0431\u0438\u043D\u0435\u0442"),F(),M(17,"input",22),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.classRoomChange,r)||(s.classRoomChange=r),z(r)}),F(),M(18,"label",13),L(19,"\u0413\u0440\u0443\u043F\u043F\u0430"),F(),M(20,"select",21),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedGroupChange,r)||(s.selectedGroupChange=r),z(r)}),Te(21,NN,2,2,"option",8,ct),F(),M(23,"label",13),L(24,"\u0414\u0430\u0442\u0430"),F(),M(25,"select",21),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedDateChange,r)||(s.selectedDateChange=r),z(r)}),Te(26,PN,2,2,"option",8,ct),F()(),M(28,"button",23),Z("click",function(){q(i);let r=$();return z(r.changeLesson())}),L(29,"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C"),F(),M(30,"button",24),Z("click",function(){q(i);let r=$();return z(r.deleteLesson())}),L(31,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),F()(),te(32,kN,2,1,"div",18)}if(e&2){let i=$();P(4),U("disabled",i.selectedLesson==null),le("ngModel",i.pareChange),U("ngModelOptions",De(21,Tn)),P(3),U("disabled",i.selectedLesson==null),le("ngModel",i.selectedSubjectChange),U("ngModelOptions",De(22,Tn)),P(),Me(i.subjects),P(4),U("disabled",i.selectedLesson==null),le("ngModel",i.selectedTeacherChange),U("ngModelOptions",De(23,Tn)),P(),Me(i.teachers),P(4),U("disabled",i.selectedLesson==null),le("ngModel",i.classRoomChange),U("ngModelOptions",De(24,Tn)),P(3),U("disabled",i.selectedLesson==null),le("ngModel",i.selectedGroupChange),U("ngModelOptions",De(25,Tn)),P(),Me(i.groups),P(4),U("disabled",i.selectedLesson==null),le("ngModel",i.selectedDateChange),U("ngModelOptions",De(26,Tn)),P(),Me(i.dates),P(2),U("disabled",i.selectedLesson==null),P(2),U("disabled",i.selectedLesson==null),P(2),ve(32,i.changingError?32:-1)}}var oE=(()=>{let t=class t{constructor(n){this.adminService=n,this.lessonCreating=!1,this.creatingError="",this.changingError="",this.dates=[],this.groupsForSelect=[],this.groups=[],this.subjects=[],this.teachers=[]}ngOnInit(){this.generateDates(),this.getGroup(),this.getSubjects(),this.getTeachers();let n=this.selectedDate?.fulldate;if(n){let r=new Date(n);this.adminService.getLesson("\u0412\u0441\u0435 \u0433\u0440\u0443\u043F\u043F\u044B",r.toISOString().replace("Z","+00:00")).subscribe(s=>{this.lessons=s})}}generateDates(){for(var n=0;n<6;n++){var r=new Date;if(r.setDate(r.getDate()+n),r.getDay()===0)continue;var s=["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],o=s[r.getMonth()],a=["\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],u=a[r.getDay()-1];let l=r.getFullYear(),h=r.getMonth()+1,g=r.getDate();this.dates.push({date:r.getDate(),month:o,dayOfWeek:u,fulldate:`${l}-${h<10?"0"+h:h}-${g<10?"0"+g:g}`})}this.selectedDate=this.dates[0]}getGroup(){return qe(this,null,function*(){yield this.adminService.getAllGroups().subscribe(n=>{this.groupsForSelect=n,this.groupsForSelect.unshift({name:"\u0412\u0441\u0435 \u0433\u0440\u0443\u043F\u043F\u044B"}),this.selectedGroup=this.groupsForSelect[0],this.groups=n}),yield this.adminService.getAllGroups().subscribe(n=>{this.groups=n})})}getSubjects(){return qe(this,null,function*(){this.adminService.getAllSubjects().subscribe(n=>{this.subjects=n})})}getTeachers(){return qe(this,null,function*(){this.adminService.getAllTeachers().subscribe(n=>{this.teachers=n})})}lessoncreateChanged(){this.lessonCreating=!this.lessonCreating}onSelectionChange(n){this.pareChange=this.selectedLesson?.pareNumber,this.subjects?.forEach(r=>{r.name==this.selectedLesson?.pareName&&(this.selectedSubjectChange=r)}),this.teachers?.forEach(r=>{r.name+" "+r.surname==this.selectedLesson?.teacherName&&(this.selectedTeacherChange=r)}),this.groups?.forEach(r=>{r.name==this.selectedLesson?.groupName&&(this.selectedGroupChange=r)}),this.classRoomChange=this.selectedLesson?.classRoom,this.selectedDateChange=this.selectedDate}onMainSelectionChange(n){let r=this.selectedDate?.fulldate;if(r){let s=new Date(r);this.adminService.getLesson(this.selectedGroup?.name,s.toISOString().replace("Z","+00:00")).subscribe(o=>{this.lessons=o})}}createLesson(){return qe(this,null,function*(){if(console.log("create Lesson"),this.creatingError="",!this.selectedSubjectCreate?.name||!this.selectedTeacherCreate?.name||!this.selectedTeacherCreate?.surname||!this.selectedDate?.fulldate||!this.pareCreate||!this.classRoomCreate||!this.selectedGroupCreate?.name){this.creatingError="\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u0432\u0441\u0435 \u043F\u043E\u043B\u044F";return}this.adminService.addLesson(this.selectedSubjectCreate?.name,this.selectedTeacherCreate?.name,this.selectedTeacherCreate?.surname,this.selectedDateCreate?.fulldate,this.pareCreate,this.classRoomCreate,this.selectedGroupCreate?.name).subscribe(),this.selectedSubjectCreate=void 0,this.selectedTeacherCreate=void 0,this.selectedDateCreate=void 0,this.selectedGroupCreate=void 0,this.pareCreate=void 0,this.classRoomCreate=void 0})}changeLesson(){var n={pareNumber:this.pareChange,pareName:this.selectedSubjectChange?.name,teacherName:this.selectedTeacherChange?.name+" "+this.selectedTeacherChange?.surname,classRoom:this.classRoomChange.toString(),groupName:this.selectedGroupChange?.name,fulldate:this.selectedDateChange?.fulldate},r=new Date(this.selectedLesson?.fulldate);let s=r.toISOString().split("T")[0];var o={pareNumber:this.selectedLesson?.pareNumber,pareName:this.selectedLesson?.pareName,teacherName:this.selectedLesson?.teacherName,classRoom:this.selectedLesson?.classRoom.toString(),groupName:this.selectedLesson?.groupName,fulldate:s};this.adminService.updateLesson(o,n).subscribe()}deleteLesson(){this.creatingError="",this.adminService.deleteLesson(this.selectedGroupChange?.name,this.selectedDateChange?.fulldate,this.pareChange).subscribe()}};t.\u0275fac=function(r){return new(r||t)(J(Yr))},t.\u0275cmp=Re({type:t,selectors:[["app-lessons-page"]],decls:22,vars:14,consts:[[1,"card","p-3"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-4","h-auto","d-flex","justify-content-between","flex-column"],["type","button",1,"btn","btn-primary","w-100","mb-2"],[1,"container","p-0","my-2"],[1,"col"],["aria-label","Single select example",1,"form-select",3,"ngModelChange","disabled","ngModel","ngModelOptions"],[3,"ngValue"],["size","5",1,"form-select","h-100",3,"ngModelChange","disabled","ngModel","ngModelOptions"],[1,"col-12","col-md-8"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"mb-3"],["for","PareInput",1,"form-label"],["type","number","max","6","min","1","maxlength","1","id","PareInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select",3,"ngModelChange","ngModel","ngModelOptions"],["type","text","id","PareInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click"],["role","alert",1,"alert","alert-danger","mt-3"],["type","number","max","6","min","1","maxlength","1",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["\u0447","",1,"form-select",3,"ngModelChange","disabled","ngModel","ngModelOptions"],[1,"form-select",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["type","text","id","PareInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","submit",1,"btn","btn-danger","mx-3",3,"click","disabled"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),te(4,wN,2,0,"button",4)(5,EN,2,0),M(6,"div",5)(7,"div",2)(8,"div",6)(9,"select",7),ce("ngModelChange",function(a){return fe(s.selectedDate,a)||(s.selectedDate=a),a}),Z("ngModelChange",function(a){return s.onMainSelectionChange(a)}),Te(10,DN,2,2,"option",8,ct),F()(),M(12,"div",6)(13,"select",7),ce("ngModelChange",function(a){return fe(s.selectedGroup,a)||(s.selectedGroup=a),a}),Z("ngModelChange",function(a){return s.onMainSelectionChange(a)}),Te(14,CN,2,2,"option",8,ct),F()()()(),M(16,"select",9),ce("ngModelChange",function(a){return fe(s.selectedLesson,a)||(s.selectedLesson=a),a}),Z("ngModelChange",function(a){return s.onSelectionChange(a)}),Te(17,SN,2,2,"option",8,ct),F()(),M(19,"div",10),te(20,FN,31,19)(21,BN,33,27),F()()()()),r&2&&(P(4),ve(4,s.lessonCreating?5:4),P(5),U("disabled",s.lessonCreating),le("ngModel",s.selectedDate),U("ngModelOptions",De(11,Tn)),P(),Me(s.dates),P(3),U("disabled",s.lessonCreating),le("ngModel",s.selectedGroup),U("ngModelOptions",De(12,Tn)),P(),Me(s.groupsForSelect),P(2),U("disabled",s.lessonCreating),le("ngModel",s.selectedLesson),U("ngModelOptions",De(13,Tn)),P(),Me(s.lessons),P(3),ve(20,s.lessonCreating?20:21))},dependencies:[kn,di,fi,Zt,em,Bn,Qt,Pn,im,nm,tm,Lt,xn]});let e=t;return e})();var Xn=()=>({standalone:!0});function LN(e,t){if(e&1){let i=Ue();M(0,"button",15),Z("click",function(){q(i);let r=$(2);return z(r.createChanged())}),L(1," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F "),F()}}function jN(e,t){if(e&1){let i=Ue();M(0,"button",15),Z("click",function(){q(i);let r=$(2);return z(r.createChanged())}),L(1," \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F "),F()}}function HN(e,t){if(e&1&&(M(0,"option",13),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),it(" ",i.person.name+" "+i.person.sname+" "+i.group.name," ")}}function UN(e,t){if(e&1&&(M(0,"option",13),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function $N(e,t){if(e&1&&(M(0,"option",13),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function GN(e,t){if(e&1&&(M(0,"div",29),L(1),F()),e&2){let i=$(3);P(),it(" ",i.creatingError," ")}}function WN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",16)(2,"label",17),L(3,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u043B\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),F(),M(4,"input",18),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.creatingUsername,r)||(s.creatingUsername=r),z(r)}),F()(),M(5,"div",16)(6,"label",19),L(7,"\u041F\u0430\u0440\u043E\u043B\u044C"),F(),M(8,"input",20),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.creatingPassword,r)||(s.creatingPassword=r),z(r)}),F()(),M(9,"div",16)(10,"label",21),L(11,"\u0418\u043C\u044F"),F(),M(12,"input",22),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.creatingName,r)||(s.creatingName=r),z(r)}),F()(),M(13,"div",16)(14,"label",23),L(15,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),F(),M(16,"input",24),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.creatingSname,r)||(s.creatingSname=r),z(r)}),F()(),M(17,"div",16)(18,"label",23),L(19,"\u0413\u0440\u0443\u043F\u043F\u0430"),F(),M(20,"select",25),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.createSelectedGroup,r)||(s.createSelectedGroup=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$(2);return z(s.onGroupSelectionChange(r))}),Te(21,UN,2,2,"option",13,Rn),F()(),M(23,"div",16)(24,"label",23),L(25,"\u0420\u043E\u043B\u044C"),F(),M(26,"select",25),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.createSelectedRole,r)||(s.createSelectedRole=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$(2);return z(s.onGroupSelectionChange(r))}),Te(27,$N,2,2,"option",13,Rn),F()(),M(29,"div",26)(30,"button",27),Z("click",function(){q(i);let r=$(2);return z(r.createUser())}),L(31," \u0421\u043E\u0437\u0434\u0430\u0442\u044C "),F(),M(32,"input",28),Z("change",function(r){q(i);let s=$(2);return z(s.onFileSelected(r))}),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.selectedFile,r)||(s.selectedFile=r),z(r)}),F()()(),te(33,GN,2,1,"div",29)}if(e&2){let i=$(2);P(4),le("ngModel",i.creatingUsername),U("ngModelOptions",De(15,Xn)),P(4),le("ngModel",i.creatingPassword),U("ngModelOptions",De(16,Xn)),P(4),le("ngModel",i.creatingName),U("ngModelOptions",De(17,Xn)),P(4),le("ngModel",i.creatingSname),U("ngModelOptions",De(18,Xn)),P(4),le("ngModel",i.createSelectedGroup),U("ngModelOptions",De(19,Xn)),P(),Me(i.groups),P(5),le("ngModel",i.createSelectedRole),U("ngModelOptions",De(20,Xn)),P(),Me(i.roles),P(5),le("ngModel",i.selectedFile),U("ngModelOptions",De(21,Xn)),P(),ve(33,i.creatingError?33:-1)}}function qN(e,t){if(e&1&&(M(0,"option",13),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function zN(e,t){if(e&1&&(M(0,"option",13),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),de(i.name)}}function KN(e,t){if(e&1&&(M(0,"div",29),L(1),F()),e&2){let i=$(3);P(),it(" ",i.changingError," ")}}function YN(e,t){if(e&1){let i=Ue();M(0,"form")(1,"div",16)(2,"label",30),L(3,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),F(),M(4,"input",31),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.changingUsername,r)||(s.changingUsername=r),z(r)}),F()(),M(5,"div",16)(6,"label",32),L(7,"\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C (\u043F\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E\u0441\u0442\u0438)"),F(),M(8,"input",33),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.changingPassword,r)||(s.changingPassword=r),z(r)}),F()(),M(9,"div",16)(10,"label",34),L(11,"\u0418\u043C\u044F"),F(),M(12,"input",35),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.changingName,r)||(s.changingName=r),z(r)}),F()(),M(13,"div",16)(14,"label",36),L(15,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),F(),M(16,"input",37),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.changingSname,r)||(s.changingSname=r),z(r)}),F()(),M(17,"div",16)(18,"label",23),L(19,"\u0413\u0440\u0443\u043F\u043F\u0430"),F(),M(20,"select",38),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.changeSelectedGroup,r)||(s.changeSelectedGroup=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$(2);return z(s.onGroupSelectionChange(r))}),Te(21,qN,2,2,"option",13,Rn),F()(),M(23,"div",16)(24,"label",23),L(25,"\u0420\u043E\u043B\u044C"),F(),M(26,"select",38),ce("ngModelChange",function(r){q(i);let s=$(2);return fe(s.changeSelectedRole,r)||(s.changeSelectedRole=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$(2);return z(s.onGroupSelectionChange(r))}),Te(27,zN,2,2,"option",13,Rn),F()(),M(29,"button",39),Z("click",function(){q(i);let r=$(2);return z(r.updateUser())}),L(30," \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C "),F(),M(31,"button",40),Z("click",function(){q(i);let r=$(2);return z(r.deleteUser())}),L(32," \u0423\u0434\u0430\u043B\u0438\u0442\u044C "),F()(),te(33,KN,2,1,"div",29)}if(e&2){let i=$(2);P(4),U("disabled",i.selectedUser==null),le("ngModel",i.changingUsername),U("ngModelOptions",De(21,Xn)),P(4),U("disabled",i.selectedUser==null),le("ngModel",i.changingPassword),U("ngModelOptions",De(22,Xn)),P(4),U("disabled",i.selectedUser==null),le("ngModel",i.changingName),U("ngModelOptions",De(23,Xn)),P(4),U("disabled",i.selectedUser==null),le("ngModel",i.changingSname),U("ngModelOptions",De(24,Xn)),P(4),le("ngModel",i.changeSelectedGroup),U("disabled",i.selectedUser==null)("ngModelOptions",De(25,Xn)),P(),Me(i.groups),P(5),le("ngModel",i.changeSelectedRole),U("disabled",i.selectedUser==null)("ngModelOptions",De(26,Xn)),P(),Me(i.roles),P(2),U("disabled",i.selectedUser==null),P(2),U("disabled",i.selectedUser==null),P(2),ve(33,i.changingError?33:-1)}}function JN(e,t){if(e&1){let i=Ue();M(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),te(4,LN,2,0,"button",11)(5,jN,2,0),M(6,"select",12),ce("ngModelChange",function(r){q(i);let s=$();return fe(s.selectedUser,r)||(s.selectedUser=r),z(r)}),Z("ngModelChange",function(r){q(i);let s=$();return z(s.onSelectionChange(r))}),Te(7,HN,2,2,"option",13,ct),F()(),M(9,"div",14),te(10,WN,34,22)(11,YN,34,27),F()()()()}if(e&2){let i=$();P(4),ve(4,i.userCreating?5:4),P(2),U("disabled",i.userCreating),le("ngModel",i.selectedUser),P(),Me(i.users),P(3),ve(10,i.userCreating?10:11)}}function ZN(e,t){e&1&&ye(0,"app-subject-page")}function QN(e,t){e&1&&ye(0,"app-group-page")}function XN(e,t){e&1&&ye(0,"app-lessons-page")}var aE=(()=>{let t=class t{constructor(n,r,s,o){this.router=n,this.tokenStorage=r,this.adminService=s,this.csvService=o,this.isLoggedIn=!1,this.userCreating=!1,this.subjectCreating=!1,this.selectedUser=null,this.changeSelectedGroup=null,this.createSelectedGroup=null,this.createSelectedRole=null,this.changeSelectedRole=null}ngOnInit(){return qe(this,null,function*(){if(!this.tokenStorage.getToken()){this.router.navigate(["/login"]);return}this.isLoggedIn=!0,this.getUsers(),this.getSubjects(),this.getGroups(),this.getRoles()})}createChanged(){this.userCreating=!this.userCreating,this.roles?.forEach(n=>{n.name=="user"&&(this.createSelectedRole=n)})}subjectcreateChanged(){this.subjectCreating=!this.subjectCreating}onFileSelected(n){this.csvService.AddUsersCSV(n.target.files[0])}getUsers(){return qe(this,null,function*(){this.adminService.getAllUsers().subscribe(n=>{this.users=n.sort((r,s)=>r.person.name.localeCompare(s.person.name))},n=>{if(n.status==403){this.router.navigate(["/home"]);return}})})}getSubjects(){return qe(this,null,function*(){this.adminService.getAllSubjects().subscribe(n=>{this.subjects=n})})}getGroups(){return qe(this,null,function*(){this.adminService.getAllGroups().subscribe(n=>{this.groups=n})})}getRoles(){return qe(this,null,function*(){this.adminService.getRoles().subscribe(n=>{this.roles=n})})}onSelectionChange(n){this.changingUsername=this.selectedUser?.username,this.changingName=this.selectedUser?.person.name,this.changingSname=this.selectedUser?.person.sname,this.groups?.forEach(r=>{r._id==this.selectedUser?.group._id&&(this.changeSelectedGroup=r)}),this.roles?.forEach(r=>{r.name==this.selectedUser?.role&&(this.changeSelectedRole=r)})}deleteUser(){try{this.adminService.deleteUser(this.selectedUser?.username).subscribe(n=>{}),this.changingUsername=void 0,this.changingPassword=void 0,this.changingName=void 0,this.changingSname=void 0,this.changeSelectedGroup=null}catch(n){switch(n.status){case 404:this.creatingError="\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case 500:this.creatingError="\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break;default:this.creatingError="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430";break}}}onGroupSelectionChange(n){}createUser(){return qe(this,null,function*(){this.creatingError="";try{let n=yield this.adminService.registerUser(this.creatingUsername,this.creatingPassword,this.creatingName,this.creatingSname,this.createSelectedGroup?.name,this.createSelectedRole?._id).toPromise()}catch(n){switch(n.status){case 409:this.creatingError="\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case 500:this.creatingError="\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break;case 200:this.creatingPassword="",this.creatingUsername="",this.creatingName="",this.creatingSname="",this.creatingError="\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0441\u043E\u0437\u0434\u0430\u043D";break;default:this.creatingError="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430";break}}})}updateUser(){if(this.selectedUser!=null){this.changingError="";try{this.adminService.updateUser(this.selectedUser.username,this.changingUsername,this.changingPassword,this.changingName,this.changingSname,this.changeSelectedGroup?._id,this.changeSelectedRole?._id).subscribe(n=>{}),this.changingUsername=void 0,this.changingPassword=void 0,this.changingName=void 0,this.changingSname=void 0,this.changeSelectedGroup=null}catch(n){switch(n.status){case 404:this.creatingError="\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";break;case 500:this.creatingError="\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break;default:this.creatingError="\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430";break}}}}};t.\u0275fac=function(r){return new(r||t)(J(Ct),J(hn),J(Yr),J(tw))},t.\u0275cmp=Re({type:t,selectors:[["app-admin-page"]],decls:20,vars:1,consts:[["nav","ngbNav"],[1,"container","my-3"],["ngbNav","",1,"nav-tabs"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"card","p-3"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-4","h-auto","d-flex","justify-content-between","flex-column"],["type","button",1,"btn","btn-primary","w-100","mb-2"],["size","5","aria-label","Single select example",1,"form-select","h-100",3,"ngModelChange","disabled","ngModel"],[3,"ngValue"],[1,"col-12","col-md-8"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"mb-3"],["for","UsernameInput",1,"form-label"],["type","text","id","UsernameInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["for","PasswordInput",1,"form-label"],["type","text","id","PasswordInput","aria-describedby","usernameHelp",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["for","NameInput",1,"form-label"],["type","text","id","NameInput",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["for","SnameInput",1,"form-label"],["type","text","id","SnameInput",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"form-select","h-100",3,"ngModelChange","ngModel","ngModelOptions"],[1,"wrap","d-flex","gap-3"],["type","submit",1,"btn","btn-primary",3,"click"],["type","file","id","formFile","accept",".csv",1,"form-control","w-auto",3,"change","ngModelChange","ngModel","ngModelOptions"],["role","alert",1,"alert","alert-danger","mt-3"],["for","PassInput",1,"form-label"],["type","text","id","PassInput",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["for","Pass2Input",1,"form-label"],["type","text","id","Pass2Input",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["for","NameInput2",1,"form-label"],["type","text","id","NameInput",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],["for","SnameInput2",1,"form-label"],["type","text","id","SnameInput",1,"form-control",3,"ngModelChange","disabled","ngModel","ngModelOptions"],[1,"form-select","h-100",3,"ngModelChange","ngModel","disabled","ngModelOptions"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","submit",1,"btn","btn-danger","mx-3",3,"click","disabled"]],template:function(r,s){if(r&1&&(M(0,"div",1)(1,"ul",2,0)(3,"li",3)(4,"a",4),L(5,"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438"),F(),te(6,JN,12,4,"ng-template",5),F(),M(7,"li",3)(8,"a",4),L(9,"\u0414\u0438\u0441\u0446\u0438\u043F\u043B\u0438\u043D\u044B"),F(),te(10,ZN,1,0,"ng-template",5),F(),M(11,"li",3)(12,"a",4),L(13,"\u0413\u0440\u0443\u043F\u043F\u044B"),F(),te(14,QN,1,0,"ng-template",5),F(),M(15,"li",3)(16,"a",4),L(17,"\u0417\u0430\u043D\u044F\u0442\u0438\u044F"),F(),te(18,XN,1,0,"ng-template",5),F()(),ye(19,"div",6),F()),r&2){let o=wo(2);P(19),U("ngbNavOutlet",o)}},dependencies:[Fm,mu,Td,jw,Hw,Md,Uw,kn,di,fi,Zt,Bn,Qt,Pn,Lt,xn,iE,sE,oE]});let e=t;return e})();var uE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Re({type:t,selectors:[["app-err"]],decls:10,vars:0,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col8","text-center"],["src","favicon.ico","alt",""],[1,"display-4"],[1,"lead"],["routerLink","/",1,"btn","btn-primary","mt-3"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),ye(3,"img",3),M(4,"h1",4),L(5,"404 - \u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430"),F(),M(6,"p",5),L(7,"\u0418\u0437\u0432\u0438\u043D\u0438\u0442\u0435, \u0437\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u0430\u044F \u0432\u0430\u043C\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430 \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442."),F(),M(8,"a",6),L(9,"\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043D\u0430 \u0433\u043B\u0430\u0432\u043D\u0443\u044E"),F()()()())},dependencies:[Ji],styles:[".container[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]});let e=t;return e})();var Om="http://localhost:3000/api/auth/",Rm={headers:new Jn({"Content-Type":"application/json"}),timeout:1e4},vu=(()=>{let t=class t{constructor(n){this.http=n}refreshToken(n){return this.http.post(Om+"refresh",{refreshToken:n},Rm)}login(n,r){return this.http.post(Om+"signin",{username:n,password:r},Rm)}register(n,r,s){return this.http.post(Om+"signup",{username:n,email:r,password:s},Rm)}};t.\u0275fac=function(r){return new(r||t)(X(Ai))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function e3(e,t){if(e&1&&(M(0,"div",15),L(1),F()),e&2){let i=$();P(),it(" ",i.error," ")}}var lE=(()=>{let t=class t{constructor(n,r,s){this.router=n,this.authService=r,this.tokenStorage=s,this.form={username:"",password:""},this.error=""}ngOnInit(){this.tokenStorage.getToken()&&this.router.navigate(["/home"]).then(()=>{window.location.reload()})}OnSubmit(){let{username:n,password:r}=this.form;this.authService.login(n,r).subscribe({next:s=>{this.tokenStorage.saveToken(s.accessToken),this.tokenStorage.saveRefreshToken(s.refreshToken),this.tokenStorage.saveUser(s),this.router.navigate(["/home"]).then(()=>{window.location.reload()})},error:s=>{switch(this.error="",s.status){case 400:this.error="\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u043F\u0440\u043E\u0441\u0430";break;case 401:this.error="\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";break;case 403:this.error="\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C";break;case 404:this.error="\u041D\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C";break;case 500:this.error="\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430";break;default:this.error="\u041D\u0435\u043F\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430";break}}})}};t.\u0275fac=function(r){return new(r||t)(J(Ct),J(vu),J(hn))},t.\u0275cmp=Re({type:t,selectors:[["app-authorize-page"]],decls:31,vars:3,consts:[[1,"container-fluid"],[1,"row","d-flex","flex-md-row","flex-column"],[1,"col","left-panel","text-center","d-flex","flex-column","justify-content-center","d-none","d-md-flex"],["src","../../../assets/auth/main.svg","alt","",1,"logo"],[1,"fs-2"],[1,"fs-3"],[1,"col","d-flex","flex-column","justify-content-center","right-panel"],[1,"wrap"],[1,"text-center"],[1,"d-flex","flex-column","w-100","m-auto",3,"submit"],["for","username"],["type","text","name","username","placeholder","\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440: user",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"],["role","alert",1,"alert","alert-danger","w-100","mx-auto"],[1,"text-center","fs-6"],["href","#"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),ye(3,"img",3),M(4,"h2",4),L(5,"\u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u043D\u0430"),F(),M(6,"h3",5),L(7,"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0440\u0435\u0441\u0443\u0440\u0441"),ye(8,"br"),L(9,"\u041C\u0413\u0413\u0422\u041A \u0410\u0413\u0423"),F()(),M(10,"div",6)(11,"div",7)(12,"h2",8),L(13,"\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F"),F(),M(14,"form",9),Z("submit",function(){return s.OnSubmit()}),M(15,"label",10),L(16,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),F(),M(17,"input",11),ce("ngModelChange",function(a){return fe(s.form.username,a)||(s.form.username=a),a}),F(),M(18,"label",12),L(19,"\u041F\u0430\u0440\u043E\u043B\u044C"),F(),M(20,"input",13),ce("ngModelChange",function(a){return fe(s.form.password,a)||(s.form.password=a),a}),F(),M(21,"button",14),L(22,"\u0412\u043E\u0439\u0442\u0438"),F()(),te(23,e3,2,1,"div",15),M(24,"p",16),L(25," \u041D\u0430\u0436\u0438\u043C\u0430\u044F \u043A\u043D\u043E\u043F\u043A\u0443 \u201C\u0412\u043E\u0439\u0442\u0438\u201D \u0412\u044B \u0441\u043E\u0433\u043B\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044C \u0441"),ye(26,"br"),M(27,"a",17),L(28,"\u043F\u043E\u043B\u0438\u0442\u0438\u043A\u043E\u0439 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445"),F()()(),M(29,"h4"),L(30,"\xA92024 \u041C\u0430\u0439\u043A\u043E\u043F\u0441\u043A\u0438\u0439 \u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0433\u0443\u043C\u0430\u043D\u0438\u0442\u0430\u0440\u043D\u043E-\u0442\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043A\u043E\u043B\u043B\u0435\u0434\u0436"),F()()()()),r&2&&(P(17),le("ngModel",s.form.username),P(3),le("ngModel",s.form.password),P(3),ve(23,s.error!=""?23:-1))},dependencies:[kn,Zt,Qt,Pn,Lt,xn],styles:[".left-panel[_ngcontent-%COMP%]{background-color:#4163cf;color:#fff;font-family:serif;font-family:Montserrat}.col[_ngcontent-%COMP%]{height:100vh}.wrap[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:55px;font-weight:400}h2[_ngcontent-%COMP%]{font-weight:300}h3[_ngcontent-%COMP%]{margin-top:.5%;font-weight:300}label[_ngcontent-%COMP%]{font-size:14pt;margin-bottom:5px;margin-top:30px;font-weight:300}p[_ngcontent-%COMP%]{font-size:14pt;margin-top:100px}.logo[_ngcontent-%COMP%]{width:40%;margin:0 auto 5%}.btn[_ngcontent-%COMP%]{background-color:#4163cf;color:#fff;font-size:18pt;font-weight:300;margin-top:40px}.alert[_ngcontent-%COMP%]{margin-top:30px}.right-panel[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}h4[_ngcontent-%COMP%]{position:absolute;font-size:10pt;opacity:.3;margin:0 auto;bottom:5px;text-align:center}@media (max-width: 1000px){h4[_ngcontent-%COMP%]{font-size:6pt}}@media (max-width: 768px){.row[_ngcontent-%COMP%]{height:100vh}}"]});let e=t;return e})();function t3(e){let t=e,i=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return n===0&&i%10===1&&i%100!==11?1:n===0&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?3:n===0&&i%10===0||n===0&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||n===0&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?4:5}var cE=["ru",[["AM","PM"],void 0,void 0],void 0,[["\u0412","\u041F","\u0412","\u0421","\u0427","\u041F","\u0421"],["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"],["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043E\u0442\u0430"],["\u0432\u0441","\u043F\u043D","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043F\u0442","\u0441\u0431"]],void 0,[["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440.","\u0430\u043F\u0440.","\u043C\u0430\u044F","\u0438\u044E\u043D.","\u0438\u044E\u043B.","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],["\u044F\u043D\u0432\u0430\u0440\u044F","\u0444\u0435\u0432\u0440\u0430\u043B\u044F","\u043C\u0430\u0440\u0442\u0430","\u0430\u043F\u0440\u0435\u043B\u044F","\u043C\u0430\u044F","\u0438\u044E\u043D\u044F","\u0438\u044E\u043B\u044F","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u043E\u043A\u0442\u044F\u0431\u0440\u044F","\u043D\u043E\u044F\u0431\u0440\u044F","\u0434\u0435\u043A\u0430\u0431\u0440\u044F"]],[["\u042F","\u0424","\u041C","\u0410","\u041C","\u0418","\u0418","\u0410","\u0421","\u041E","\u041D","\u0414"],["\u044F\u043D\u0432.","\u0444\u0435\u0432\u0440.","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440.","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433.","\u0441\u0435\u043D\u0442.","\u043E\u043A\u0442.","\u043D\u043E\u044F\u0431.","\u0434\u0435\u043A."],["\u044F\u043D\u0432\u0430\u0440\u044C","\u0444\u0435\u0432\u0440\u0430\u043B\u044C","\u043C\u0430\u0440\u0442","\u0430\u043F\u0440\u0435\u043B\u044C","\u043C\u0430\u0439","\u0438\u044E\u043D\u044C","\u0438\u044E\u043B\u044C","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u043E\u043A\u0442\u044F\u0431\u0440\u044C","\u043D\u043E\u044F\u0431\u0440\u044C","\u0434\u0435\u043A\u0430\u0431\u0440\u044C"]],[["\u0434\u043E \u043D.\u044D.","\u043D.\u044D."],["\u0434\u043E \u043D. \u044D.","\u043D. \u044D."],["\u0434\u043E \u0420\u043E\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043E\u0432\u0430","\u043E\u0442 \u0420\u043E\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043E\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,void 0,void 0],[",","\xA0",";","%","+","-","E","\xD7","\u2030","\u221E","\u043D\u0435\xA0\u0447\u0438\u0441\u043B\u043E",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"RUB","\u20BD","\u0440\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0438\u0439 \u0440\u0443\u0431\u043B\u044C",{BYN:[void 0,"\u0440."],GEL:[void 0,"\u10DA"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUB:["\u20BD"],RUR:["\u0440."],THB:["\u0E3F"],TMT:["\u0422\u041C\u0422"],TWD:["NT$"],UAH:["\u20B4"],XXX:["XXXX"]},"ltr",t3];var dE=()=>({standalone:!0});function n3(e,t){if(e&1&&(M(0,"option",24),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),it(" ",i.name," ")}}function i3(e,t){if(e&1&&(M(0,"option",24),L(1),F()),e&2){let i=t.$implicit;U("ngValue",i),P(),it(" ",i.name," ")}}function r3(e,t){if(e&1&&(M(0,"th",22),L(1),xp(2,"date"),F()),e&2){let i=t.$implicit;P(),de(Ly(2,1,i,"dd.MM.yyyy"))}}function s3(e,t){if(e&1&&(M(0,"td",22),L(1),F()),e&2){let i=t.$implicit;P(),de(i.score?i.score.value:"-")}}function o3(e,t){if(e&1&&(M(0,"tr")(1,"th",25),L(2),F(),Te(3,s3,2,1,"td",22,ct),F()),e&2){let i=t.$implicit;P(2),de(i.surname+" "+i.name),P(),Me(i.dates)}}function a3(e,t){if(e&1&&(M(0,"li",28)(1,"a",32),L(2),F()()),e&2){let i=t.$implicit;P(2),de(i)}}function u3(e,t){if(e&1&&(M(0,"div",23)(1,"nav",26)(2,"ul",27)(3,"li",28)(4,"a",29)(5,"span",30),L(6,"\xAB"),F()()(),Te(7,a3,3,1,"li",28,ct),M(9,"li",28)(10,"a",31)(11,"span",30),L(12,"\xBB"),F()()()()()()),e&2){let i=$();P(7),Me(i.range())}}var fE=(()=>{let t=class t{ValueSelected(){return qe(this,null,function*(){yield this.publicService.getScores(this.searchValue?this.searchValue:"none",new Date(this.selectedDate?.year,this.selectedDate?.month-1,this.selectedDate?.day,0,0,0,0),this.selectedSubject,this.selectedGroup).toPromise().then(n=>{this.journalItems=[],this.journalItems=n,this.dates=this.findUniqueDates(this.journalItems)}),this.getPages()})}range(){return Array.from({length:this.pagesCount},(n,r)=>r+1)}constructor(n,r){this.calendar=n,this.publicService=r,this.groups=[],this.subjects=[],this.journalItems=[],this.dates=[]}ngOnInit(){c_(cE,"ru"),this.selectedDate=this.calendar.getToday(),this.getGroup(),this.getSubjects()}getGroup(){return qe(this,null,function*(){yield this.publicService.getAllGroups().toPromise().then(n=>{this.groups=n?.sort(),this.selectedGroup=this.groups[0]})})}getSubjects(){return qe(this,null,function*(){yield this.publicService.getAllSubjects().subscribe(n=>{this.subjects=n.sort(),this.selectedSubject=this.subjects[0],this.getPages(),this.ValueSelected()})})}getPages(){return qe(this,null,function*(){yield this.publicService.getPagesCount(this.searchValue?this.searchValue:"none",new Date(this.selectedDate?.year,this.selectedDate?.month-1,this.selectedDate?.day,0,0,0,0),this.selectedSubject,this.selectedGroup).toPromise().then(n=>{this.pagesCount=n})})}findUniqueDates(n){let r=[];return n.forEach(s=>{s.dates.forEach(o=>{r.includes(o.date)||r.push(o.date)})}),r}};t.\u0275fac=function(r){return new(r||t)(J(Go),J(Kr))},t.\u0275cmp=Re({type:t,selectors:[["app-journal-page"]],decls:35,vars:11,consts:[["d","ngbDatepicker"],[1,"container","mt-3"],[1,"row"],[1,"col"],[1,"row","d-flex","gap-md-0"],[1,"col-6","col-md-2"],[1,"form-select",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-6","col-md-3"],[1,"col-12","col-md-3","my-2","my-md-0"],[2,"position","relative"],["type","text","placeholder","\u0433\u0433\u0433\u0433-\u043C\u043C-\u0434\u0434","name","dp","ngbDatepicker","",1,"form-control",2,"padding-right","36px",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","calendar",2,"position","absolute","top","0","right","0","z-index","1","border-radius","0px 5px 5px 0px","border","none",3,"click"],["aria-hidden","true",1,"fa","fa-calendar"],[1,"col-12","col-md-4"],[1,"input-group","mb-3"],["type","search","placeholder","\u041F\u043E\u0438\u0441\u043A...","aria-label","\u041F\u043E\u0438\u0441\u043A...","aria-describedby","basic-addon2",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["id","basic-addon2",1,"input-group-text","bg-primary","text-light",3,"click"],["aria-hidden","true",1,"fa","fa-search"],[1,"table-responsive-md"],[1,"table","table-bordered","border-secondary","align-middle","table-hover"],[1,"table-primary"],[1,"text-center"],[1,"d-flex","justify-content-end"],[3,"ngValue"],["scope","row"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"page-link"],["aria-hidden","true"],["aria-label","Next",1,"page-link"],[1,"page-link"]],template:function(r,s){if(r&1){let o=Ue();M(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"select",6),ce("ngModelChange",function(u){return q(o),fe(s.selectedGroup,u)||(s.selectedGroup=u),z(u)}),Z("change",function(){return q(o),z(s.ValueSelected())}),te(8,n3,2,2,"option",7),F()(),M(9,"div",8)(10,"select",6),ce("ngModelChange",function(u){return q(o),fe(s.selectedSubject,u)||(s.selectedSubject=u),z(u)}),Z("change",function(){return q(o),z(s.ValueSelected())}),te(11,i3,2,2,"option",7),F()(),M(12,"div",9)(13,"div",10)(14,"input",11,0),ce("ngModelChange",function(u){return q(o),fe(s.selectedDate,u)||(s.selectedDate=u),z(u)}),Z("ngModelChange",function(){return q(o),z(s.ValueSelected())}),F(),M(16,"button",12),Z("click",function(){q(o);let u=wo(15);return z(u.toggle())}),ye(17,"i",13),F()()(),M(18,"div",14)(19,"div",15)(20,"input",16),ce("ngModelChange",function(u){return q(o),fe(s.searchValue,u)||(s.searchValue=u),z(u)}),Z("keyup.enter",function(){return q(o),z(s.ValueSelected())}),F(),M(21,"button",17),Z("click",function(){return q(o),z(s.ValueSelected())}),ye(22,"i",18),F()()()()()()()(),M(23,"div",19)(24,"table",20)(25,"thead")(26,"tr",21)(27,"th"),L(28,"\u0421\u0442\u0443\u0434\u0435\u043D\u0442\u044B"),F(),Te(29,r3,3,4,"th",22,ct),F()(),M(31,"tbody"),Te(32,o3,5,1,"tr",null,ct),F()()(),te(34,u3,13,0,"div",23),F()}r&2&&(P(7),le("ngModel",s.selectedGroup),U("ngModelOptions",De(9,dE)),P(),U("ngForOf",s.groups),P(2),le("ngModel",s.selectedSubject),U("ngModelOptions",De(10,dE)),P(),U("ngForOf",s.subjects),P(3),le("ngModel",s.selectedDate),P(6),le("ngModel",s.searchValue),P(9),Me(s.dates),P(3),Me(s.journalItems),P(2),ve(34,s.range().length>0?34:-1))},dependencies:[Vr,Pw,di,fi,Zt,Bn,Qt,Lt,f_],styles:[".table[_ngcontent-%COMP%]{--bs-table-striped-bg: #D9E0F5 }.table-primary[_ngcontent-%COMP%]{--bs-table-bg: #a0b1e7}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd) > *[_ngcontent-%COMP%]{--bs-table-color-type: var(--bs-table-striped-color);--bs-table-bg-type: white}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(2n) > *[_ngcontent-%COMP%]{--bs-table-color-type: var(--bs-table-striped-color);--bs-table-bg-type: var(--bs-table-striped-bg)}.bg-5[_ngcontent-%COMP%]{--bs-table-bg-type: lime }"]});let e=t;return e})();var l3=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Zb},{path:"courses",component:rm},{path:"timetable",component:Xb},{path:"user-profile",component:ew},{path:"login",component:lE},{path:"server-error",component:rm},{path:"admin",component:aE},{path:"journal",component:fE},{path:"**",component:uE}],hE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Pe({imports:[iu.forRoot(l3),iu]});let e=t;return e})();var VE=QE(BE());var LE=(()=>{let t=class t{constructor(n,r,s){this.tokenService=n,this.router=r,this.authService=s}startTimer(){if(this.tokenService.getToken()!==null){let n=this.decodeToken(this.tokenService.getToken());if(n){let r=n.exp;r!==void 0?this.setupTimer(r):console.log("\u0412\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F \u0442\u043E\u043A\u0435\u043D\u0430 \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043E")}else console.log("\u0414\u0435\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0442\u043E\u043A\u0435\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D")}else console.log("\u0422\u043E\u043A\u0435\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D")}decodeToken(n){return VE.KJUR.jws.JWS.parse(n)?.payloadObj}setupTimer(n){let r=Math.floor(Date.now()/1e3),s=n-r;console.log(s*1e3-s*1e3/10),this.timerSubscription=cf(s*1e3-s*1e3/10).subscribe(()=>{this.updateToken()})}updateToken(){let n=this.tokenService.getRefreshToken();n?this.authService.refreshToken(n).subscribe(r=>{this.tokenService.saveToken(r.accessToken)},r=>{console.error("Error refreshing token:",r),this.handleTokenRefreshError()}):(console.error("Refresh token not available."),this.handleTokenRefreshError())}handleTokenRefreshError(){this.tokenService.signOut(),window.location.reload(),this.router.navigate(["/login"])}};t.\u0275fac=function(r){return new(r||t)(X(hn),X(Ct),X(vu))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function i5(e,t){e&1&&(M(0,"li",15)(1,"a",22),L(2,"\u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435"),F()())}function r5(e,t){if(e&1&&(M(0,"nav",2)(1,"div",4)(2,"a",5),ye(3,"img",6),F(),M(4,"button",7),ye(5,"span",8),F(),M(6,"div",9)(7,"ul",10)(8,"li",11)(9,"a",12),ye(10,"img",13),M(11,"p",14),L(12),F()()(),M(13,"li",15)(14,"a",16),L(15,"\u0413\u043B\u0430\u0432\u043D\u0430\u044F"),F()(),te(16,i5,3,0,"li",15),M(17,"li",15)(18,"a",17),L(19,"\u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0437\u0430\u043D\u044F\u0442\u0438\u0439"),F()(),M(20,"li",15)(21,"a",18),L(22,"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0436\u0443\u0440\u043D\u0430\u043B"),F()(),M(23,"li",15)(24,"a",19),L(25,"\u0414\u0438\u0441\u0446\u0438\u043F\u043B\u0438\u043D\u044B"),F()()()(),M(26,"div",20)(27,"a",21),ye(28,"img",13),M(29,"p",14),L(30),F()()()()()),e&2){let i=$();P(10),qi("src",i.profileImageHref,Gi),P(2),de(i.user.name+" "+i.user.surname),P(4),ve(16,i.isAdmin?16:-1),P(12),qi("src",i.profileImageHref,Gi),P(2),de(i.user.name+" "+i.user.surname)}}function s5(e,t){if(e&1){let i=Ue();M(0,"div",23)(1,"h4",24),L(2,"\u041E\u0448\u0438\u0431\u043A\u0430"),F(),M(3,"button",25),Z("click",function(){let r=q(i).$implicit;return z(r.dismiss("Cross click"))}),M(4,"span",26),L(5,"\xD7"),F()()(),M(6,"div",27)(7,"p"),L(8,"\u041F\u0440\u043E\u0434\u043B\u0438\u0442\u044C \u0441\u0435\u0441\u0441\u0438\u044E?"),F()(),M(9,"div",28)(10,"button",29),Z("click",function(){let r=q(i).$implicit;return z(r.close("Close click"))}),L(11," \u0417\u0430\u043A\u0440\u044B\u0442\u044C "),F()()}}var Qm=(()=>{let t=class t{get isAdmin(){return this._isAdmin}constructor(n,r,s,o){this.router=n,this.publicService=r,this.tokenStorage=s,this.refreshTokenService=o,this.title="EER",this.profileImageHref="",this._isAdmin=!1,s.getToken()!=null&&(this.getAvatar(),this.router.events.subscribe(a=>{a instanceof ci&&(this.currentRoute=a.url)}),this.getUser(),this._isAdmin=s.getUser().role=="admin"),o.startTimer()}getAvatar(){return qe(this,null,function*(){let n=yield this.publicService.getUsername(this.tokenStorage.getUser().userId).subscribe(r=>this.profileImageHref="https://api.dicebear.com/8.x/identicon/svg?seed="+r)})}getUser(){return qe(this,null,function*(){let n=yield this.publicService.getStudent(this.tokenStorage.getUser().userId).toPromise();if(n){let r=n;this.user=r}else console.error("Response data not found")})}};t.\u0275fac=function(r){return new(r||t)(J(Ct),J(Kr),J(hn),J(LE))},t.\u0275cmp=Re({type:t,selectors:[["app-root"]],decls:7,vars:1,consts:[["container",""],["content",""],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],["rel","stylesheet","href",Pv`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css`],[1,"container-fluid","justify-content-lg-center","justify-content-end"],["routerLink","/home",1,"navbar-brand","d-none","d-lg-block"],["src","../assets/header/logo.svg","alt",""],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0430\u0442\u0435\u043B\u044C \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438",1,"navbar-toggler"],[1,"navbar-toggler-icon","btn-secondary"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item","border-bottom"],["routerLink","/user-profile",1,"nav-link","d-flex","align-items-center","d-block","d-lg-none","m-3"],["alt","\u0410\u0432\u0430\u0442\u0430\u0440 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",1,"avatar",3,"src"],[1,"mx-2","mb-0"],[1,"nav-item","mx-3","my-1"],["aria-current","page","routerLink","/home",1,"nav-link"],["routerLink","/timetable",1,"nav-link"],["routerLink","/journal",1,"nav-link"],["routerLink","/courses",1,"nav-link"],[1,"profile"],["routerLink","/user-profile",1,"nav-link","align-items-center","d-none","d-lg-flex","profile-link"],["aria-current","page","routerLink","/admin",1,"nav-link"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(r,s){r&1&&(te(0,r5,31,5,"nav",2),oc(1,null,0),te(3,s5,12,0,"ng-template",null,1,Ia),ac(),ye(5,"router-outlet")(6,"link",3)),r&2&&ve(0,s.currentRoute!="/login"&&s.user?0:-1)},dependencies:[Lg,Ji],styles:['.bg-body-tertiary[_ngcontent-%COMP%]{background-color:#4163cf!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.navbar-toggler[_ngcontent-%COMP%]{filter:invert(1)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{transition:.3s;position:relative}.nav-link[_ngcontent-%COMP%]:after{content:"";display:block;width:100%;height:1px;background-color:#fff;transform:scale(0);transition:.3s;position:absolute;left:0;bottom:5px}.nav-link[_ngcontent-%COMP%]:hover.nav-link:after{transform:scale(1)}.profile-link[_ngcontent-%COMP%]:hover.nav-link:after{transform:scale(0)}.profile-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.2s}.profile-link[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}@media (max-width: 992px){.nav-link[_ngcontent-%COMP%]:hover.nav-link:after{transform:scale(0)}}@media (max-width: 1200px){.nav-link[_ngcontent-%COMP%]{font-size:8pt}}.avatar[_ngcontent-%COMP%]{border-radius:50%;width:40px;background:#fff}']});let e=t;return e})();var jE=(()=>{let t=class t{constructor(n){this.tokenService=n}intercept(n,r){let s=this.tokenService.getToken();return s&&(n=n.clone({setHeaders:{Authorization:`Bearer ${s}`}})),r.handle(n)}};t.\u0275fac=function(r){return new(r||t)(X(hn))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();var HE=(()=>{let t=class t{constructor(n){this.injector=n}handleError(n){console.error("Global error handler caught an error:",n),n.status}};t.\u0275fac=function(r){return new(r||t)(X(Bt))},t.\u0275prov=W({token:t,factory:t.\u0275fac});let e=t;return e})();var UE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ke({type:t,bootstrap:[Qm]}),t.\u0275inj=Pe({providers:[Qm,{provide:Zp,useClass:jE,multi:!0},{provide:ii,useClass:HE},{provide:Pr,useValue:"ru-RU"}],imports:[N_,hE,eE,iu,S_,Ac,Yb]});let e=t;return e})();R_().bootstrapModule(UE).catch(e=>console.error(e));
